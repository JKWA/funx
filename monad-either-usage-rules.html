<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.34.2">
    <meta name="project" content="funx v0.1.5">


    <title>Funx.Monad.Either Usage Rules — funx v0.1.5</title>
    <link rel="stylesheet" href="dist/html-elixir-F2VRIOKR.css" />


      <link rel="canonical" href="https://hexdocs.pm/funx/monad-either-usage-rules.html" />

    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-FD9C8F72.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-YIPIRHGU.js"></script>

  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

      <div>
        <a href="readme.html" class="sidebar-projectName" translate="no">
funx
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.1.5
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of funx</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/JKWA/funx/blob/v0.1.5/lib/monad/either/usage-rules.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>


    <span><code class="inline">Funx.Monad.Either</code> Usage Rules</span>
  </h1>

<h2 id="llm-functional-programming-foundation" class="section-heading">
  <a href="#llm-functional-programming-foundation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">LLM Functional Programming Foundation</span>
</h2>
<p><strong>Key Concepts for LLMs:</strong></p><p><strong>CRITICAL Elixir Implementation</strong>: All monadic operations are under <a href="Funx.Monad.html"><code class="inline">Funx.Monad</code></a> protocol</p><ul><li><strong>NO separate Functor/Applicative protocols</strong> - Elixir protocols cannot be extended after definition</li><li>Always use <code class="inline">Monad.map/2</code>, <code class="inline">Monad.bind/2</code>, <code class="inline">Monad.ap/2</code> or import <a href="Funx.Monad.html"><code class="inline">Funx.Monad</code></a></li><li>Different from Haskell's separate Functor, Applicative, Monad typeclasses</li></ul><p><strong>Either</strong>: Represents immediate success/failure with detailed error context</p><ul><li><code class="inline">left(error)</code> represents failure with error information</li><li><code class="inline">right(value)</code> represents success with the actual value</li><li><strong>Right-biased</strong>: Operations work on the Right (success) path</li><li><strong>Immediate/Synchronous</strong>: Values exist right now, no deferred execution</li><li><strong>No concurrency</strong>: All operations are synchronous - use Effect for async operations</li></ul><p><strong>Right-biased Monad</strong>: Operations transform Right values, preserve Left errors</p><ul><li><code class="inline">map/2</code>, <code class="inline">bind/2</code>, <code class="inline">ap/2</code> only operate on Right values</li><li>Left values (errors) pass through unchanged</li><li>Similar to Maybe but with error context preserved</li></ul><p><strong>Validation vs Error-handling</strong>: Two distinct patterns</p><ul><li><strong>Validation</strong>: Use <code class="inline">traverse_a/2</code> to collect ALL errors</li><li><strong>Error-handling</strong>: Use <code class="inline">bind/2</code> chains that stop on first error</li><li><strong>Critical difference</strong>: validation accumulates, error-handling short-circuits</li></ul><p><strong>Kleisli Functions</strong>: Functions <code class="inline">a -&gt; Either e b</code> (unwrapped input, wrapped output)</p><ul><li><strong>Primary use</strong>: <code class="inline">traverse/2</code>, <code class="inline">traverse_a/2</code>, and <code class="inline">concat_map/2</code> for list operations</li><li><strong>Individual use</strong>: <code class="inline">bind/2</code> for single Either values</li><li>Example: <code class="inline">validate_email :: String -&gt; Either ValidationError Email</code></li></ul><p><strong>Key List Operation Patterns:</strong></p><ul><li><code class="inline">concat([Either e a])</code> → <code class="inline">[a]</code> (extract all Right values, ignore Left)</li><li><code class="inline">concat_map([a], kleisli_fn)</code> → <code class="inline">[b]</code> (apply Kleisli, collect Right results)</li><li><code class="inline">traverse([a], kleisli_fn)</code> → <code class="inline">Either e [b]</code> (apply Kleisli, all succeed or first Left)</li><li><code class="inline">traverse_a([a], kleisli_fn)</code> → <code class="inline">Either [e] [b]</code> (apply Kleisli, all succeed or collect all Left)</li><li><code class="inline">sequence([Either e a])</code> → <code class="inline">Either e [a]</code> (like traverse with identity, first Left or all Right)</li></ul><p><strong>Sequence (Category Theory)</strong>: Transform type constructor order</p><ul><li><code class="inline">[Either e a]</code> → <code class="inline">Either e [a]</code> (list of Either becomes Either of list)</li><li>Fails fast: first Left value becomes the result</li><li>Success: all Right values collected into Right list</li></ul><h2 id="llm-decision-guide-when-to-use-either" class="section-heading">
  <a href="#llm-decision-guide-when-to-use-either" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">LLM Decision Guide: When to Use Either</span>
</h2>
<p><strong>✅ Use Either when:</strong></p><ul><li>Need specific error context/details</li><li>Multiple validation steps with different error types  </li><li>Business logic with detailed failure messages</li><li>Error recovery or different handling per error type</li><li>User says: &quot;validate&quot;, &quot;check&quot;, &quot;ensure&quot;, &quot;verify&quot;, &quot;error details&quot;</li></ul><p><strong>❌ Use Effect when:</strong></p><ul><li>Async operations (database calls, HTTP requests, file I/O)</li><li>Need concurrency or deferred execution</li><li>Operations that take significant time</li><li>User says: &quot;async&quot;, &quot;concurrent&quot;, &quot;fetch&quot;, &quot;call API&quot;</li></ul><p><strong>❌ Use Maybe when:</strong></p><ul><li>Simple presence/absence (no error context needed)</li><li>&quot;Not found&quot; is sufficient error information</li><li>Optional fields where missing is normal</li></ul><p><strong>⚡ Either Strategy Decision:</strong></p><ul><li><strong>Single operation error-handling</strong>: Use <code class="inline">bind/2</code> chains</li><li><strong>Multi-field validation</strong>: Use <code class="inline">validate/2</code> to collect all errors</li><li><strong>Transform success values</strong>: Use <code class="inline">map/2</code> with regular functions</li><li><strong>Combine Either values</strong>: Use <code class="inline">ap/2</code> for applicative patterns</li><li><strong>Convert from Maybe</strong>: Use <code class="inline">maybe_to_either/2</code> with error message</li><li><strong>Pattern match results</strong>: Use <code class="inline">%Left{left: error}</code> and <code class="inline">%Right{right: value}</code> struct patterns</li></ul><p><strong>⚙️ Function Choice Guide (Mathematical Purpose):</strong></p><ul><li><strong>Chain error-prone operations</strong>: <code class="inline">bind/2</code> with Kleisli functions</li><li><strong>Transform success values</strong>: <code class="inline">map/2</code> with regular functions</li><li><strong>Validate multiple fields</strong>: <code class="inline">validate/2</code> for comprehensive error collection</li><li><strong>Apply functions to multiple Either</strong>: <code class="inline">ap/2</code> for combining contexts</li><li><strong>Convert lists</strong>: <code class="inline">sequence/1</code> to collect successes or first failure</li><li><strong>Handle specific errors</strong>: Pattern match Left values for recovery</li></ul><h2 id="llm-context-clues" class="section-heading">
  <a href="#llm-context-clues" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">LLM Context Clues</span>
</h2>
<p><strong>User language → Either patterns:</strong></p><ul><li>&quot;validate user input&quot; → Use Either for validation with specific error messages</li><li>&quot;parse and validate&quot; → Chain with <code class="inline">bind/2</code> for step-by-step validation</li><li>&quot;check all fields&quot; → Use <code class="inline">validate/2</code> to collect all validation errors</li><li>&quot;detailed error messages&quot; → Left values contain specific error information</li><li>&quot;stop on first error&quot; → Use <code class="inline">bind/2</code> chains for fail-fast behavior</li><li>&quot;collect all errors&quot; → Use <code class="inline">validate/2</code> for comprehensive validation</li></ul><h2 id="quick-reference" class="section-heading">
  <a href="#quick-reference" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Quick Reference</span>
</h2>
<ul><li>Use <code class="inline">right(value)</code> for success, <code class="inline">left(error)</code> for failure</li><li>Chain operations with <code class="inline">bind/2</code> - stops on first Left (error)</li><li>Transform success values with <code class="inline">map/2</code> - leaves Left unchanged  </li><li>Use <code class="inline">bind/2</code> with identity to flatten nested Either values</li><li>Validate data comprehensively with <code class="inline">validate/2</code> - collects all errors</li><li><strong>Prefer <code class="inline">fold_l/3</code> over pattern matching</strong> for functional case analysis</li><li>Import <a href="Funx.Monad.html"><code class="inline">Funx.Monad</code></a> for <code class="inline">map</code>, <code class="inline">bind</code>, <code class="inline">ap</code> and <a href="Funx.Foldable.html"><code class="inline">Funx.Foldable</code></a> for <code class="inline">fold_l</code></li><li>Convert from Maybe with error context using helper functions</li></ul><h2 id="overview" class="section-heading">
  <a href="#overview" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Overview</span>
</h2>
<p><a href="Funx.Monad.Either.html"><code class="inline">Funx.Monad.Either</code></a> handles success/failure scenarios with detailed error context.</p><p>Use Either for:</p><ul><li>Parsing and validation with specific error messages</li><li>Operations that can fail in multiple ways</li><li>Business logic where error details matter for recovery</li><li>API responses where clients need error specifics</li></ul><p><strong>Key insight</strong>: Either represents &quot;success or failure&quot; with the failure carrying detailed information. Right-biased operations focus on the success path while preserving any errors encountered.</p><h2 id="constructors" class="section-heading">
  <a href="#constructors" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Constructors</span>
</h2>
<h3 id="right-1-wrap-a-success-value" class="section-heading">
  <a href="#right-1-wrap-a-success-value" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">right/1</code> - Wrap a Success Value</span>
</h3>
<p>Creates an Either representing success:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1715504192-1">(</span><span class="mi">42</span><span class="p" data-group-id="1715504192-1">)</span><span class="w">           </span><span class="c1"># Success: contains 42</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1715504192-2">(</span><span class="s">&quot;valid&quot;</span><span class="p" data-group-id="1715504192-2">)</span><span class="w">      </span><span class="c1"># Success: contains &quot;valid&quot;</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1715504192-3">(</span><span class="p" data-group-id="1715504192-4">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="1715504192-4">]</span><span class="p" data-group-id="1715504192-3">)</span><span class="w">    </span><span class="c1"># Success: contains [1, 2, 3]</span></code></pre><h3 id="left-1-wrap-an-error-value" class="section-heading">
  <a href="#left-1-wrap-an-error-value" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">left/1</code> - Wrap an Error Value</span>
</h3>
<p>Creates an Either representing failure:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="5713021930-1">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="5713021930-1">)</span><span class="w">                    </span><span class="c1"># Failure: contains error message</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="5713021930-2">(</span><span class="p" data-group-id="5713021930-3">{</span><span class="ss">:validation</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p" data-group-id="5713021930-3">}</span><span class="p" data-group-id="5713021930-2">)</span><span class="w">   </span><span class="c1"># Failure: structured error</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="5713021930-4">(</span><span class="p" data-group-id="5713021930-5">%</span><span class="nc" data-group-id="5713021930-5">ValidationError</span><span class="p" data-group-id="5713021930-5">{</span><span class="p" data-group-id="5713021930-5">}</span><span class="p" data-group-id="5713021930-4">)</span><span class="w">         </span><span class="c1"># Failure: error struct</span></code></pre><h3 id="pure-1-alias-for-right-1" class="section-heading">
  <a href="#pure-1-alias-for-right-1" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">pure/1</code> - Alias for <code class="inline">right/1</code></span>
</h3>
<p>Alternative constructor for success values:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">pure</span><span class="p" data-group-id="2631694367-1">(</span><span class="mi">42</span><span class="p" data-group-id="2631694367-1">)</span><span class="w">    </span><span class="c1"># Same as Either.right(42)</span></code></pre><h2 id="core-operations" class="section-heading">
  <a href="#core-operations" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Core Operations</span>
</h2>
<h3 id="map-2-transform-success-values" class="section-heading">
  <a href="#map-2-transform-success-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">map/2</code> - Transform Success Values</span>
</h3>
<p>Applies a function to Right values, leaves Left values unchanged:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8427198090-1">(</span><span class="s">&quot;hello&quot;</span><span class="p" data-group-id="8427198090-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map</span><span class="p" data-group-id="8427198090-2">(</span><span class="o">&amp;</span><span class="nc">String</span><span class="o">.</span><span class="n">upcase</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8427198090-2">)</span><span class="w">        </span><span class="c1"># right(&quot;HELLO&quot;)</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8427198090-3">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="8427198090-3">)</span><span class="w">  
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map</span><span class="p" data-group-id="8427198090-4">(</span><span class="o">&amp;</span><span class="nc">String</span><span class="o">.</span><span class="n">upcase</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8427198090-4">)</span><span class="w">        </span><span class="c1"># left(&quot;error&quot;) - function never runs</span></code></pre><p><strong>Use <code class="inline">map</code> when:</strong></p><ul><li>You want to transform the success value</li><li>The transformation function returns a plain value (not wrapped in Either)</li><li>You want to preserve the Either structure</li></ul><h3 id="bind-2-chain-error-prone-operations" class="section-heading">
  <a href="#bind-2-chain-error-prone-operations" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">bind/2</code> - Chain Error-Prone Operations</span>
</h3>
<p>Chains operations that return Either values, for fail-fast error handling:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># These functions return Either values</span><span class="w">
</span><span class="n">parse_int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="6768408946-1">fn</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
  </span><span class="k">case</span><span class="w"> </span><span class="nc">Integer</span><span class="o">.</span><span class="n">parse</span><span class="p" data-group-id="6768408946-2">(</span><span class="n">s</span><span class="p" data-group-id="6768408946-2">)</span><span class="w"> </span><span class="k" data-group-id="6768408946-3">do</span><span class="w">
    </span><span class="p" data-group-id="6768408946-4">{</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p" data-group-id="6768408946-4">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6768408946-5">(</span><span class="n">int</span><span class="p" data-group-id="6768408946-5">)</span><span class="w">
    </span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="6768408946-6">(</span><span class="s">&quot;Invalid integer: </span><span class="si" data-group-id="6768408946-7">#{</span><span class="n">s</span><span class="si" data-group-id="6768408946-7">}</span><span class="s">&quot;</span><span class="p" data-group-id="6768408946-6">)</span><span class="w">
  </span><span class="k" data-group-id="6768408946-3">end</span><span class="w">
</span><span class="k" data-group-id="6768408946-1">end</span><span class="w">

</span><span class="n">validate_positive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="6768408946-8">fn</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="6768408946-9">do</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6768408946-10">(</span><span class="n">n</span><span class="p" data-group-id="6768408946-10">)</span><span class="w">
  </span><span class="k" data-group-id="6768408946-9">else</span><span class="w"> 
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="6768408946-11">(</span><span class="s">&quot;Must be positive: </span><span class="si" data-group-id="6768408946-12">#{</span><span class="n">n</span><span class="si" data-group-id="6768408946-12">}</span><span class="s">&quot;</span><span class="p" data-group-id="6768408946-11">)</span><span class="w">
  </span><span class="k" data-group-id="6768408946-9">end</span><span class="w">
</span><span class="k" data-group-id="6768408946-8">end</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6768408946-13">(</span><span class="s">&quot;42&quot;</span><span class="p" data-group-id="6768408946-13">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="6768408946-14">(</span><span class="n">parse_int</span><span class="p" data-group-id="6768408946-14">)</span><span class="w">           </span><span class="c1"># right(42)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="6768408946-15">(</span><span class="n">validate_positive</span><span class="p" data-group-id="6768408946-15">)</span><span class="w">   </span><span class="c1"># right(42)</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6768408946-16">(</span><span class="s">&quot;invalid&quot;</span><span class="p" data-group-id="6768408946-16">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="6768408946-17">(</span><span class="n">parse_int</span><span class="p" data-group-id="6768408946-17">)</span><span class="w">           </span><span class="c1"># left(&quot;Invalid integer: invalid&quot;) - chain stops</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="6768408946-18">(</span><span class="n">validate_positive</span><span class="p" data-group-id="6768408946-18">)</span><span class="w">   </span><span class="c1"># left(&quot;Invalid integer: invalid&quot;) - never runs</span></code></pre><p><strong>Use <code class="inline">bind</code> when:</strong></p><ul><li>You're chaining operations that each can fail</li><li>Each step depends on the success of the previous step</li><li>You want fail-fast behavior (stop on first error)</li></ul><p><strong>Common bind pattern:</strong></p><pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">process_user_input</span><span class="p" data-group-id="8237139194-1">(</span><span class="n">input</span><span class="p" data-group-id="8237139194-1">)</span><span class="w"> </span><span class="k" data-group-id="8237139194-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8237139194-3">(</span><span class="n">input</span><span class="p" data-group-id="8237139194-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8237139194-4">(</span><span class="o">&amp;</span><span class="n">parse_user_data</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8237139194-4">)</span><span class="w">      </span><span class="c1"># String -&gt; Either Error UserData</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8237139194-5">(</span><span class="o">&amp;</span><span class="n">validate_user_data</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8237139194-5">)</span><span class="w">   </span><span class="c1"># UserData -&gt; Either Error ValidUser</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8237139194-6">(</span><span class="o">&amp;</span><span class="n">save_user</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8237139194-6">)</span><span class="w">            </span><span class="c1"># ValidUser -&gt; Either Error SavedUser</span><span class="w">
</span><span class="k" data-group-id="8237139194-2">end</span></code></pre><h3 id="ap-2-apply-functions-across-either-values" class="section-heading">
  <a href="#ap-2-apply-functions-across-either-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">ap/2</code> - Apply Functions Across Either Values</span>
</h3>
<p>Applies a function in an Either to a value in an Either:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># Apply a wrapped function to wrapped values</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8760852594-1">(</span><span class="k" data-group-id="8760852594-2">fn</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="k" data-group-id="8760852594-2">end</span><span class="p" data-group-id="8760852594-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="8760852594-3">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8760852594-4">(</span><span class="mi">5</span><span class="p" data-group-id="8760852594-4">)</span><span class="p" data-group-id="8760852594-3">)</span><span class="w">          </span><span class="c1"># right(15)</span><span class="w">

</span><span class="c1"># Combine multiple Either values</span><span class="w">
</span><span class="n">add</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="8760852594-5">fn</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k" data-group-id="8760852594-6">fn</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="k" data-group-id="8760852594-6">end</span><span class="w"> </span><span class="k" data-group-id="8760852594-5">end</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8760852594-7">(</span><span class="n">add</span><span class="p" data-group-id="8760852594-7">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="8760852594-8">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8760852594-9">(</span><span class="mi">3</span><span class="p" data-group-id="8760852594-9">)</span><span class="p" data-group-id="8760852594-8">)</span><span class="w">          </span><span class="c1"># right(fn y -&gt; 3 + y end)  </span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="8760852594-10">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8760852594-11">(</span><span class="mi">4</span><span class="p" data-group-id="8760852594-11">)</span><span class="p" data-group-id="8760852594-10">)</span><span class="w">          </span><span class="c1"># right(7)</span><span class="w">

</span><span class="c1"># If any value is left, result is left</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8760852594-12">(</span><span class="n">add</span><span class="p" data-group-id="8760852594-12">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="8760852594-13">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8760852594-14">(</span><span class="s">&quot;error1&quot;</span><span class="p" data-group-id="8760852594-14">)</span><span class="p" data-group-id="8760852594-13">)</span><span class="w">    </span><span class="c1"># left(&quot;error1&quot;)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="8760852594-15">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8760852594-16">(</span><span class="mi">4</span><span class="p" data-group-id="8760852594-16">)</span><span class="p" data-group-id="8760852594-15">)</span><span class="w">          </span><span class="c1"># left(&quot;error1&quot;)</span></code></pre><p><strong>Use <code class="inline">ap</code> when:</strong></p><ul><li>You want to apply a function to multiple Either values</li><li>You need all values to be Right for the operation to succeed</li><li>You're implementing applicative patterns</li></ul><h3 id="flattening-nested-either-values-with-bind" class="section-heading">
  <a href="#flattening-nested-either-values-with-bind" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Flattening Nested Either Values with <code class="inline">bind</code></span>
</h3>
<p>Since there's no <code class="inline">join/1</code> function, use <code class="inline">bind/2</code> with the identity function to flatten nested Either values:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># Flatten nested Right using bind</span><span class="w">
</span><span class="n">nested_right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="4156879452-1">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="4156879452-2">(</span><span class="mi">42</span><span class="p" data-group-id="4156879452-2">)</span><span class="p" data-group-id="4156879452-1">)</span><span class="w">
</span><span class="n">bind</span><span class="p" data-group-id="4156879452-3">(</span><span class="n">nested_right</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="4156879452-4">fn</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="k" data-group-id="4156879452-4">end</span><span class="p" data-group-id="4156879452-3">)</span><span class="w">    </span><span class="c1"># right(42)</span><span class="w">

</span><span class="c1"># Left in outer - stays Left</span><span class="w">
</span><span class="n">outer_left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="4156879452-5">(</span><span class="s">&quot;outer error&quot;</span><span class="p" data-group-id="4156879452-5">)</span><span class="w">
</span><span class="n">bind</span><span class="p" data-group-id="4156879452-6">(</span><span class="n">outer_left</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="4156879452-7">fn</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="k" data-group-id="4156879452-7">end</span><span class="p" data-group-id="4156879452-6">)</span><span class="w">      </span><span class="c1"># left(&quot;outer error&quot;)</span><span class="w">

</span><span class="c1"># Left in inner - becomes Left</span><span class="w">
</span><span class="n">inner_left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="4156879452-8">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="4156879452-9">(</span><span class="s">&quot;inner error&quot;</span><span class="p" data-group-id="4156879452-9">)</span><span class="p" data-group-id="4156879452-8">)</span><span class="w">
</span><span class="n">bind</span><span class="p" data-group-id="4156879452-10">(</span><span class="n">inner_left</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="4156879452-11">fn</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="k" data-group-id="4156879452-11">end</span><span class="p" data-group-id="4156879452-10">)</span><span class="w">      </span><span class="c1"># left(&quot;inner error&quot;)</span></code></pre><p><strong>Use this pattern when:</strong></p><ul><li>You have nested Either values that need flattening</li><li>You're implementing monadic operations manually</li><li>You're working with higher-order Either computations</li></ul><h2 id="list-operations" class="section-heading">
  <a href="#list-operations" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">List Operations</span>
</h2>
<h3 id="concat-1-extract-all-right-values" class="section-heading">
  <a href="#concat-1-extract-all-right-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">concat/1</code> - Extract All Right Values</span>
</h3>
<p>Removes all Left values and unwraps Right values from a list:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">concat</span><span class="p" data-group-id="8512062620-1">(</span><span class="p" data-group-id="8512062620-2">[</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8512062620-3">(</span><span class="mi">1</span><span class="p" data-group-id="8512062620-3">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8512062620-4">(</span><span class="s">&quot;error1&quot;</span><span class="p" data-group-id="8512062620-4">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8512062620-5">(</span><span class="mi">3</span><span class="p" data-group-id="8512062620-5">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8512062620-6">(</span><span class="s">&quot;error2&quot;</span><span class="p" data-group-id="8512062620-6">)</span><span class="w">
</span><span class="p" data-group-id="8512062620-2">]</span><span class="p" data-group-id="8512062620-1">)</span><span class="w">                              </span><span class="c1"># [1, 3]</span></code></pre><h3 id="validate-2-comprehensive-data-validation" class="section-heading">
  <a href="#validate-2-comprehensive-data-validation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">validate/2</code> - Comprehensive Data Validation</span>
</h3>
<p>The high-level validation function that collects ALL errors from multiple validators:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># Basic validation with error lists</span><span class="w">
</span><span class="n">validate_positive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="1001097337-1">fn</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1001097337-2">(</span><span class="n">n</span><span class="p" data-group-id="1001097337-2">)</span><span class="p">,</span><span class="w"> </span><span class="ss">else</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="1001097337-3">(</span><span class="p" data-group-id="1001097337-4">[</span><span class="s">&quot;Must be positive&quot;</span><span class="p" data-group-id="1001097337-4">]</span><span class="p" data-group-id="1001097337-3">)</span><span class="w">
</span><span class="k" data-group-id="1001097337-1">end</span><span class="w">

</span><span class="n">validate_even</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="1001097337-5">fn</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="n">rem</span><span class="p" data-group-id="1001097337-6">(</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="1001097337-6">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1001097337-7">(</span><span class="n">n</span><span class="p" data-group-id="1001097337-7">)</span><span class="p">,</span><span class="w"> </span><span class="ss">else</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="1001097337-8">(</span><span class="p" data-group-id="1001097337-9">[</span><span class="s">&quot;Must be even&quot;</span><span class="p" data-group-id="1001097337-9">]</span><span class="p" data-group-id="1001097337-8">)</span><span class="w">
</span><span class="k" data-group-id="1001097337-5">end</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="1001097337-10">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1001097337-11">[</span><span class="n">validate_positive</span><span class="p">,</span><span class="w"> </span><span class="n">validate_even</span><span class="p" data-group-id="1001097337-11">]</span><span class="p" data-group-id="1001097337-10">)</span><span class="w">
</span><span class="c1"># left([&quot;Must be even&quot;])</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="1001097337-12">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1001097337-13">[</span><span class="n">validate_positive</span><span class="p">,</span><span class="w"> </span><span class="n">validate_even</span><span class="p" data-group-id="1001097337-13">]</span><span class="p" data-group-id="1001097337-12">)</span><span class="w">  
</span><span class="c1"># left([&quot;Must be positive&quot;])</span></code></pre><p><strong>Use <code class="inline">validate</code> when:</strong></p><ul><li>You need comprehensive validation with ALL error details</li><li>You're validating forms or user input</li><li>You want to show users all validation problems at once</li><li>You need to apply multiple validation rules to a single value</li></ul><h3 id="validation-with-validationerror" class="section-heading">
  <a href="#validation-with-validationerror" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Validation with ValidationError</span>
</h3>
<p>For comprehensive domain validation with structured error handling, use <a href="Funx.Errors.ValidationError.html"><code class="inline">Funx.Errors.ValidationError</code></a>:</p><pre><code class="makeup elixir" translate="no"><span class="kn">alias</span><span class="w"> </span><span class="nc">Funx.Errors.ValidationError</span><span class="w">

</span><span class="c1"># Wrap simple errors in ValidationError</span><span class="w">
</span><span class="n">validate_age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="7587759579-1">fn</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_predicate</span><span class="p" data-group-id="7587759579-2">(</span><span class="n">age</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="p" data-group-id="7587759579-3">(</span><span class="ni">&amp;1</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">18</span><span class="p" data-group-id="7587759579-3">)</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Must be 18 or older&quot;</span><span class="p" data-group-id="7587759579-2">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">map_left</span><span class="p" data-group-id="7587759579-4">(</span><span class="o">&amp;</span><span class="nc">ValidationError</span><span class="o">.</span><span class="n">new</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="7587759579-4">)</span><span class="w">
</span><span class="k" data-group-id="7587759579-1">end</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="7587759579-5">(</span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7587759579-6">[</span><span class="n">validate_age</span><span class="p" data-group-id="7587759579-6">]</span><span class="p" data-group-id="7587759579-5">)</span><span class="w">
</span><span class="c1"># left(ValidationError{errors: [&quot;Must be 18 or older&quot;]})</span></code></pre><p><strong>See <code class="inline">ValidationError</code> usage rules for advanced patterns:</strong></p><ul><li>Curried validation functions with <code class="inline">curry_r/1</code></li><li>Fallback validation with <code class="inline">Either.or_else/2</code></li><li>Error message transformation techniques</li><li>Group validation with <code class="inline">traverse/2</code> and <code class="inline">traverse_a/2</code></li><li>Sequential vs comprehensive validation strategies</li></ul><h3 id="concat_map-2-apply-function-and-collect-rights" class="section-heading">
  <a href="#concat_map-2-apply-function-and-collect-rights" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">concat_map/2</code> - Apply Function and Collect Rights</span>
</h3>
<p>Applies a function to each element, collecting only Right results:</p><h3 id="traverse-2-apply-kleisli-to-list-first-error-or-all-success" class="section-heading">
  <a href="#traverse-2-apply-kleisli-to-list-first-error-or-all-success" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">traverse/2</code> - Apply Kleisli to List (First Error or All Success)</span>
</h3>
<p>Applies a Kleisli function to each element, stopping at first Left:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># Kleisli function: String -&gt; Either String Integer</span><span class="w">
</span><span class="n">parse_number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="8853363057-1">fn</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">case</span><span class="w"> </span><span class="nc">Integer</span><span class="o">.</span><span class="n">parse</span><span class="p" data-group-id="8853363057-2">(</span><span class="n">str</span><span class="p" data-group-id="8853363057-2">)</span><span class="w"> </span><span class="k" data-group-id="8853363057-3">do</span><span class="w">
    </span><span class="p" data-group-id="8853363057-4">{</span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p" data-group-id="8853363057-4">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8853363057-5">(</span><span class="n">num</span><span class="p" data-group-id="8853363057-5">)</span><span class="w">
    </span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8853363057-6">(</span><span class="s">&quot;Invalid number: </span><span class="si" data-group-id="8853363057-7">#{</span><span class="n">str</span><span class="si" data-group-id="8853363057-7">}</span><span class="s">&quot;</span><span class="p" data-group-id="8853363057-6">)</span><span class="w">
  </span><span class="k" data-group-id="8853363057-3">end</span><span class="w">
</span><span class="k" data-group-id="8853363057-1">end</span><span class="w">

</span><span class="c1"># All succeed - get Either list</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse</span><span class="p" data-group-id="8853363057-8">(</span><span class="p" data-group-id="8853363057-9">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p" data-group-id="8853363057-9">]</span><span class="p">,</span><span class="w"> </span><span class="n">parse_number</span><span class="p" data-group-id="8853363057-8">)</span><span class="w">  </span><span class="c1"># right([1, 2, 3])</span><span class="w">

</span><span class="c1"># First failure stops processing</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse</span><span class="p" data-group-id="8853363057-10">(</span><span class="p" data-group-id="8853363057-11">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p" data-group-id="8853363057-11">]</span><span class="p">,</span><span class="w"> </span><span class="n">parse_number</span><span class="p" data-group-id="8853363057-10">)</span><span class="w">  
</span><span class="c1"># left(&quot;Invalid number: invalid&quot;)</span></code></pre><p><strong>Use <code class="inline">traverse</code> when:</strong></p><ul><li>All operations must succeed for meaningful result</li><li>You want fail-fast behavior on lists</li><li>Converting <code class="inline">[a]</code> to <code class="inline">Either e [b]</code> with validation</li></ul><h3 id="traverse_a-2-apply-kleisli-to-list-collect-all-errors" class="section-heading">
  <a href="#traverse_a-2-apply-kleisli-to-list-collect-all-errors" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">traverse_a/2</code> - Apply Kleisli to List (Collect All Errors)</span>
</h3>
<p>Applies a Kleisli function to each element, collecting ALL errors:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># Same Kleisli function as above, but returns error lists for accumulation</span><span class="w">
</span><span class="n">validate_number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="8437128217-1">fn</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">case</span><span class="w"> </span><span class="nc">Integer</span><span class="o">.</span><span class="n">parse</span><span class="p" data-group-id="8437128217-2">(</span><span class="n">str</span><span class="p" data-group-id="8437128217-2">)</span><span class="w"> </span><span class="k" data-group-id="8437128217-3">do</span><span class="w">
    </span><span class="p" data-group-id="8437128217-4">{</span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p" data-group-id="8437128217-4">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8437128217-5">(</span><span class="n">num</span><span class="p" data-group-id="8437128217-5">)</span><span class="w">
    </span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8437128217-6">(</span><span class="p" data-group-id="8437128217-7">[</span><span class="s">&quot;Invalid number: </span><span class="si" data-group-id="8437128217-8">#{</span><span class="n">str</span><span class="si" data-group-id="8437128217-8">}</span><span class="s">&quot;</span><span class="p" data-group-id="8437128217-7">]</span><span class="p" data-group-id="8437128217-6">)</span><span class="w">  </span><span class="c1"># List for accumulation</span><span class="w">
  </span><span class="k" data-group-id="8437128217-3">end</span><span class="w">
</span><span class="k" data-group-id="8437128217-1">end</span><span class="w">

</span><span class="c1"># Collect ALL errors</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="8437128217-9">(</span><span class="p" data-group-id="8437128217-10">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bad&quot;</span><span class="p" data-group-id="8437128217-10">]</span><span class="p">,</span><span class="w"> </span><span class="n">validate_number</span><span class="p" data-group-id="8437128217-9">)</span><span class="w">
</span><span class="c1"># left([&quot;Invalid number: invalid&quot;, &quot;Invalid number: bad&quot;])</span><span class="w">

</span><span class="c1"># All succeed - get Right list</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="8437128217-11">(</span><span class="p" data-group-id="8437128217-12">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p" data-group-id="8437128217-12">]</span><span class="p">,</span><span class="w"> </span><span class="n">validate_number</span><span class="p" data-group-id="8437128217-11">)</span><span class="w">  </span><span class="c1"># right([1, 2, 3])</span></code></pre><p><strong>Use <code class="inline">traverse_a</code> when:</strong></p><ul><li>You want to collect ALL errors from validation</li><li>You need comprehensive error reporting</li><li>You're implementing validation that shows all problems at once</li></ul><h3 id="concat_map-2-apply-kleisli-to-list-collect-successes" class="section-heading">
  <a href="#concat_map-2-apply-kleisli-to-list-collect-successes" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">concat_map/2</code> - Apply Kleisli to List (Collect Successes)</span>
</h3>
<p>Applies a Kleisli function to each element, collecting only successful results:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># Collect only successes - get plain list</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">concat_map</span><span class="p" data-group-id="2513192586-1">(</span><span class="p" data-group-id="2513192586-2">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bad&quot;</span><span class="p" data-group-id="2513192586-2">]</span><span class="p">,</span><span class="w"> </span><span class="n">parse_number</span><span class="p" data-group-id="2513192586-1">)</span><span class="w">  </span><span class="c1"># [1, 3]</span><span class="w">

</span><span class="c1"># All succeed - get all results</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">concat_map</span><span class="p" data-group-id="2513192586-3">(</span><span class="p" data-group-id="2513192586-4">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p" data-group-id="2513192586-4">]</span><span class="p">,</span><span class="w"> </span><span class="n">parse_number</span><span class="p" data-group-id="2513192586-3">)</span><span class="w">  </span><span class="c1"># [1, 2, 3]</span><span class="w">

</span><span class="c1"># All fail - get empty list</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">concat_map</span><span class="p" data-group-id="2513192586-5">(</span><span class="p" data-group-id="2513192586-6">[</span><span class="s">&quot;bad&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="2513192586-6">]</span><span class="p">,</span><span class="w"> </span><span class="n">parse_number</span><span class="p" data-group-id="2513192586-5">)</span><span class="w">  </span><span class="c1"># []</span></code></pre><p><strong>Use <code class="inline">concat_map</code> when:</strong></p><ul><li>Partial success is acceptable</li><li>You want to collect all valid results</li><li>You need resilient processing that continues on failure</li></ul><h3 id="sequence-1-convert-list-of-either-to-either-list" class="section-heading">
  <a href="#sequence-1-convert-list-of-either-to-either-list" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">sequence/1</code> - Convert List of Either to Either List</span>
</h3>
<p>Converts <code class="inline">[Either e a]</code> to <code class="inline">Either e [a]</code> - equivalent to <code class="inline">traverse</code> with identity function:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># All success - collect values</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">sequence</span><span class="p" data-group-id="6840990774-1">(</span><span class="p" data-group-id="6840990774-2">[</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6840990774-3">(</span><span class="mi">1</span><span class="p" data-group-id="6840990774-3">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6840990774-4">(</span><span class="mi">2</span><span class="p" data-group-id="6840990774-4">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6840990774-5">(</span><span class="mi">3</span><span class="p" data-group-id="6840990774-5">)</span><span class="w">
</span><span class="p" data-group-id="6840990774-2">]</span><span class="p" data-group-id="6840990774-1">)</span><span class="w">                              </span><span class="c1"># right([1, 2, 3])</span><span class="w">

</span><span class="c1"># First failure stops and returns that error</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">sequence</span><span class="p" data-group-id="6840990774-6">(</span><span class="p" data-group-id="6840990774-7">[</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6840990774-8">(</span><span class="mi">1</span><span class="p" data-group-id="6840990774-8">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="6840990774-9">(</span><span class="s">&quot;error2&quot;</span><span class="p" data-group-id="6840990774-9">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="6840990774-10">(</span><span class="s">&quot;error3&quot;</span><span class="p" data-group-id="6840990774-10">)</span><span class="w">
</span><span class="p" data-group-id="6840990774-7">]</span><span class="p" data-group-id="6840990774-6">)</span><span class="w">                              </span><span class="c1"># left(&quot;error2&quot;)</span><span class="w">

</span><span class="c1"># Relationship to traverse</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">sequence</span><span class="p" data-group-id="6840990774-11">(</span><span class="n">either_list</span><span class="p" data-group-id="6840990774-11">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse</span><span class="p" data-group-id="6840990774-12">(</span><span class="n">either_list</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="6840990774-13">fn</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="k" data-group-id="6840990774-13">end</span><span class="p" data-group-id="6840990774-12">)</span></code></pre><p><strong>Use <code class="inline">sequence</code> when:</strong></p><ul><li>You have a list of Either values from previous computations</li><li>You want all to succeed, or the first failure</li><li>You're collecting results from multiple operations</li></ul><h3 id="operation-comparison" class="section-heading">
  <a href="#operation-comparison" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Operation Comparison</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">user_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="4198793065-1">[</span><span class="s">&quot;valid@email.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid-email&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;another@valid.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bad-format&quot;</span><span class="p" data-group-id="4198793065-1">]</span><span class="w">

</span><span class="c1"># traverse: Stop at first error</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse</span><span class="p" data-group-id="4198793065-2">(</span><span class="n">user_data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_email</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="4198793065-2">)</span><span class="w">
</span><span class="c1"># left(&quot;Invalid email format: invalid-email&quot;)</span><span class="w">

</span><span class="c1"># traverse_a: Collect all errors  </span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="4198793065-3">(</span><span class="n">user_data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_email_with_list_error</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="4198793065-3">)</span><span class="w">
</span><span class="c1"># left([&quot;Invalid email format: invalid-email&quot;, &quot;Invalid email format: bad-format&quot;])</span><span class="w">

</span><span class="c1"># concat_map: Collect successes, ignore failures</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">concat_map</span><span class="p" data-group-id="4198793065-4">(</span><span class="n">user_data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_email</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="4198793065-4">)</span><span class="w">
</span><span class="c1"># [&quot;valid@email.com&quot;, &quot;another@valid.com&quot;]</span></code></pre><h2 id="validation" class="section-heading">
  <a href="#validation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Validation</span>
</h2>
<p>Validation is a specialized use of Either for comprehensive error collection.</p><p>See the <code class="inline">validate/2</code> function in the List Operations section above.</p><h2 id="lifting" class="section-heading">
  <a href="#lifting" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Lifting</span>
</h2>
<h3 id="lift_predicate-3-convert-predicate-to-either" class="section-heading">
  <a href="#lift_predicate-3-convert-predicate-to-either" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">lift_predicate/3</code> - Convert Predicate to Either</span>
</h3>
<p>Converts a predicate function into Either-returning validation:</p><pre><code class="makeup elixir" translate="no"><span class="n">validate_positive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_predicate</span><span class="p" data-group-id="6651852110-1">(</span><span class="o">&amp;</span><span class="p" data-group-id="6651852110-2">(</span><span class="ni">&amp;1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="6651852110-2">)</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Must be positive&quot;</span><span class="p" data-group-id="6651852110-1">)</span><span class="w">

</span><span class="n">validate_positive</span><span class="o">.</span><span class="p" data-group-id="6651852110-3">(</span><span class="mi">5</span><span class="p" data-group-id="6651852110-3">)</span><span class="w">   </span><span class="c1"># right(5)</span><span class="w">
</span><span class="n">validate_positive</span><span class="o">.</span><span class="p" data-group-id="6651852110-4">(</span><span class="o">-</span><span class="mi">1</span><span class="p" data-group-id="6651852110-4">)</span><span class="w">  </span><span class="c1"># left(&quot;Must be positive&quot;)</span></code></pre><h3 id="lift_maybe-2-convert-maybe-to-either" class="section-heading">
  <a href="#lift_maybe-2-convert-maybe-to-either" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">lift_maybe/2</code> - Convert Maybe to Either</span>
</h3>
<p>Converts a Maybe to Either with error context:</p><pre><code class="makeup elixir" translate="no"><span class="n">maybe_user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Maybe</span><span class="o">.</span><span class="n">just</span><span class="p" data-group-id="7088767141-1">(</span><span class="p" data-group-id="7088767141-2">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p" data-group-id="7088767141-2">}</span><span class="p" data-group-id="7088767141-1">)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_maybe</span><span class="p" data-group-id="7088767141-3">(</span><span class="n">maybe_user</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;User not found&quot;</span><span class="p" data-group-id="7088767141-3">)</span><span class="w">  </span><span class="c1"># right(%{name: &quot;Alice&quot;})</span><span class="w">

</span><span class="nc">Maybe</span><span class="o">.</span><span class="n">nothing</span><span class="p" data-group-id="7088767141-4">(</span><span class="p" data-group-id="7088767141-4">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_maybe</span><span class="p" data-group-id="7088767141-5">(</span><span class="s">&quot;User not found&quot;</span><span class="p" data-group-id="7088767141-5">)</span><span class="w">  </span><span class="c1"># left(&quot;User not found&quot;)</span></code></pre><h3 id="lift_eq-1-and-lift_ord-1-lift-comparison-functions" class="section-heading">
  <a href="#lift_eq-1-and-lift_ord-1-lift-comparison-functions" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">lift_eq/1</code> and <code class="inline">lift_ord/1</code> - Lift Comparison Functions</span>
</h3>
<p>Lifts comparison functions for use in Either context:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># Lift equality for Either values</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_eq</span><span class="p" data-group-id="2827667576-1">(</span><span class="o">&amp;</span><span class="o">==</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="2827667576-1">)</span><span class="w">

</span><span class="c1"># Lift ordering for Either values  </span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_ord</span><span class="p" data-group-id="2827667576-2">(</span><span class="o">&amp;</span><span class="n">compare</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="2827667576-2">)</span></code></pre><h2 id="elixir-interoperability" class="section-heading">
  <a href="#elixir-interoperability" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Elixir Interoperability</span>
</h2>
<h3 id="from_result-1-convert-from-result-tuples" class="section-heading">
  <a href="#from_result-1-convert-from-result-tuples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">from_result/1</code> - Convert from Result Tuples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert from {:ok, value} | {:error, reason} tuples</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">from_result</span><span class="p" data-group-id="4446018212-1">(</span><span class="p" data-group-id="4446018212-2">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="mi">42</span><span class="p" data-group-id="4446018212-2">}</span><span class="p" data-group-id="4446018212-1">)</span><span class="w">         </span><span class="c1"># right(42)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">from_result</span><span class="p" data-group-id="4446018212-3">(</span><span class="p" data-group-id="4446018212-4">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;fail&quot;</span><span class="p" data-group-id="4446018212-4">}</span><span class="p" data-group-id="4446018212-3">)</span><span class="w">  </span><span class="c1"># left(&quot;fail&quot;)</span></code></pre><h3 id="to_result-1-convert-to-result-tuples" class="section-heading">
  <a href="#to_result-1-convert-to-result-tuples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">to_result/1</code> - Convert to Result Tuples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert to {:ok, value} | {:error, reason} tuples</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">to_result</span><span class="p" data-group-id="5847411168-1">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5847411168-2">(</span><span class="mi">42</span><span class="p" data-group-id="5847411168-2">)</span><span class="p" data-group-id="5847411168-1">)</span><span class="w">        </span><span class="c1"># {:ok, 42}</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">to_result</span><span class="p" data-group-id="5847411168-3">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="5847411168-4">(</span><span class="s">&quot;fail&quot;</span><span class="p" data-group-id="5847411168-4">)</span><span class="p" data-group-id="5847411168-3">)</span><span class="w">     </span><span class="c1"># {:error, &quot;fail&quot;}</span></code></pre><h3 id="from_try-1-safe-function-execution" class="section-heading">
  <a href="#from_try-1-safe-function-execution" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">from_try/1</code> - Safe Function Execution</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Run function safely, catching exceptions</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">from_try</span><span class="p" data-group-id="5139921974-1">(</span><span class="k" data-group-id="5139921974-2">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="5139921974-2">end</span><span class="p" data-group-id="5139921974-1">)</span><span class="w">  </span><span class="c1"># left(%ArithmeticError{})</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">from_try</span><span class="p" data-group-id="5139921974-3">(</span><span class="k" data-group-id="5139921974-4">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k" data-group-id="5139921974-4">end</span><span class="p" data-group-id="5139921974-3">)</span><span class="w">  </span><span class="c1"># right(21.0)</span></code></pre><h3 id="to_try-1-unwrap-or-raise" class="section-heading">
  <a href="#to_try-1-unwrap-or-raise" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">to_try!/1</code> - Unwrap or Raise</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">to_try!</span><span class="p" data-group-id="9126824557-1">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="9126824557-2">(</span><span class="mi">42</span><span class="p" data-group-id="9126824557-2">)</span><span class="p" data-group-id="9126824557-1">)</span><span class="w">       </span><span class="c1"># 42</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">to_try!</span><span class="p" data-group-id="9126824557-3">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="9126824557-4">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="9126824557-4">)</span><span class="p" data-group-id="9126824557-3">)</span><span class="w">   </span><span class="c1"># raises RuntimeError: &quot;error&quot;</span></code></pre><h2 id="folding-either-values" class="section-heading">
  <a href="#folding-either-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Folding Either Values</span>
</h2>
<p><strong>Core Concept</strong>: Both <code class="inline">Left</code> and <code class="inline">Right</code> implement the <a href="Funx.Foldable.html"><code class="inline">Funx.Foldable</code></a> protocol, providing <code class="inline">fold_l/3</code> for catamorphism (breaking down data structures).</p><h3 id="fold_l-3-functional-case-analysis" class="section-heading">
  <a href="#fold_l-3-functional-case-analysis" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">fold_l/3</code> - Functional Case Analysis</span>
</h3>
<p>The fundamental operation for handling Either values without pattern matching:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># fold_l(either_value, right_function, left_function)</span><span class="w">
</span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="1162010204-1">(</span><span class="n">either_value</span><span class="p">,</span><span class="w"> 
  </span><span class="k" data-group-id="1162010204-2">fn</span><span class="w"> </span><span class="n">success_value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Success: </span><span class="si" data-group-id="1162010204-3">#{</span><span class="n">success_value</span><span class="si" data-group-id="1162010204-3">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="1162010204-2">end</span><span class="p">,</span><span class="w">  </span><span class="c1"># Right case</span><span class="w">
  </span><span class="k" data-group-id="1162010204-4">fn</span><span class="w"> </span><span class="n">error_value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Error: </span><span class="si" data-group-id="1162010204-5">#{</span><span class="n">error_value</span><span class="si" data-group-id="1162010204-5">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="1162010204-4">end</span><span class="w">        </span><span class="c1"># Left case</span><span class="w">
</span><span class="p" data-group-id="1162010204-1">)</span><span class="w">

</span><span class="c1"># Examples</span><span class="w">
</span><span class="n">fold_l</span><span class="p" data-group-id="1162010204-6">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1162010204-7">(</span><span class="mi">42</span><span class="p" data-group-id="1162010204-7">)</span><span class="p">,</span><span class="w"> 
  </span><span class="k" data-group-id="1162010204-8">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k" data-group-id="1162010204-8">end</span><span class="p">,</span><span class="w">     </span><span class="c1"># Runs this: 84</span><span class="w">
  </span><span class="k" data-group-id="1162010204-9">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="1162010204-9">end</span><span class="w">              </span><span class="c1"># Never runs</span><span class="w">
</span><span class="p" data-group-id="1162010204-6">)</span><span class="w">

</span><span class="n">fold_l</span><span class="p" data-group-id="1162010204-10">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="1162010204-11">(</span><span class="s">&quot;failed&quot;</span><span class="p" data-group-id="1162010204-11">)</span><span class="p">,</span><span class="w"> 
  </span><span class="k" data-group-id="1162010204-12">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k" data-group-id="1162010204-12">end</span><span class="p">,</span><span class="w">     </span><span class="c1"># Never runs</span><span class="w">
  </span><span class="k" data-group-id="1162010204-13">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Got: </span><span class="si" data-group-id="1162010204-14">#{</span><span class="n">error</span><span class="si" data-group-id="1162010204-14">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="1162010204-13">end</span><span class="w"> </span><span class="c1"># Runs this: &quot;Got: failed&quot;</span><span class="w">
</span><span class="p" data-group-id="1162010204-10">)</span></code></pre><p><strong>Use <code class="inline">fold_l</code> when:</strong></p><ul><li>You need to convert Either to a different type</li><li>You want functional case analysis without pattern matching</li><li>You're implementing higher-level combinators</li><li>You need to handle both success and error cases</li></ul><h3 id="folding-vs-pattern-matching" class="section-heading">
  <a href="#folding-vs-pattern-matching" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Folding vs Pattern Matching</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Imperative pattern matching</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">either_result</span><span class="w"> </span><span class="k" data-group-id="6384514081-1">do</span><span class="w">
  </span><span class="p" data-group-id="6384514081-2">%</span><span class="nc" data-group-id="6384514081-2">Right</span><span class="p" data-group-id="6384514081-2">{</span><span class="ss">right</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="6384514081-2">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Success: </span><span class="si" data-group-id="6384514081-3">#{</span><span class="n">value</span><span class="si" data-group-id="6384514081-3">}</span><span class="s">&quot;</span><span class="w">
  </span><span class="p" data-group-id="6384514081-4">%</span><span class="nc" data-group-id="6384514081-4">Left</span><span class="p" data-group-id="6384514081-4">{</span><span class="ss">left</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="6384514081-4">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Error: </span><span class="si" data-group-id="6384514081-5">#{</span><span class="n">error</span><span class="si" data-group-id="6384514081-5">}</span><span class="s">&quot;</span><span class="w">
</span><span class="k" data-group-id="6384514081-1">end</span><span class="w">

</span><span class="c1"># ✅ Functional folding</span><span class="w">
</span><span class="n">fold_l</span><span class="p" data-group-id="6384514081-6">(</span><span class="n">either_result</span><span class="p">,</span><span class="w">
  </span><span class="k" data-group-id="6384514081-7">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Success: </span><span class="si" data-group-id="6384514081-8">#{</span><span class="n">value</span><span class="si" data-group-id="6384514081-8">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="6384514081-7">end</span><span class="p">,</span><span class="w">
  </span><span class="k" data-group-id="6384514081-9">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Error: </span><span class="si" data-group-id="6384514081-10">#{</span><span class="n">error</span><span class="si" data-group-id="6384514081-10">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="6384514081-9">end</span><span class="w">
</span><span class="p" data-group-id="6384514081-6">)</span></code></pre><h3 id="advanced-folding-patterns" class="section-heading">
  <a href="#advanced-folding-patterns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Advanced Folding Patterns</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert Either to Result tuple</span><span class="w">
</span><span class="n">to_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="6374094435-1">fn</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="n">fold_l</span><span class="p" data-group-id="6374094435-2">(</span><span class="n">either</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="6374094435-3">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="6374094435-4">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="6374094435-4">}</span><span class="w"> </span><span class="k" data-group-id="6374094435-3">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="6374094435-5">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="6374094435-6">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="6374094435-6">}</span><span class="w"> </span><span class="k" data-group-id="6374094435-5">end</span><span class="w">
  </span><span class="p" data-group-id="6374094435-2">)</span><span class="w">
</span><span class="k" data-group-id="6374094435-1">end</span><span class="w">

</span><span class="c1"># Extract value with default</span><span class="w">
</span><span class="n">get_or_default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="6374094435-7">fn</span><span class="w"> </span><span class="n">either</span><span class="p">,</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="n">fold_l</span><span class="p" data-group-id="6374094435-8">(</span><span class="n">either</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="6374094435-9">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k" data-group-id="6374094435-9">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="6374094435-10">fn</span><span class="w"> </span><span class="c">_error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="k" data-group-id="6374094435-10">end</span><span class="w">
  </span><span class="p" data-group-id="6374094435-8">)</span><span class="w">
</span><span class="k" data-group-id="6374094435-7">end</span><span class="w">

</span><span class="c1"># Conditional processing based on Either state</span><span class="w">
</span><span class="n">process_conditionally</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="6374094435-11">fn</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="n">fold_l</span><span class="p" data-group-id="6374094435-12">(</span><span class="n">either</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="6374094435-13">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">expensive_success_operation</span><span class="p" data-group-id="6374094435-14">(</span><span class="n">value</span><span class="p" data-group-id="6374094435-14">)</span><span class="w"> </span><span class="k" data-group-id="6374094435-13">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="6374094435-15">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">log_error_and_return_default</span><span class="p" data-group-id="6374094435-16">(</span><span class="n">error</span><span class="p" data-group-id="6374094435-16">)</span><span class="w"> </span><span class="k" data-group-id="6374094435-15">end</span><span class="w">
  </span><span class="p" data-group-id="6374094435-12">)</span><span class="w">
</span><span class="k" data-group-id="6374094435-11">end</span></code></pre><p><strong>When pattern matching is still appropriate:</strong></p><pre><code class="makeup elixir" translate="no"><span class="c1"># Complex data destructuring that fold_l can&#39;t handle elegantly</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">either_result</span><span class="w"> </span><span class="k" data-group-id="3103933106-1">do</span><span class="w">
  </span><span class="p" data-group-id="3103933106-2">%</span><span class="nc" data-group-id="3103933106-2">Right</span><span class="p" data-group-id="3103933106-2">{</span><span class="ss">right</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3103933106-3">%</span><span class="nc" data-group-id="3103933106-3">User</span><span class="p" data-group-id="3103933106-3">{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="ss">role</span><span class="p">:</span><span class="w"> </span><span class="ss">:admin</span><span class="p">,</span><span class="w"> </span><span class="ss">permissions</span><span class="p">:</span><span class="w"> </span><span class="n">perms</span><span class="p" data-group-id="3103933106-3">}</span><span class="p" data-group-id="3103933106-2">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
    </span><span class="n">handle_admin</span><span class="p" data-group-id="3103933106-4">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">perms</span><span class="p" data-group-id="3103933106-4">)</span><span class="w">
  </span><span class="p" data-group-id="3103933106-5">%</span><span class="nc" data-group-id="3103933106-5">Right</span><span class="p" data-group-id="3103933106-5">{</span><span class="ss">right</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3103933106-6">%</span><span class="nc" data-group-id="3103933106-6">User</span><span class="p" data-group-id="3103933106-6">{</span><span class="ss">role</span><span class="p">:</span><span class="w"> </span><span class="ss">:user</span><span class="p" data-group-id="3103933106-6">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user</span><span class="p" data-group-id="3103933106-5">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
    </span><span class="n">handle_regular_user</span><span class="p" data-group-id="3103933106-7">(</span><span class="n">user</span><span class="p" data-group-id="3103933106-7">)</span><span class="w">
  </span><span class="p" data-group-id="3103933106-8">%</span><span class="nc" data-group-id="3103933106-8">Left</span><span class="p" data-group-id="3103933106-8">{</span><span class="ss">left</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3103933106-9">%</span><span class="nc" data-group-id="3103933106-9">ValidationError</span><span class="p" data-group-id="3103933106-9">{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="ss">message</span><span class="p">:</span><span class="w"> </span><span class="n">msg</span><span class="p" data-group-id="3103933106-9">}</span><span class="p" data-group-id="3103933106-8">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
    </span><span class="n">handle_validation_error</span><span class="p" data-group-id="3103933106-10">(</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">msg</span><span class="p" data-group-id="3103933106-10">)</span><span class="w">
  </span><span class="p" data-group-id="3103933106-11">%</span><span class="nc" data-group-id="3103933106-11">Left</span><span class="p" data-group-id="3103933106-11">{</span><span class="ss">left</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="3103933106-11">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
    </span><span class="n">handle_generic_error</span><span class="p" data-group-id="3103933106-12">(</span><span class="n">error</span><span class="p" data-group-id="3103933106-12">)</span><span class="w">
</span><span class="k" data-group-id="3103933106-1">end</span></code></pre><h2 id="validation-patterns" class="section-heading">
  <a href="#validation-patterns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Validation Patterns</span>
</h2>
<h3 id="error-handling-fail-fast" class="section-heading">
  <a href="#error-handling-fail-fast" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Error-handling (Fail Fast)</span>
</h3>
<p>Use <code class="inline">bind/2</code> for operations that should stop on the first error:</p><pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">process_payment</span><span class="p" data-group-id="5012988529-1">(</span><span class="n">payment_data</span><span class="p" data-group-id="5012988529-1">)</span><span class="w"> </span><span class="k" data-group-id="5012988529-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5012988529-3">(</span><span class="n">payment_data</span><span class="p" data-group-id="5012988529-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5012988529-4">(</span><span class="o">&amp;</span><span class="n">validate_card_number</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5012988529-4">)</span><span class="w">     </span><span class="c1"># Stop if card invalid</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5012988529-5">(</span><span class="o">&amp;</span><span class="n">validate_expiry_date</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5012988529-5">)</span><span class="w">     </span><span class="c1"># Stop if expiry invalid  </span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5012988529-6">(</span><span class="o">&amp;</span><span class="n">validate_cvv</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5012988529-6">)</span><span class="w">             </span><span class="c1"># Stop if CVV invalid</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5012988529-7">(</span><span class="o">&amp;</span><span class="n">charge_card</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5012988529-7">)</span><span class="w">              </span><span class="c1"># Stop if charge fails</span><span class="w">
</span><span class="k" data-group-id="5012988529-2">end</span></code></pre><h3 id="validation-collect-all-errors" class="section-heading">
  <a href="#validation-collect-all-errors" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Validation (Collect All Errors)</span>
</h3>
<p>Use <code class="inline">traverse_a/2</code> to collect all validation errors:</p><pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">validate_user_registration</span><span class="p" data-group-id="4504818742-1">(</span><span class="n">data</span><span class="p" data-group-id="4504818742-1">)</span><span class="w"> </span><span class="k" data-group-id="4504818742-2">do</span><span class="w">
  </span><span class="n">fields</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="4504818742-3">[</span><span class="n">data</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">email</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">password</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">age</span><span class="p" data-group-id="4504818742-3">]</span><span class="w">
  </span><span class="n">validators</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="4504818742-4">[</span><span class="w">
    </span><span class="o">&amp;</span><span class="n">validate_name</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="o">&amp;</span><span class="n">validate_email</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> 
    </span><span class="o">&amp;</span><span class="n">validate_password</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="o">&amp;</span><span class="n">validate_age</span><span class="o">/</span><span class="mi">1</span><span class="w">
  </span><span class="p" data-group-id="4504818742-4">]</span><span class="w">
  
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="4504818742-5">(</span><span class="n">fields</span><span class="p">,</span><span class="w"> </span><span class="n">validators</span><span class="p" data-group-id="4504818742-5">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="4504818742-6">(</span><span class="w">
    </span><span class="k" data-group-id="4504818742-7">fn</span><span class="w"> </span><span class="p" data-group-id="4504818742-8">[</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p" data-group-id="4504818742-8">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
      </span><span class="p" data-group-id="4504818742-9">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4504818742-10">%</span><span class="nc" data-group-id="4504818742-10">User</span><span class="p" data-group-id="4504818742-10">{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="ss">email</span><span class="p">:</span><span class="w"> </span><span class="n">email</span><span class="p">,</span><span class="w"> </span><span class="ss">password</span><span class="p">:</span><span class="w"> </span><span class="n">password</span><span class="p">,</span><span class="w"> </span><span class="ss">age</span><span class="p">:</span><span class="w"> </span><span class="n">age</span><span class="p" data-group-id="4504818742-10">}</span><span class="p" data-group-id="4504818742-9">}</span><span class="w">
    </span><span class="k" data-group-id="4504818742-7">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="4504818742-11">fn</span><span class="w"> </span><span class="n">errors</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="4504818742-12">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="nc">List</span><span class="o">.</span><span class="n">flatten</span><span class="p" data-group-id="4504818742-13">(</span><span class="n">errors</span><span class="p" data-group-id="4504818742-13">)</span><span class="p" data-group-id="4504818742-12">}</span><span class="w"> </span><span class="k" data-group-id="4504818742-11">end</span><span class="w">
  </span><span class="p" data-group-id="4504818742-6">)</span><span class="w">
</span><span class="k" data-group-id="4504818742-2">end</span></code></pre><h2 id="refinement" class="section-heading">
  <a href="#refinement" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Refinement</span>
</h2>
<h3 id="right-1-and-left-1-type-checks" class="section-heading">
  <a href="#right-1-and-left-1-type-checks" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">right?/1</code> and <code class="inline">left?/1</code> - Type Checks</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">right?</span><span class="p" data-group-id="8383601182-1">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8383601182-2">(</span><span class="mi">42</span><span class="p" data-group-id="8383601182-2">)</span><span class="p" data-group-id="8383601182-1">)</span><span class="w">      </span><span class="c1"># true</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right?</span><span class="p" data-group-id="8383601182-3">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8383601182-4">(</span><span class="s">&quot;err&quot;</span><span class="p" data-group-id="8383601182-4">)</span><span class="p" data-group-id="8383601182-3">)</span><span class="w">    </span><span class="c1"># false</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">left?</span><span class="p" data-group-id="8383601182-5">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8383601182-6">(</span><span class="s">&quot;err&quot;</span><span class="p" data-group-id="8383601182-6">)</span><span class="p" data-group-id="8383601182-5">)</span><span class="w">     </span><span class="c1"># true</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left?</span><span class="p" data-group-id="8383601182-7">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8383601182-8">(</span><span class="mi">42</span><span class="p" data-group-id="8383601182-8">)</span><span class="p" data-group-id="8383601182-7">)</span><span class="w">       </span><span class="c1"># false</span></code></pre><h2 id="fallback-and-extraction" class="section-heading">
  <a href="#fallback-and-extraction" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Fallback and Extraction</span>
</h2>
<h3 id="get_or_else-2-extract-value-with-default" class="section-heading">
  <a href="#get_or_else-2-extract-value-with-default" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">get_or_else/2</code> - Extract Value with Default</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="0713302410-1">(</span><span class="mi">42</span><span class="p" data-group-id="0713302410-1">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">get_or_else</span><span class="p" data-group-id="0713302410-2">(</span><span class="mi">0</span><span class="p" data-group-id="0713302410-2">)</span><span class="w">        </span><span class="c1"># 42</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="0713302410-3">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="0713302410-3">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">get_or_else</span><span class="p" data-group-id="0713302410-4">(</span><span class="mi">0</span><span class="p" data-group-id="0713302410-4">)</span><span class="w">    </span><span class="c1"># 0</span></code></pre><h3 id="or_else-2-fallback-on-left" class="section-heading">
  <a href="#or_else-2-fallback-on-left" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">or_else/2</code> - Fallback on Left</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5374106218-1">(</span><span class="mi">42</span><span class="p" data-group-id="5374106218-1">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">or_else</span><span class="p" data-group-id="5374106218-2">(</span><span class="k" data-group-id="5374106218-3">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5374106218-4">(</span><span class="mi">0</span><span class="p" data-group-id="5374106218-4">)</span><span class="w"> </span><span class="k" data-group-id="5374106218-3">end</span><span class="p" data-group-id="5374106218-2">)</span><span class="w">     </span><span class="c1"># right(42)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="5374106218-5">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="5374106218-5">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">or_else</span><span class="p" data-group-id="5374106218-6">(</span><span class="k" data-group-id="5374106218-7">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5374106218-8">(</span><span class="mi">0</span><span class="p" data-group-id="5374106218-8">)</span><span class="w"> </span><span class="k" data-group-id="5374106218-7">end</span><span class="p" data-group-id="5374106218-6">)</span><span class="w"> </span><span class="c1"># right(0)</span></code></pre><h3 id="map_left-2-transform-left-values" class="section-heading">
  <a href="#map_left-2-transform-left-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">map_left/2</code> - Transform Left Values</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Transform error without affecting success</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="9317499930-1">(</span><span class="mi">42</span><span class="p" data-group-id="9317499930-1">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">map_left</span><span class="p" data-group-id="9317499930-2">(</span><span class="o">&amp;</span><span class="nc">String</span><span class="o">.</span><span class="n">upcase</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="9317499930-2">)</span><span class="w">     </span><span class="c1"># right(42)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="9317499930-3">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="9317499930-3">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">map_left</span><span class="p" data-group-id="9317499930-4">(</span><span class="o">&amp;</span><span class="nc">String</span><span class="o">.</span><span class="n">upcase</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="9317499930-4">)</span><span class="w"> </span><span class="c1"># left(&quot;ERROR&quot;)</span></code></pre><h3 id="flip-1-swap-left-and-right" class="section-heading">
  <a href="#flip-1-swap-left-and-right" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">flip/1</code> - Swap Left and Right</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">flip</span><span class="p" data-group-id="9875115084-1">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="9875115084-2">(</span><span class="mi">42</span><span class="p" data-group-id="9875115084-2">)</span><span class="p" data-group-id="9875115084-1">)</span><span class="w">           </span><span class="c1"># left(42)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">flip</span><span class="p" data-group-id="9875115084-3">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="9875115084-4">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="9875115084-4">)</span><span class="p" data-group-id="9875115084-3">)</span><span class="w">       </span><span class="c1"># right(&quot;error&quot;)</span></code></pre><h3 id="filter_or_else-3-conditional-left-conversion" class="section-heading">
  <a href="#filter_or_else-3-conditional-left-conversion" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">filter_or_else/3</code> - Conditional Left Conversion</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert Right to Left if predicate fails</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6283833021-1">(</span><span class="mi">42</span><span class="p" data-group-id="6283833021-1">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">filter_or_else</span><span class="p" data-group-id="6283833021-2">(</span><span class="o">&amp;</span><span class="p" data-group-id="6283833021-3">(</span><span class="ni">&amp;1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">50</span><span class="p" data-group-id="6283833021-3">)</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;too small&quot;</span><span class="p" data-group-id="6283833021-2">)</span><span class="w">  </span><span class="c1"># left(&quot;too small&quot;)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6283833021-4">(</span><span class="mi">100</span><span class="p" data-group-id="6283833021-4">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">filter_or_else</span><span class="p" data-group-id="6283833021-5">(</span><span class="o">&amp;</span><span class="p" data-group-id="6283833021-6">(</span><span class="ni">&amp;1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">50</span><span class="p" data-group-id="6283833021-6">)</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;too small&quot;</span><span class="p" data-group-id="6283833021-5">)</span><span class="w"> </span><span class="c1"># right(100)</span></code></pre><h3 id="combining-two-either-values-with-ap-2" class="section-heading">
  <a href="#combining-two-either-values-with-ap-2" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Combining Two Either Values with <code class="inline">ap/2</code></span>
</h3>
<p>Use the applicative pattern with <code class="inline">ap/2</code> to combine two Either values with a binary function:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># Combine two Either values using ap</span><span class="w">
</span><span class="n">add_fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3731765590-1">(</span><span class="o">&amp;</span><span class="o">+</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="3731765590-1">)</span><span class="w">
</span><span class="n">ap</span><span class="p" data-group-id="3731765590-2">(</span><span class="n">add_fn</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3731765590-3">(</span><span class="mi">3</span><span class="p" data-group-id="3731765590-3">)</span><span class="p" data-group-id="3731765590-2">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="3731765590-4">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3731765590-5">(</span><span class="mi">4</span><span class="p" data-group-id="3731765590-5">)</span><span class="p" data-group-id="3731765590-4">)</span><span class="w">     </span><span class="c1"># right(7)</span><span class="w">
</span><span class="n">ap</span><span class="p" data-group-id="3731765590-6">(</span><span class="n">add_fn</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3731765590-7">(</span><span class="mi">3</span><span class="p" data-group-id="3731765590-7">)</span><span class="p" data-group-id="3731765590-6">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="3731765590-8">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="3731765590-9">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="3731765590-9">)</span><span class="p" data-group-id="3731765590-8">)</span><span class="w">   </span><span class="c1"># left(&quot;error&quot;)</span><span class="w">
</span><span class="n">ap</span><span class="p" data-group-id="3731765590-10">(</span><span class="n">add_fn</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="3731765590-11">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="3731765590-11">)</span><span class="p" data-group-id="3731765590-10">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="3731765590-12">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3731765590-13">(</span><span class="mi">4</span><span class="p" data-group-id="3731765590-13">)</span><span class="p" data-group-id="3731765590-12">)</span><span class="w">   </span><span class="c1"># left(&quot;error&quot;)</span><span class="w">

</span><span class="c1"># More concise with helper function</span><span class="w">
</span><span class="n">combine_either</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="3731765590-14">fn</span><span class="w"> </span><span class="n">ma</span><span class="p">,</span><span class="w"> </span><span class="n">mb</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3731765590-15">(</span><span class="n">f</span><span class="p" data-group-id="3731765590-15">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="3731765590-16">(</span><span class="n">ma</span><span class="p" data-group-id="3731765590-16">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="3731765590-17">(</span><span class="n">mb</span><span class="p" data-group-id="3731765590-17">)</span><span class="w">
</span><span class="k" data-group-id="3731765590-14">end</span><span class="w">

</span><span class="n">combine_either</span><span class="o">.</span><span class="p" data-group-id="3731765590-18">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3731765590-19">(</span><span class="mi">3</span><span class="p" data-group-id="3731765590-19">)</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3731765590-20">(</span><span class="mi">4</span><span class="p" data-group-id="3731765590-20">)</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="o">+</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="3731765590-18">)</span><span class="w">         </span><span class="c1"># right(7)</span><span class="w">
</span><span class="n">combine_either</span><span class="o">.</span><span class="p" data-group-id="3731765590-21">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3731765590-22">(</span><span class="mi">3</span><span class="p" data-group-id="3731765590-22">)</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="3731765590-23">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="3731765590-23">)</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="o">+</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="3731765590-21">)</span><span class="w">    </span><span class="c1"># left(&quot;error&quot;)</span><span class="w">

</span><span class="c1"># String concatenation</span><span class="w">
</span><span class="n">combine_either</span><span class="o">.</span><span class="p" data-group-id="3731765590-24">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3731765590-25">(</span><span class="s">&quot;Hello, &quot;</span><span class="p" data-group-id="3731765590-25">)</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3731765590-26">(</span><span class="s">&quot;World!&quot;</span><span class="p" data-group-id="3731765590-26">)</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="o">&lt;&gt;</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="3731765590-24">)</span><span class="w">  </span><span class="c1"># right(&quot;Hello, World!&quot;)</span><span class="w">

</span><span class="c1"># Validation combining</span><span class="w">
</span><span class="n">combine_either</span><span class="o">.</span><span class="p" data-group-id="3731765590-27">(</span><span class="w">
  </span><span class="n">validate_name</span><span class="p" data-group-id="3731765590-28">(</span><span class="s">&quot;Alice&quot;</span><span class="p" data-group-id="3731765590-28">)</span><span class="p">,</span><span class="w">
  </span><span class="n">validate_age</span><span class="p" data-group-id="3731765590-29">(</span><span class="mi">30</span><span class="p" data-group-id="3731765590-29">)</span><span class="p">,</span><span class="w">
  </span><span class="k" data-group-id="3731765590-30">fn</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="3731765590-31">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="ss">age</span><span class="p">:</span><span class="w"> </span><span class="n">age</span><span class="p" data-group-id="3731765590-31">}</span><span class="w"> </span><span class="k" data-group-id="3731765590-30">end</span><span class="w">
</span><span class="p" data-group-id="3731765590-27">)</span><span class="w">  </span><span class="c1"># right(%{name: &quot;Alice&quot;, age: 30}) or left(error)</span></code></pre><p><strong>Use this pattern when:</strong></p><ul><li>You need to combine exactly two Either values with a binary function</li><li>You want applicative-style combination that fails fast on first Left</li><li>You're implementing patterns similar to liftA2 from other functional languages</li></ul><h2 id="common-patterns" class="section-heading">
  <a href="#common-patterns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Common Patterns</span>
</h2>
<h3 id="api-response-handling" class="section-heading">
  <a href="#api-response-handling" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">API Response Handling</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">fetch_user_profile</span><span class="p" data-group-id="5981464815-1">(</span><span class="n">user_id</span><span class="p" data-group-id="5981464815-1">)</span><span class="w"> </span><span class="k" data-group-id="5981464815-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5981464815-3">(</span><span class="n">user_id</span><span class="p" data-group-id="5981464815-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5981464815-4">(</span><span class="o">&amp;</span><span class="n">validate_user_id</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5981464815-4">)</span><span class="w">        </span><span class="c1"># Validate ID format</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5981464815-5">(</span><span class="o">&amp;</span><span class="n">fetch_from_database</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5981464815-5">)</span><span class="w">     </span><span class="c1"># Database lookup</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5981464815-6">(</span><span class="o">&amp;</span><span class="n">check_permissions</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5981464815-6">)</span><span class="w">       </span><span class="c1"># Authorization check</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5981464815-7">(</span><span class="o">&amp;</span><span class="n">format_profile</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5981464815-7">)</span><span class="w">          </span><span class="c1"># Format response</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="5981464815-8">(</span><span class="w">
    </span><span class="k" data-group-id="5981464815-9">fn</span><span class="w"> </span><span class="n">profile</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="5981464815-10">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">profile</span><span class="p" data-group-id="5981464815-10">}</span><span class="w"> </span><span class="k" data-group-id="5981464815-9">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="5981464815-11">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="5981464815-12">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="5981464815-12">}</span><span class="w"> </span><span class="k" data-group-id="5981464815-11">end</span><span class="w">
  </span><span class="p" data-group-id="5981464815-8">)</span><span class="w">
</span><span class="k" data-group-id="5981464815-2">end</span></code></pre><h3 id="form-validation-with-comprehensive-error-collection" class="section-heading">
  <a href="#form-validation-with-comprehensive-error-collection" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Form Validation with Comprehensive Error Collection</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Create individual field validators that work on the whole form</span><span class="w">
</span><span class="n">validate_name_field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="7956214052-1">fn</span><span class="w"> </span><span class="n">form_data</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="nc">String</span><span class="o">.</span><span class="n">length</span><span class="p" data-group-id="7956214052-2">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">name</span><span class="p" data-group-id="7956214052-2">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="7956214052-3">do</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="7956214052-4">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">name</span><span class="p" data-group-id="7956214052-4">)</span><span class="w">
  </span><span class="k" data-group-id="7956214052-3">else</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="7956214052-5">(</span><span class="p" data-group-id="7956214052-6">[</span><span class="s">&quot;Name is required&quot;</span><span class="p" data-group-id="7956214052-6">]</span><span class="p" data-group-id="7956214052-5">)</span><span class="w">
  </span><span class="k" data-group-id="7956214052-3">end</span><span class="w">
</span><span class="k" data-group-id="7956214052-1">end</span><span class="w">

</span><span class="n">validate_email_field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="7956214052-7">fn</span><span class="w"> </span><span class="n">form_data</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="nc">String</span><span class="o">.</span><span class="n">contains?</span><span class="p" data-group-id="7956214052-8">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">email</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;@&quot;</span><span class="p" data-group-id="7956214052-8">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">String</span><span class="o">.</span><span class="n">length</span><span class="p" data-group-id="7956214052-9">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">email</span><span class="p" data-group-id="7956214052-9">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="k" data-group-id="7956214052-10">do</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="7956214052-11">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">email</span><span class="p" data-group-id="7956214052-11">)</span><span class="w">
  </span><span class="k" data-group-id="7956214052-10">else</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="7956214052-12">(</span><span class="p" data-group-id="7956214052-13">[</span><span class="s">&quot;Email must be valid&quot;</span><span class="p" data-group-id="7956214052-13">]</span><span class="p" data-group-id="7956214052-12">)</span><span class="w">
  </span><span class="k" data-group-id="7956214052-10">end</span><span class="w">
</span><span class="k" data-group-id="7956214052-7">end</span><span class="w">

</span><span class="n">validate_password_field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="7956214052-14">fn</span><span class="w"> </span><span class="n">form_data</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="nc">String</span><span class="o">.</span><span class="n">length</span><span class="p" data-group-id="7956214052-15">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">password</span><span class="p" data-group-id="7956214052-15">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k" data-group-id="7956214052-16">do</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="7956214052-17">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">password</span><span class="p" data-group-id="7956214052-17">)</span><span class="w">
  </span><span class="k" data-group-id="7956214052-16">else</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="7956214052-18">(</span><span class="p" data-group-id="7956214052-19">[</span><span class="s">&quot;Password must be at least 8 characters&quot;</span><span class="p" data-group-id="7956214052-19">]</span><span class="p" data-group-id="7956214052-18">)</span><span class="w">
  </span><span class="k" data-group-id="7956214052-16">end</span><span class="w">
</span><span class="k" data-group-id="7956214052-14">end</span><span class="w">

</span><span class="c1"># Validate the entire form - collects ALL validation errors</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">validate_registration_form</span><span class="p" data-group-id="7956214052-20">(</span><span class="n">form_data</span><span class="p" data-group-id="7956214052-20">)</span><span class="w"> </span><span class="k" data-group-id="7956214052-21">do</span><span class="w">
  </span><span class="n">validators</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="7956214052-22">[</span><span class="w">
    </span><span class="n">validate_name_field</span><span class="p">,</span><span class="w">
    </span><span class="n">validate_email_field</span><span class="p">,</span><span class="w">
    </span><span class="n">validate_password_field</span><span class="w">
  </span><span class="p" data-group-id="7956214052-22">]</span><span class="w">
  
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="7956214052-23">(</span><span class="n">form_data</span><span class="p">,</span><span class="w"> </span><span class="n">validators</span><span class="p" data-group-id="7956214052-23">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="7956214052-24">(</span><span class="w">
    </span><span class="k" data-group-id="7956214052-25">fn</span><span class="w"> </span><span class="n">validated_form</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
      </span><span class="p" data-group-id="7956214052-26">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7956214052-27">%{</span><span class="w">
        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">validated_form</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="w">
        </span><span class="ss">email</span><span class="p">:</span><span class="w"> </span><span class="n">validated_form</span><span class="o">.</span><span class="n">email</span><span class="p">,</span><span class="w">
        </span><span class="ss">password</span><span class="p">:</span><span class="w"> </span><span class="n">validated_form</span><span class="o">.</span><span class="n">password</span><span class="w">
      </span><span class="p" data-group-id="7956214052-27">}</span><span class="p" data-group-id="7956214052-26">}</span><span class="w">
    </span><span class="k" data-group-id="7956214052-25">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="7956214052-28">fn</span><span class="w"> </span><span class="n">all_errors</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
      </span><span class="p" data-group-id="7956214052-29">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Registration failed: </span><span class="si" data-group-id="7956214052-30">#{</span><span class="nc">Enum</span><span class="o">.</span><span class="n">join</span><span class="p" data-group-id="7956214052-31">(</span><span class="nc">List</span><span class="o">.</span><span class="n">flatten</span><span class="p" data-group-id="7956214052-32">(</span><span class="n">all_errors</span><span class="p" data-group-id="7956214052-32">)</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p" data-group-id="7956214052-31">)</span><span class="si" data-group-id="7956214052-30">}</span><span class="s">&quot;</span><span class="p" data-group-id="7956214052-29">}</span><span class="w">
    </span><span class="k" data-group-id="7956214052-28">end</span><span class="w">
  </span><span class="p" data-group-id="7956214052-24">)</span><span class="w">
</span><span class="k" data-group-id="7956214052-21">end</span><span class="w">

</span><span class="c1"># Example usage</span><span class="w">
</span><span class="n">form_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="7956214052-33">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">email</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;123&quot;</span><span class="p" data-group-id="7956214052-33">}</span><span class="w">

</span><span class="n">validate_registration_form</span><span class="p" data-group-id="7956214052-34">(</span><span class="n">form_data</span><span class="p" data-group-id="7956214052-34">)</span><span class="w">
</span><span class="c1"># {:error, &quot;Registration failed: Name is required, Email must be valid, Password must be at least 8 characters&quot;}</span><span class="w">

</span><span class="n">valid_form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="7956214052-35">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">email</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;alice@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;securepass123&quot;</span><span class="p" data-group-id="7956214052-35">}</span><span class="w">
</span><span class="n">validate_registration_form</span><span class="p" data-group-id="7956214052-36">(</span><span class="n">valid_form</span><span class="p" data-group-id="7956214052-36">)</span><span class="w">
</span><span class="c1"># {:ok, %{name: &quot;Alice&quot;, email: &quot;alice@example.com&quot;, password: &quot;securepass123&quot;}}</span></code></pre><h3 id="configuration-loading" class="section-heading">
  <a href="#configuration-loading" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Configuration Loading</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">load_config</span><span class="p" data-group-id="2528797669-1">(</span><span class="n">config_path</span><span class="p" data-group-id="2528797669-1">)</span><span class="w"> </span><span class="k" data-group-id="2528797669-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2528797669-3">(</span><span class="n">config_path</span><span class="p" data-group-id="2528797669-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2528797669-4">(</span><span class="o">&amp;</span><span class="n">read_config_file</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2528797669-4">)</span><span class="w">         </span><span class="c1"># File -&gt; Either Error String</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2528797669-5">(</span><span class="o">&amp;</span><span class="n">parse_json</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2528797669-5">)</span><span class="w">               </span><span class="c1"># String -&gt; Either Error Map</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2528797669-6">(</span><span class="o">&amp;</span><span class="n">validate_schema</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2528797669-6">)</span><span class="w">          </span><span class="c1"># Map -&gt; Either Error ValidConfig</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2528797669-7">(</span><span class="o">&amp;</span><span class="n">apply_defaults</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2528797669-7">)</span><span class="w">           </span><span class="c1"># ValidConfig -&gt; Either Error FinalConfig</span><span class="w">
</span><span class="k" data-group-id="2528797669-2">end</span><span class="w">

</span><span class="kd">defp</span><span class="w"> </span><span class="nf">read_config_file</span><span class="p" data-group-id="2528797669-8">(</span><span class="n">path</span><span class="p" data-group-id="2528797669-8">)</span><span class="w"> </span><span class="k" data-group-id="2528797669-9">do</span><span class="w">
  </span><span class="nc">File</span><span class="o">.</span><span class="n">read</span><span class="p" data-group-id="2528797669-10">(</span><span class="n">path</span><span class="p" data-group-id="2528797669-10">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">from_result</span><span class="p" data-group-id="2528797669-11">(</span><span class="p" data-group-id="2528797669-11">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">map_left</span><span class="p" data-group-id="2528797669-12">(</span><span class="k" data-group-id="2528797669-13">fn</span><span class="w"> </span><span class="n">reason</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Failed to read </span><span class="si" data-group-id="2528797669-14">#{</span><span class="n">path</span><span class="si" data-group-id="2528797669-14">}</span><span class="s">: </span><span class="si" data-group-id="2528797669-15">#{</span><span class="n">reason</span><span class="si" data-group-id="2528797669-15">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="2528797669-13">end</span><span class="p" data-group-id="2528797669-12">)</span><span class="w">
</span><span class="k" data-group-id="2528797669-9">end</span><span class="w">

</span><span class="kd">defp</span><span class="w"> </span><span class="nf">parse_json</span><span class="p" data-group-id="2528797669-16">(</span><span class="n">content</span><span class="p" data-group-id="2528797669-16">)</span><span class="w"> </span><span class="k" data-group-id="2528797669-17">do</span><span class="w">
  </span><span class="nc">Jason</span><span class="o">.</span><span class="n">decode</span><span class="p" data-group-id="2528797669-18">(</span><span class="n">content</span><span class="p" data-group-id="2528797669-18">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">from_result</span><span class="p" data-group-id="2528797669-19">(</span><span class="p" data-group-id="2528797669-19">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">map_left</span><span class="p" data-group-id="2528797669-20">(</span><span class="k" data-group-id="2528797669-21">fn</span><span class="w"> </span><span class="p" data-group-id="2528797669-22">%</span><span class="nc" data-group-id="2528797669-22">Jason.DecodeError</span><span class="p" data-group-id="2528797669-22">{</span><span class="ss">data</span><span class="p">:</span><span class="w"> </span><span class="n">data</span><span class="p" data-group-id="2528797669-22">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Invalid JSON: </span><span class="si" data-group-id="2528797669-23">#{</span><span class="n">data</span><span class="si" data-group-id="2528797669-23">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="2528797669-21">end</span><span class="p" data-group-id="2528797669-20">)</span><span class="w">
</span><span class="k" data-group-id="2528797669-17">end</span></code></pre><h2 id="integration-with-other-modules" class="section-heading">
  <a href="#integration-with-other-modules" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Integration with Other Modules</span>
</h2>
<h3 id="with-funx-utils" class="section-heading">
  <a href="#with-funx-utils" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">With Funx.Utils</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Curry validation functions</span><span class="w">
</span><span class="n">validate_range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Utils</span><span class="o">.</span><span class="n">curry</span><span class="p" data-group-id="5657778967-1">(</span><span class="k" data-group-id="5657778967-2">fn</span><span class="w"> </span><span class="n">min</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">cond</span><span class="w"> </span><span class="k" data-group-id="5657778967-3">do</span><span class="w">
    </span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="5657778967-4">(</span><span class="s">&quot;Value </span><span class="si" data-group-id="5657778967-5">#{</span><span class="n">value</span><span class="si" data-group-id="5657778967-5">}</span><span class="s"> below minimum </span><span class="si" data-group-id="5657778967-6">#{</span><span class="n">min</span><span class="si" data-group-id="5657778967-6">}</span><span class="s">&quot;</span><span class="p" data-group-id="5657778967-4">)</span><span class="w">
    </span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="5657778967-7">(</span><span class="s">&quot;Value </span><span class="si" data-group-id="5657778967-8">#{</span><span class="n">value</span><span class="si" data-group-id="5657778967-8">}</span><span class="s"> above maximum </span><span class="si" data-group-id="5657778967-9">#{</span><span class="n">max</span><span class="si" data-group-id="5657778967-9">}</span><span class="s">&quot;</span><span class="p" data-group-id="5657778967-7">)</span><span class="w">  
    </span><span class="no">true</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5657778967-10">(</span><span class="n">value</span><span class="p" data-group-id="5657778967-10">)</span><span class="w">
  </span><span class="k" data-group-id="5657778967-3">end</span><span class="w">
</span><span class="k" data-group-id="5657778967-2">end</span><span class="p" data-group-id="5657778967-1">)</span><span class="w">

</span><span class="n">validate_age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">validate_range</span><span class="o">.</span><span class="p" data-group-id="5657778967-11">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p" data-group-id="5657778967-11">)</span><span class="w">
</span><span class="n">validate_percentage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">validate_range</span><span class="o">.</span><span class="p" data-group-id="5657778967-12">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p" data-group-id="5657778967-12">)</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5657778967-13">(</span><span class="mi">25</span><span class="p" data-group-id="5657778967-13">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5657778967-14">(</span><span class="n">validate_age</span><span class="p" data-group-id="5657778967-14">)</span><span class="w">        </span><span class="c1"># right(25)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5657778967-15">(</span><span class="o">-</span><span class="mi">5</span><span class="p" data-group-id="5657778967-15">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5657778967-16">(</span><span class="n">validate_age</span><span class="p" data-group-id="5657778967-16">)</span><span class="w">        </span><span class="c1"># left(&quot;Value -5 below minimum 0&quot;)</span></code></pre><h3 id="conversion-from-maybe" class="section-heading">
  <a href="#conversion-from-maybe" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Conversion from Maybe</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert Maybe to Either with error context</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">maybe_to_either</span><span class="p" data-group-id="6129054820-1">(</span><span class="n">maybe_value</span><span class="p">,</span><span class="w"> </span><span class="n">error_message</span><span class="p" data-group-id="6129054820-1">)</span><span class="w"> </span><span class="k" data-group-id="6129054820-2">do</span><span class="w">
  </span><span class="nc">Maybe</span><span class="o">.</span><span class="n">fold_l</span><span class="p" data-group-id="6129054820-3">(</span><span class="n">maybe_value</span><span class="p">,</span><span class="w"> 
    </span><span class="k" data-group-id="6129054820-4">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6129054820-5">(</span><span class="n">value</span><span class="p" data-group-id="6129054820-5">)</span><span class="w"> </span><span class="k" data-group-id="6129054820-4">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="6129054820-6">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="6129054820-7">(</span><span class="n">error_message</span><span class="p" data-group-id="6129054820-7">)</span><span class="w"> </span><span class="k" data-group-id="6129054820-6">end</span><span class="w">
  </span><span class="p" data-group-id="6129054820-3">)</span><span class="w">
</span><span class="k" data-group-id="6129054820-2">end</span><span class="w">

</span><span class="c1"># Usage in pipeline</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">find_and_validate_user</span><span class="p" data-group-id="6129054820-8">(</span><span class="n">user_id</span><span class="p" data-group-id="6129054820-8">)</span><span class="w"> </span><span class="k" data-group-id="6129054820-9">do</span><span class="w">
  </span><span class="n">user_id</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">find_user</span><span class="p" data-group-id="6129054820-10">(</span><span class="p" data-group-id="6129054820-10">)</span><span class="w">                    </span><span class="c1"># Returns Maybe User</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">maybe_to_either</span><span class="p" data-group-id="6129054820-11">(</span><span class="s">&quot;User not found&quot;</span><span class="p" data-group-id="6129054820-11">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="6129054820-12">(</span><span class="o">&amp;</span><span class="n">validate_user_active</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="6129054820-12">)</span><span class="w">  </span><span class="c1"># Continue with Either validation</span><span class="w">
</span><span class="k" data-group-id="6129054820-9">end</span></code></pre><h3 id="with-predicate-logic" class="section-heading">
  <a href="#with-predicate-logic" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">With Predicate Logic</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert predicates to Either validators</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">predicate_to_either</span><span class="p" data-group-id="9059896705-1">(</span><span class="n">predicate</span><span class="p">,</span><span class="w"> </span><span class="n">error_message</span><span class="p" data-group-id="9059896705-1">)</span><span class="w"> </span><span class="k" data-group-id="9059896705-2">do</span><span class="w">
  </span><span class="k" data-group-id="9059896705-3">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="n">predicate</span><span class="o">.</span><span class="p" data-group-id="9059896705-4">(</span><span class="n">value</span><span class="p" data-group-id="9059896705-4">)</span><span class="w"> </span><span class="k" data-group-id="9059896705-5">do</span><span class="w">
      </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="9059896705-6">(</span><span class="n">value</span><span class="p" data-group-id="9059896705-6">)</span><span class="w">
    </span><span class="k" data-group-id="9059896705-5">else</span><span class="w">
      </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="9059896705-7">(</span><span class="n">error_message</span><span class="p" data-group-id="9059896705-7">)</span><span class="w">
    </span><span class="k" data-group-id="9059896705-5">end</span><span class="w">
  </span><span class="k" data-group-id="9059896705-3">end</span><span class="w">
</span><span class="k" data-group-id="9059896705-2">end</span><span class="w">

</span><span class="c1"># Use with validation</span><span class="w">
</span><span class="n">is_adult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="9059896705-8">fn</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">user</span><span class="o">.</span><span class="n">age</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="k" data-group-id="9059896705-8">end</span><span class="w">
</span><span class="n">validate_adult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">predicate_to_either</span><span class="p" data-group-id="9059896705-9">(</span><span class="n">is_adult</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Must be 18 or older&quot;</span><span class="p" data-group-id="9059896705-9">)</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="9059896705-10">(</span><span class="p" data-group-id="9059896705-11">%{</span><span class="ss">age</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p" data-group-id="9059896705-11">}</span><span class="p" data-group-id="9059896705-10">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="9059896705-12">(</span><span class="n">validate_adult</span><span class="p" data-group-id="9059896705-12">)</span><span class="w">             </span><span class="c1"># right(%{age: 25})</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="9059896705-13">(</span><span class="p" data-group-id="9059896705-14">%{</span><span class="ss">age</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p" data-group-id="9059896705-14">}</span><span class="p" data-group-id="9059896705-13">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="9059896705-15">(</span><span class="n">validate_adult</span><span class="p" data-group-id="9059896705-15">)</span><span class="w">             </span><span class="c1"># left(&quot;Must be 18 or older&quot;)</span></code></pre><h2 id="advanced-patterns" class="section-heading">
  <a href="#advanced-patterns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Advanced Patterns</span>
</h2>
<h3 id="error-recovery" class="section-heading">
  <a href="#error-recovery" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Error Recovery</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">process_with_fallback</span><span class="p" data-group-id="1941649548-1">(</span><span class="n">data</span><span class="p" data-group-id="1941649548-1">)</span><span class="w"> </span><span class="k" data-group-id="1941649548-2">do</span><span class="w">
  </span><span class="n">data</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">process_primary_method</span><span class="p" data-group-id="1941649548-3">(</span><span class="p" data-group-id="1941649548-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="1941649548-4">(</span><span class="w">
    </span><span class="k" data-group-id="1941649548-5">fn</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1941649548-6">(</span><span class="n">result</span><span class="p" data-group-id="1941649548-6">)</span><span class="w"> </span><span class="k" data-group-id="1941649548-5">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="1941649548-7">fn</span><span class="w"> </span><span class="c">_error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">process_fallback_method</span><span class="p" data-group-id="1941649548-8">(</span><span class="p" data-group-id="1941649548-8">)</span><span class="w"> </span><span class="k" data-group-id="1941649548-7">end</span><span class="w">
  </span><span class="p" data-group-id="1941649548-4">)</span><span class="w">
</span><span class="k" data-group-id="1941649548-2">end</span><span class="w">

</span><span class="c1"># Or using a helper function</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">either_or_else</span><span class="p" data-group-id="1941649548-9">(</span><span class="n">either_result</span><span class="p">,</span><span class="w"> </span><span class="n">fallback_fn</span><span class="p" data-group-id="1941649548-9">)</span><span class="w"> </span><span class="k" data-group-id="1941649548-10">do</span><span class="w">
  </span><span class="n">fold_l</span><span class="p" data-group-id="1941649548-11">(</span><span class="n">either_result</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="1941649548-12">fn</span><span class="w"> </span><span class="c">_error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">fallback_fn</span><span class="o">.</span><span class="p" data-group-id="1941649548-13">(</span><span class="p" data-group-id="1941649548-13">)</span><span class="w"> </span><span class="k" data-group-id="1941649548-12">end</span><span class="p" data-group-id="1941649548-11">)</span><span class="w">
</span><span class="k" data-group-id="1941649548-10">end</span><span class="w">

</span><span class="n">data</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">process_primary_method</span><span class="p" data-group-id="1941649548-14">(</span><span class="p" data-group-id="1941649548-14">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">either_or_else</span><span class="p" data-group-id="1941649548-15">(</span><span class="k" data-group-id="1941649548-16">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">process_fallback_method</span><span class="p" data-group-id="1941649548-17">(</span><span class="n">data</span><span class="p" data-group-id="1941649548-17">)</span><span class="w"> </span><span class="k" data-group-id="1941649548-16">end</span><span class="p" data-group-id="1941649548-15">)</span></code></pre><h3 id="error-mapping" class="section-heading">
  <a href="#error-mapping" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Error Mapping</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">map_error</span><span class="p" data-group-id="8080493482-1">(</span><span class="n">either_value</span><span class="p">,</span><span class="w"> </span><span class="n">error_mapper</span><span class="p" data-group-id="8080493482-1">)</span><span class="w"> </span><span class="k" data-group-id="8080493482-2">do</span><span class="w">
  </span><span class="n">fold_l</span><span class="p" data-group-id="8080493482-3">(</span><span class="n">either_value</span><span class="p">,</span><span class="w"> 
    </span><span class="o">&amp;</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="8080493482-4">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8080493482-5">(</span><span class="n">error_mapper</span><span class="o">.</span><span class="p" data-group-id="8080493482-6">(</span><span class="n">error</span><span class="p" data-group-id="8080493482-6">)</span><span class="p" data-group-id="8080493482-5">)</span><span class="w"> </span><span class="k" data-group-id="8080493482-4">end</span><span class="w">
  </span><span class="p" data-group-id="8080493482-3">)</span><span class="w">
</span><span class="k" data-group-id="8080493482-2">end</span><span class="w">

</span><span class="c1"># Usage: Convert database errors to user-friendly messages</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">friendly_database_error</span><span class="p" data-group-id="8080493482-7">(</span><span class="n">db_error</span><span class="p" data-group-id="8080493482-7">)</span><span class="w"> </span><span class="k" data-group-id="8080493482-8">do</span><span class="w">
  </span><span class="k">case</span><span class="w"> </span><span class="n">db_error</span><span class="w"> </span><span class="k" data-group-id="8080493482-9">do</span><span class="w">
    </span><span class="p" data-group-id="8080493482-10">{</span><span class="ss">:constraint</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p" data-group-id="8080493482-10">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Data validation failed&quot;</span><span class="w">
    </span><span class="p" data-group-id="8080493482-11">{</span><span class="ss">:connection</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p" data-group-id="8080493482-11">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Database temporarily unavailable&quot;</span><span class="w">
    </span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;An unexpected error occurred&quot;</span><span class="w">
  </span><span class="k" data-group-id="8080493482-9">end</span><span class="w">
</span><span class="k" data-group-id="8080493482-8">end</span><span class="w">

</span><span class="n">database_operation</span><span class="p" data-group-id="8080493482-12">(</span><span class="p" data-group-id="8080493482-12">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map_error</span><span class="p" data-group-id="8080493482-13">(</span><span class="o">&amp;</span><span class="n">friendly_database_error</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8080493482-13">)</span></code></pre><h2 id="testing-strategies" class="section-heading">
  <a href="#testing-strategies" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Testing Strategies</span>
</h2>
<h3 id="unit-testing-validation-logic" class="section-heading">
  <a href="#unit-testing-validation-logic" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Unit Testing Validation Logic</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="kd">defmodule</span><span class="w"> </span><span class="nc">ValidationTest</span><span class="w"> </span><span class="k" data-group-id="9612776680-1">do</span><span class="w">
  </span><span class="kn">use</span><span class="w"> </span><span class="nc">ExUnit.Case</span><span class="w">
  </span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">

  </span><span class="n">test</span><span class="w"> </span><span class="s">&quot;email validation with detailed errors&quot;</span><span class="w"> </span><span class="k" data-group-id="9612776680-2">do</span><span class="w">
    </span><span class="c1"># Valid email</span><span class="w">
    </span><span class="n">assert</span><span class="w"> </span><span class="n">validate_email</span><span class="p" data-group-id="9612776680-3">(</span><span class="s">&quot;user@example.com&quot;</span><span class="p" data-group-id="9612776680-3">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="9612776680-4">(</span><span class="s">&quot;user@example.com&quot;</span><span class="p" data-group-id="9612776680-4">)</span><span class="w">
    
    </span><span class="c1"># Invalid formats</span><span class="w">
    </span><span class="n">assert</span><span class="w"> </span><span class="n">validate_email</span><span class="p" data-group-id="9612776680-5">(</span><span class="s">&quot;&quot;</span><span class="p" data-group-id="9612776680-5">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="9612776680-6">(</span><span class="s">&quot;Email cannot be empty&quot;</span><span class="p" data-group-id="9612776680-6">)</span><span class="w">
    </span><span class="n">assert</span><span class="w"> </span><span class="n">validate_email</span><span class="p" data-group-id="9612776680-7">(</span><span class="s">&quot;invalid&quot;</span><span class="p" data-group-id="9612776680-7">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="9612776680-8">(</span><span class="s">&quot;Email must contain @&quot;</span><span class="p" data-group-id="9612776680-8">)</span><span class="w">
    </span><span class="n">assert</span><span class="w"> </span><span class="n">validate_email</span><span class="p" data-group-id="9612776680-9">(</span><span class="s">&quot;user@&quot;</span><span class="p" data-group-id="9612776680-9">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="9612776680-10">(</span><span class="s">&quot;Invalid domain&quot;</span><span class="p" data-group-id="9612776680-10">)</span><span class="w">
  </span><span class="k" data-group-id="9612776680-2">end</span><span class="w">

  </span><span class="n">test</span><span class="w"> </span><span class="s">&quot;chaining validations with bind&quot;</span><span class="w"> </span><span class="k" data-group-id="9612776680-11">do</span><span class="w">
    </span><span class="c1"># Successful chain</span><span class="w">
    </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="9612776680-12">(</span><span class="s">&quot;123&quot;</span><span class="p" data-group-id="9612776680-12">)</span><span class="w">
    </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="9612776680-13">(</span><span class="o">&amp;</span><span class="n">parse_integer</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="9612776680-13">)</span><span class="w">
    </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="9612776680-14">(</span><span class="o">&amp;</span><span class="n">validate_positive</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="9612776680-14">)</span><span class="w">
    
    </span><span class="n">assert</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="9612776680-15">(</span><span class="mi">123</span><span class="p" data-group-id="9612776680-15">)</span><span class="w">
    
    </span><span class="c1"># Chain breaks on first error</span><span class="w">
    </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="9612776680-16">(</span><span class="s">&quot;invalid&quot;</span><span class="p" data-group-id="9612776680-16">)</span><span class="w">
    </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="9612776680-17">(</span><span class="o">&amp;</span><span class="n">parse_integer</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="9612776680-17">)</span><span class="w">        </span><span class="c1"># Fails here</span><span class="w">
    </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="9612776680-18">(</span><span class="o">&amp;</span><span class="n">validate_positive</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="9612776680-18">)</span><span class="w">    </span><span class="c1"># Never runs</span><span class="w">
    
    </span><span class="n">assert</span><span class="w"> </span><span class="p" data-group-id="9612776680-19">{</span><span class="ss">:left</span><span class="p">,</span><span class="w"> </span><span class="c">_error</span><span class="p" data-group-id="9612776680-19">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="w">
  </span><span class="k" data-group-id="9612776680-11">end</span><span class="w">

  </span><span class="n">test</span><span class="w"> </span><span class="s">&quot;collecting validation errors with traverse_a&quot;</span><span class="w"> </span><span class="k" data-group-id="9612776680-20">do</span><span class="w">
    </span><span class="n">invalid_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="9612776680-21">[</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;not-email&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid-age&quot;</span><span class="p" data-group-id="9612776680-21">]</span><span class="w">
    </span><span class="n">validators</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="9612776680-22">[</span><span class="o">&amp;</span><span class="n">validate_name</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_email</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_age</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="9612776680-22">]</span><span class="w">
    
    </span><span class="k">case</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="9612776680-23">(</span><span class="n">invalid_data</span><span class="p">,</span><span class="w"> </span><span class="n">validators</span><span class="p" data-group-id="9612776680-23">)</span><span class="w"> </span><span class="k" data-group-id="9612776680-24">do</span><span class="w">
      </span><span class="p" data-group-id="9612776680-25">{</span><span class="ss">:left</span><span class="p">,</span><span class="w"> </span><span class="n">errors</span><span class="p" data-group-id="9612776680-25">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
        </span><span class="n">assert</span><span class="w"> </span><span class="n">length</span><span class="p" data-group-id="9612776680-26">(</span><span class="n">errors</span><span class="p" data-group-id="9612776680-26">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="c1"># All three validations failed</span><span class="w">
        </span><span class="n">assert</span><span class="w"> </span><span class="s">&quot;Name cannot be empty&quot;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">errors</span><span class="w">
      </span><span class="p" data-group-id="9612776680-27">{</span><span class="ss">:right</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p" data-group-id="9612776680-27">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
        </span><span class="n">flunk</span><span class="p" data-group-id="9612776680-28">(</span><span class="s">&quot;Expected validation errors&quot;</span><span class="p" data-group-id="9612776680-28">)</span><span class="w">
    </span><span class="k" data-group-id="9612776680-24">end</span><span class="w">
  </span><span class="k" data-group-id="9612776680-20">end</span><span class="w">
</span><span class="k" data-group-id="9612776680-1">end</span></code></pre><h2 id="performance-considerations" class="section-heading">
  <a href="#performance-considerations" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Performance Considerations</span>
</h2>
<h3 id="short-circuiting" class="section-heading">
  <a href="#short-circuiting" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Short-Circuiting</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># bind chains short-circuit on first Left</span><span class="w">
</span><span class="c1"># This makes error-handling very efficient</span><span class="w">

</span><span class="n">expensive_validation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="2240317566-1">fn</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="c1"># This never runs if earlier validation failed</span><span class="w">
  </span><span class="nc">Process</span><span class="o">.</span><span class="n">sleep</span><span class="p" data-group-id="2240317566-2">(</span><span class="mi">1000</span><span class="p" data-group-id="2240317566-2">)</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2240317566-3">(</span><span class="n">data</span><span class="p" data-group-id="2240317566-3">)</span><span class="w">
</span><span class="k" data-group-id="2240317566-1">end</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="2240317566-4">(</span><span class="s">&quot;early error&quot;</span><span class="p" data-group-id="2240317566-4">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2240317566-5">(</span><span class="o">&amp;</span><span class="n">some_validation</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2240317566-5">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2240317566-6">(</span><span class="n">expensive_validation</span><span class="p" data-group-id="2240317566-6">)</span><span class="w">      </span><span class="c1"># Never executes</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2240317566-7">(</span><span class="o">&amp;</span><span class="n">another_validation</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2240317566-7">)</span><span class="w">
</span><span class="c1"># Result: left(&quot;early error&quot;), computed instantly</span></code></pre><h3 id="memory-usage" class="section-heading">
  <a href="#memory-usage" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Memory Usage</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Either uses minimal memory overhead</span><span class="w">
</span><span class="c1"># right(value) stores value plus small wrapper</span><span class="w">
</span><span class="c1"># left(error) stores error plus small wrapper</span><span class="w">

</span><span class="c1"># Efficient for error handling</span><span class="w">
</span><span class="n">validation_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="8495976370-1">%{</span><span class="w">
  </span><span class="ss">user</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8495976370-2">(</span><span class="p" data-group-id="8495976370-3">%</span><span class="nc" data-group-id="8495976370-3">User</span><span class="p" data-group-id="8495976370-3">{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="8495976370-3">}</span><span class="p" data-group-id="8495976370-2">)</span><span class="p">,</span><span class="w">    </span><span class="c1"># Small overhead</span><span class="w">
  </span><span class="ss">error</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8495976370-4">(</span><span class="s">&quot;Validation failed&quot;</span><span class="p" data-group-id="8495976370-4">)</span><span class="w">  </span><span class="c1"># Small overhead</span><span class="w">
</span><span class="p" data-group-id="8495976370-1">}</span></code></pre><h2 id="troubleshooting-common-issues" class="section-heading">
  <a href="#troubleshooting-common-issues" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Troubleshooting Common Issues</span>
</h2>
<h3 id="issue-nested-either-values" class="section-heading">
  <a href="#issue-nested-either-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Issue: Nested Either Values</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Problem: Manual nesting creates Either (Either a)</span><span class="w">
</span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6257861741-1">(</span><span class="n">user_data</span><span class="p" data-group-id="6257861741-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map</span><span class="p" data-group-id="6257861741-2">(</span><span class="o">&amp;</span><span class="n">validate_user</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="6257861741-2">)</span><span class="w">  </span><span class="c1"># validate_user returns Either</span><span class="w">
</span><span class="c1"># Result: Either (Either User) - nested!</span><span class="w">

</span><span class="c1"># ✅ Solution: Use bind for functions that return Either</span><span class="w">
</span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6257861741-3">(</span><span class="n">user_data</span><span class="p" data-group-id="6257861741-3">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="6257861741-4">(</span><span class="o">&amp;</span><span class="n">validate_user</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="6257861741-4">)</span><span class="w">  </span><span class="c1"># Automatically flattens to Either User</span></code></pre><h3 id="issue-mixing-validation-strategies" class="section-heading">
  <a href="#issue-mixing-validation-strategies" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Issue: Mixing Validation Strategies</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Problem: Inconsistent error handling approach</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">mixed_validation</span><span class="p" data-group-id="5088792628-1">(</span><span class="n">data</span><span class="p" data-group-id="5088792628-1">)</span><span class="w"> </span><span class="k" data-group-id="5088792628-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5088792628-3">(</span><span class="n">data</span><span class="p" data-group-id="5088792628-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5088792628-4">(</span><span class="o">&amp;</span><span class="n">validate_required_field</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5088792628-4">)</span><span class="w">    </span><span class="c1"># Stops on first error</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="5088792628-5">(</span><span class="p" data-group-id="5088792628-6">[</span><span class="o">&amp;</span><span class="n">validate_format</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5088792628-6">]</span><span class="p" data-group-id="5088792628-5">)</span><span class="w">  </span><span class="c1"># But this tries to collect all</span><span class="w">
</span><span class="k" data-group-id="5088792628-2">end</span><span class="w">

</span><span class="c1"># ✅ Solution: Pick one strategy consistently</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">fail_fast_validation</span><span class="p" data-group-id="5088792628-7">(</span><span class="n">data</span><span class="p" data-group-id="5088792628-7">)</span><span class="w"> </span><span class="k" data-group-id="5088792628-8">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5088792628-9">(</span><span class="n">data</span><span class="p" data-group-id="5088792628-9">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5088792628-10">(</span><span class="o">&amp;</span><span class="n">validate_required_field</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5088792628-10">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5088792628-11">(</span><span class="o">&amp;</span><span class="n">validate_format</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5088792628-11">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5088792628-12">(</span><span class="o">&amp;</span><span class="n">validate_business_rules</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5088792628-12">)</span><span class="w">
</span><span class="k" data-group-id="5088792628-8">end</span><span class="w">

</span><span class="kd">def</span><span class="w"> </span><span class="nf">collect_all_errors_validation</span><span class="p" data-group-id="5088792628-13">(</span><span class="n">data</span><span class="p" data-group-id="5088792628-13">)</span><span class="w"> </span><span class="k" data-group-id="5088792628-14">do</span><span class="w">
  </span><span class="n">fields</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5088792628-15">[</span><span class="n">data</span><span class="o">.</span><span class="n">field1</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">field2</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">field3</span><span class="p" data-group-id="5088792628-15">]</span><span class="w">
  </span><span class="n">validators</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5088792628-16">[</span><span class="o">&amp;</span><span class="n">validate_field1</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_field2</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_field3</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5088792628-16">]</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="5088792628-17">(</span><span class="n">fields</span><span class="p">,</span><span class="w"> </span><span class="n">validators</span><span class="p" data-group-id="5088792628-17">)</span><span class="w">
</span><span class="k" data-group-id="5088792628-14">end</span></code></pre><h3 id="issue-pattern-matching-confusion" class="section-heading">
  <a href="#issue-pattern-matching-confusion" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Issue: Pattern Matching Confusion</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Problem: Imperative pattern matching instead of functional folding</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">either_value</span><span class="w"> </span><span class="k" data-group-id="5244485861-1">do</span><span class="w">
  </span><span class="p" data-group-id="5244485861-2">%</span><span class="nc" data-group-id="5244485861-2">Right</span><span class="p" data-group-id="5244485861-2">{</span><span class="ss">right</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="5244485861-2">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">process_success</span><span class="p" data-group-id="5244485861-3">(</span><span class="n">value</span><span class="p" data-group-id="5244485861-3">)</span><span class="w">
  </span><span class="p" data-group-id="5244485861-4">%</span><span class="nc" data-group-id="5244485861-4">Left</span><span class="p" data-group-id="5244485861-4">{</span><span class="ss">left</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="5244485861-4">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">handle_error</span><span class="p" data-group-id="5244485861-5">(</span><span class="n">error</span><span class="p" data-group-id="5244485861-5">)</span><span class="w">
</span><span class="k" data-group-id="5244485861-1">end</span><span class="w">

</span><span class="c1"># ✅ Solution: Use functional folding instead  </span><span class="w">
</span><span class="n">either_value</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="5244485861-6">(</span><span class="w">
  </span><span class="k" data-group-id="5244485861-7">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">process_success</span><span class="p" data-group-id="5244485861-8">(</span><span class="n">value</span><span class="p" data-group-id="5244485861-8">)</span><span class="w"> </span><span class="k" data-group-id="5244485861-7">end</span><span class="p">,</span><span class="w">
  </span><span class="k" data-group-id="5244485861-9">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">handle_error</span><span class="p" data-group-id="5244485861-10">(</span><span class="n">error</span><span class="p" data-group-id="5244485861-10">)</span><span class="w"> </span><span class="k" data-group-id="5244485861-9">end</span><span class="w">
</span><span class="p" data-group-id="5244485861-6">)</span></code></pre><h3 id="issue-over-using-pattern-matching" class="section-heading">
  <a href="#issue-over-using-pattern-matching" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Issue: Over-using Pattern Matching</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Problem: Manual unwrapping defeats the purpose</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">either_value</span><span class="w"> </span><span class="k" data-group-id="4472914568-1">do</span><span class="w">
  </span><span class="p" data-group-id="4472914568-2">%</span><span class="nc" data-group-id="4472914568-2">Right</span><span class="p" data-group-id="4472914568-2">{</span><span class="ss">right</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="4472914568-2">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">new_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">transform</span><span class="p" data-group-id="4472914568-3">(</span><span class="n">value</span><span class="p" data-group-id="4472914568-3">)</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="4472914568-4">(</span><span class="n">new_value</span><span class="p" data-group-id="4472914568-4">)</span><span class="w">
  </span><span class="p" data-group-id="4472914568-5">%</span><span class="nc" data-group-id="4472914568-5">Left</span><span class="p" data-group-id="4472914568-5">{</span><span class="ss">left</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="4472914568-5">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="4472914568-6">(</span><span class="n">error</span><span class="p" data-group-id="4472914568-6">)</span><span class="w">
</span><span class="k" data-group-id="4472914568-1">end</span><span class="w">

</span><span class="c1"># ✅ Solution: Use map to stay in Either context</span><span class="w">
</span><span class="n">either_value</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map</span><span class="p" data-group-id="4472914568-7">(</span><span class="o">&amp;</span><span class="n">transform</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="4472914568-7">)</span></code></pre><h2 id="when-not-to-use-either" class="section-heading">
  <a href="#when-not-to-use-either" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">When Not to Use Either</span>
</h2>
<h3 id="use-maybe-instead-when" class="section-heading">
  <a href="#use-maybe-instead-when" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Use Maybe Instead When</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Either with generic errors loses its advantage</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">find_user</span><span class="p" data-group-id="0695471522-1">(</span><span class="n">id</span><span class="p" data-group-id="0695471522-1">)</span><span class="w"> </span><span class="k" data-group-id="0695471522-2">do</span><span class="w">
  </span><span class="k">case</span><span class="w"> </span><span class="n">get_user</span><span class="p" data-group-id="0695471522-3">(</span><span class="n">id</span><span class="p" data-group-id="0695471522-3">)</span><span class="w"> </span><span class="k" data-group-id="0695471522-4">do</span><span class="w">
    </span><span class="no">nil</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="0695471522-5">(</span><span class="s">&quot;not found&quot;</span><span class="p" data-group-id="0695471522-5">)</span><span class="w">  </span><span class="c1"># Generic error</span><span class="w">
    </span><span class="n">user</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="0695471522-6">(</span><span class="n">user</span><span class="p" data-group-id="0695471522-6">)</span><span class="w">
  </span><span class="k" data-group-id="0695471522-4">end</span><span class="w">
</span><span class="k" data-group-id="0695471522-2">end</span><span class="w">

</span><span class="c1"># ✅ Maybe is simpler for basic presence/absence</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">find_user</span><span class="p" data-group-id="0695471522-7">(</span><span class="n">id</span><span class="p" data-group-id="0695471522-7">)</span><span class="w"> </span><span class="k" data-group-id="0695471522-8">do</span><span class="w">
  </span><span class="k">case</span><span class="w"> </span><span class="n">get_user</span><span class="p" data-group-id="0695471522-9">(</span><span class="n">id</span><span class="p" data-group-id="0695471522-9">)</span><span class="w"> </span><span class="k" data-group-id="0695471522-10">do</span><span class="w">
    </span><span class="no">nil</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Maybe</span><span class="o">.</span><span class="n">nothing</span><span class="p" data-group-id="0695471522-11">(</span><span class="p" data-group-id="0695471522-11">)</span><span class="w">
    </span><span class="n">user</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Maybe</span><span class="o">.</span><span class="n">just</span><span class="p" data-group-id="0695471522-12">(</span><span class="n">user</span><span class="p" data-group-id="0695471522-12">)</span><span class="w">
  </span><span class="k" data-group-id="0695471522-10">end</span><span class="w">
</span><span class="k" data-group-id="0695471522-8">end</span></code></pre><h3 id="use-plain-values-when" class="section-heading">
  <a href="#use-plain-values-when" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Use Plain Values When</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Either overhead for operations that can&#39;t fail</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">calculate_tax</span><span class="p" data-group-id="3573266185-1">(</span><span class="n">amount</span><span class="p" data-group-id="3573266185-1">)</span><span class="w"> </span><span class="k" data-group-id="3573266185-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3573266185-3">(</span><span class="n">amount</span><span class="p" data-group-id="3573266185-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map</span><span class="p" data-group-id="3573266185-4">(</span><span class="k" data-group-id="3573266185-5">fn</span><span class="w"> </span><span class="n">amt</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">amt</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.1</span><span class="w"> </span><span class="k" data-group-id="3573266185-5">end</span><span class="p" data-group-id="3573266185-4">)</span><span class="w">
</span><span class="k" data-group-id="3573266185-2">end</span><span class="w">

</span><span class="c1"># ✅ Plain calculation for guaranteed operations</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">calculate_tax</span><span class="p" data-group-id="3573266185-6">(</span><span class="n">amount</span><span class="p" data-group-id="3573266185-6">)</span><span class="w"> </span><span class="k" data-group-id="3573266185-7">do</span><span class="w">
  </span><span class="n">amount</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.1</span><span class="w">
</span><span class="k" data-group-id="3573266185-7">end</span></code></pre><h3 id="use-exceptions-when" class="section-heading">
  <a href="#use-exceptions-when" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Use Exceptions When</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Either for truly exceptional conditions</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">divide</span><span class="p" data-group-id="4407959933-1">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p" data-group-id="4407959933-1">)</span><span class="w"> </span><span class="k" data-group-id="4407959933-2">do</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="4407959933-3">do</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="4407959933-4">(</span><span class="s">&quot;Division by zero&quot;</span><span class="p" data-group-id="4407959933-4">)</span><span class="w">
  </span><span class="k" data-group-id="4407959933-3">else</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="4407959933-5">(</span><span class="n">a</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">b</span><span class="p" data-group-id="4407959933-5">)</span><span class="w">
  </span><span class="k" data-group-id="4407959933-3">end</span><span class="w">
</span><span class="k" data-group-id="4407959933-2">end</span><span class="w">

</span><span class="c1"># ✅ Exception for programmer errors</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">divide</span><span class="p" data-group-id="4407959933-6">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p" data-group-id="4407959933-6">)</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="4407959933-7">do</span><span class="w">
  </span><span class="n">a</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">b</span><span class="w">
</span><span class="k" data-group-id="4407959933-7">end</span><span class="w">
</span><span class="c1"># Let it crash on division by zero - it&#39;s a programming error</span></code></pre><h2 id="summary" class="section-heading">
  <a href="#summary" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Summary</span>
</h2>
<p>Either provides error-safe computation with detailed failure context:</p><p><strong>Core Operations:</strong></p><ul><li><code class="inline">right/1</code>: Wrap success values</li><li><code class="inline">left/1</code>: Wrap error values with context</li><li><code class="inline">map/2</code>: Transform success values, preserve errors</li><li><code class="inline">bind/2</code>: Chain Either-returning operations with fail-fast behavior</li><li><code class="inline">ap/2</code>: Apply functions across multiple Either values</li><li><code class="inline">traverse_a/2</code>: Validate with error accumulation</li><li><code class="inline">sequence/1</code>: Convert <code class="inline">[Either e a]</code> to <code class="inline">Either e [a]</code> with fail-fast</li></ul><p><strong>Key Patterns:</strong></p><ul><li>Chain error-prone operations with <code class="inline">bind/2</code> for fail-fast</li><li>Validate multiple fields with <code class="inline">traverse_a/2</code> for error collection</li><li>Transform success values with <code class="inline">map/2</code></li><li>Pattern match for specific error handling and recovery</li><li><p>Convert from {:ok, value} | {:error, reason} tuples</p></li></ul><p><strong>Mathematical Properties:</strong></p><ul><li><strong>Functor</strong>: <code class="inline">map</code> preserves structure (Right-biased)</li><li><strong>Applicative</strong>: <code class="inline">ap</code> applies functions in context (fails if any Left)</li><li><strong>Monad</strong>: <code class="inline">bind</code> enables dependent sequencing with error propagation</li></ul><p>Remember: Either represents &quot;success or detailed failure&quot; - use it when error context matters for debugging, user feedback, or recovery strategies.</p>
</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="monad-usage-rules.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Funx.Monad Usage Rules
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="monad-effect-usage-rules.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Funx.Monad.Effect Usage Rules
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/funx/0.1.5" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/funx/0.1.5">Hex Preview</a>

              (<a href="https://preview.hex.pm/preview/funx/0.1.5/show/lib/monad/either/usage-rules.md">current file</a>)

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="funx.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.34.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
