<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.34.2">
    <meta name="project" content="funx v0.1.5">


    <title>Funx.Monad.Either Usage Rules — funx v0.1.5</title>
    <link rel="stylesheet" href="dist/html-elixir-F2VRIOKR.css" />


      <link rel="canonical" href="https://hexdocs.pm/funx/monad-either-usage-rules.html" />

    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-6F2C41C4.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-YIPIRHGU.js"></script>

  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

      <div>
        <a href="readme.html" class="sidebar-projectName" translate="no">
funx
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.1.5
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of funx</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/JKWA/funx/blob/v0.1.5/lib/monad/either/usage-rules.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>


    <span><code class="inline">Funx.Monad.Either</code> Usage Rules</span>
  </h1>

<h2 id="llm-functional-programming-foundation" class="section-heading">
  <a href="#llm-functional-programming-foundation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">LLM Functional Programming Foundation</span>
</h2>
<p><strong>Key Concepts for LLMs:</strong></p><p><strong>CRITICAL Elixir Implementation</strong>: All monadic operations are under <a href="Funx.Monad.html"><code class="inline">Funx.Monad</code></a> protocol</p><ul><li><strong>NO separate Functor/Applicative protocols</strong> - Elixir protocols cannot be extended after definition</li><li>Always use <code class="inline">Monad.map/2</code>, <code class="inline">Monad.bind/2</code>, <code class="inline">Monad.ap/2</code> or import <a href="Funx.Monad.html"><code class="inline">Funx.Monad</code></a></li><li>Different from Haskell's separate Functor, Applicative, Monad typeclasses</li></ul><p><strong>Either</strong>: Represents immediate success/failure with detailed error context</p><ul><li><code class="inline">left(error)</code> represents failure with error information</li><li><code class="inline">right(value)</code> represents success with the actual value</li><li><strong>Right-biased</strong>: Operations work on the Right (success) path</li><li><strong>Immediate/Synchronous</strong>: Values exist right now, no deferred execution</li><li><strong>No concurrency</strong>: All operations are synchronous - use Effect for async operations</li></ul><p><strong>Right-biased Monad</strong>: Operations transform Right values, preserve Left errors</p><ul><li><code class="inline">map/2</code>, <code class="inline">bind/2</code>, <code class="inline">ap/2</code> only operate on Right values</li><li>Left values (errors) pass through unchanged</li><li>Similar to Maybe but with error context preserved</li></ul><p><strong>Validation vs Error-handling</strong>: Two distinct patterns</p><ul><li><strong>Validation</strong>: Use <code class="inline">traverse_a/2</code> to collect ALL errors</li><li><strong>Error-handling</strong>: Use <code class="inline">bind/2</code> chains that stop on first error</li><li><strong>Critical difference</strong>: validation accumulates, error-handling short-circuits</li></ul><p><strong>Kleisli Functions</strong>: Functions <code class="inline">a -&gt; Either e b</code> (unwrapped input, wrapped output)</p><ul><li><strong>Primary use</strong>: <code class="inline">traverse/2</code>, <code class="inline">traverse_a/2</code>, and <code class="inline">concat_map/2</code> for list operations</li><li><strong>Individual use</strong>: <code class="inline">bind/2</code> for single Either values</li><li>Example: <code class="inline">validate_email :: String -&gt; Either ValidationError Email</code></li></ul><p><strong>Key List Operation Patterns:</strong></p><ul><li><code class="inline">concat([Either e a])</code> → <code class="inline">[a]</code> (extract all Right values, ignore Left)</li><li><code class="inline">concat_map([a], kleisli_fn)</code> → <code class="inline">[b]</code> (apply Kleisli, collect Right results)</li><li><code class="inline">traverse([a], kleisli_fn)</code> → <code class="inline">Either e [b]</code> (apply Kleisli, all succeed or first Left)</li><li><code class="inline">traverse_a([a], kleisli_fn)</code> → <code class="inline">Either [e] [b]</code> (apply Kleisli, all succeed or collect all Left)</li><li><code class="inline">sequence([Either e a])</code> → <code class="inline">Either e [a]</code> (like traverse with identity, first Left or all Right)</li></ul><p><strong>Sequence (Category Theory)</strong>: Transform type constructor order</p><ul><li><code class="inline">[Either e a]</code> → <code class="inline">Either e [a]</code> (list of Either becomes Either of list)</li><li>Fails fast: first Left value becomes the result</li><li>Success: all Right values collected into Right list</li></ul><h2 id="llm-decision-guide-when-to-use-either" class="section-heading">
  <a href="#llm-decision-guide-when-to-use-either" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">LLM Decision Guide: When to Use Either</span>
</h2>
<p><strong>✅ Use Either when:</strong></p><ul><li>Need specific error context/details</li><li>Multiple validation steps with different error types  </li><li>Business logic with detailed failure messages</li><li>Error recovery or different handling per error type</li><li>User says: &quot;validate&quot;, &quot;check&quot;, &quot;ensure&quot;, &quot;verify&quot;, &quot;error details&quot;</li></ul><p><strong>❌ Use Effect when:</strong></p><ul><li>Async operations (database calls, HTTP requests, file I/O)</li><li>Need concurrency or deferred execution</li><li>Operations that take significant time</li><li>User says: &quot;async&quot;, &quot;concurrent&quot;, &quot;fetch&quot;, &quot;call API&quot;</li></ul><p><strong>❌ Use Maybe when:</strong></p><ul><li>Simple presence/absence (no error context needed)</li><li>&quot;Not found&quot; is sufficient error information</li><li>Optional fields where missing is normal</li></ul><p><strong>⚡ Either Strategy Decision:</strong></p><ul><li><strong>Single operation error-handling</strong>: Use <code class="inline">bind/2</code> chains</li><li><strong>Multi-field validation</strong>: Use <code class="inline">validate/2</code> to collect all errors</li><li><strong>Transform success values</strong>: Use <code class="inline">map/2</code> with regular functions</li><li><strong>Combine Either values</strong>: Use <code class="inline">ap/2</code> for applicative patterns</li><li><strong>Convert from Maybe</strong>: Use <code class="inline">maybe_to_either/2</code> with error message</li><li><strong>Pattern match results</strong>: Use <code class="inline">%Left{left: error}</code> and <code class="inline">%Right{right: value}</code> struct patterns</li></ul><p><strong>⚙️ Function Choice Guide (Mathematical Purpose):</strong></p><ul><li><strong>Chain error-prone operations</strong>: <code class="inline">bind/2</code> with Kleisli functions</li><li><strong>Transform success values</strong>: <code class="inline">map/2</code> with regular functions</li><li><strong>Validate multiple fields</strong>: <code class="inline">validate/2</code> for comprehensive error collection</li><li><strong>Apply functions to multiple Either</strong>: <code class="inline">ap/2</code> for combining contexts</li><li><strong>Convert lists</strong>: <code class="inline">sequence/1</code> to collect successes or first failure</li><li><strong>Handle specific errors</strong>: Pattern match Left values for recovery</li></ul><h2 id="llm-context-clues" class="section-heading">
  <a href="#llm-context-clues" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">LLM Context Clues</span>
</h2>
<p><strong>User language → Either patterns:</strong></p><ul><li>&quot;validate user input&quot; → Use Either for validation with specific error messages</li><li>&quot;parse and validate&quot; → Chain with <code class="inline">bind/2</code> for step-by-step validation</li><li>&quot;check all fields&quot; → Use <code class="inline">validate/2</code> to collect all validation errors</li><li>&quot;detailed error messages&quot; → Left values contain specific error information</li><li>&quot;stop on first error&quot; → Use <code class="inline">bind/2</code> chains for fail-fast behavior</li><li>&quot;collect all errors&quot; → Use <code class="inline">validate/2</code> for comprehensive validation</li></ul><h2 id="quick-reference" class="section-heading">
  <a href="#quick-reference" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Quick Reference</span>
</h2>
<ul><li>Use <code class="inline">right(value)</code> for success, <code class="inline">left(error)</code> for failure</li><li>Chain operations with <code class="inline">bind/2</code> - stops on first Left (error)</li><li>Transform success values with <code class="inline">map/2</code> - leaves Left unchanged  </li><li>Use <code class="inline">bind/2</code> with identity to flatten nested Either values</li><li>Validate data comprehensively with <code class="inline">validate/2</code> - collects all errors</li><li><strong>Prefer <code class="inline">fold_l/3</code> over pattern matching</strong> for functional case analysis</li><li>Import <a href="Funx.Monad.html"><code class="inline">Funx.Monad</code></a> for <code class="inline">map</code>, <code class="inline">bind</code>, <code class="inline">ap</code> and <a href="Funx.Foldable.html"><code class="inline">Funx.Foldable</code></a> for <code class="inline">fold_l</code></li><li>Convert from Maybe with error context using helper functions</li></ul><h2 id="overview" class="section-heading">
  <a href="#overview" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Overview</span>
</h2>
<p><a href="Funx.Monad.Either.html"><code class="inline">Funx.Monad.Either</code></a> handles success/failure scenarios with detailed error context.</p><p>Use Either for:</p><ul><li>Parsing and validation with specific error messages</li><li>Operations that can fail in multiple ways</li><li>Business logic where error details matter for recovery</li><li>API responses where clients need error specifics</li></ul><p><strong>Key insight</strong>: Either represents &quot;success or failure&quot; with the failure carrying detailed information. Right-biased operations focus on the success path while preserving any errors encountered.</p><h2 id="constructors" class="section-heading">
  <a href="#constructors" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Constructors</span>
</h2>
<h3 id="right-1-wrap-a-success-value" class="section-heading">
  <a href="#right-1-wrap-a-success-value" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">right/1</code> - Wrap a Success Value</span>
</h3>
<p>Creates an Either representing success:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="4396942243-1">(</span><span class="mi">42</span><span class="p" data-group-id="4396942243-1">)</span><span class="w">           </span><span class="c1"># Success: contains 42</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="4396942243-2">(</span><span class="s">&quot;valid&quot;</span><span class="p" data-group-id="4396942243-2">)</span><span class="w">      </span><span class="c1"># Success: contains &quot;valid&quot;</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="4396942243-3">(</span><span class="p" data-group-id="4396942243-4">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="4396942243-4">]</span><span class="p" data-group-id="4396942243-3">)</span><span class="w">    </span><span class="c1"># Success: contains [1, 2, 3]</span></code></pre><h3 id="left-1-wrap-an-error-value" class="section-heading">
  <a href="#left-1-wrap-an-error-value" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">left/1</code> - Wrap an Error Value</span>
</h3>
<p>Creates an Either representing failure:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="0996761041-1">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="0996761041-1">)</span><span class="w">                    </span><span class="c1"># Failure: contains error message</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="0996761041-2">(</span><span class="p" data-group-id="0996761041-3">{</span><span class="ss">:validation</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p" data-group-id="0996761041-3">}</span><span class="p" data-group-id="0996761041-2">)</span><span class="w">   </span><span class="c1"># Failure: structured error</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="0996761041-4">(</span><span class="p" data-group-id="0996761041-5">%</span><span class="nc" data-group-id="0996761041-5">ValidationError</span><span class="p" data-group-id="0996761041-5">{</span><span class="p" data-group-id="0996761041-5">}</span><span class="p" data-group-id="0996761041-4">)</span><span class="w">         </span><span class="c1"># Failure: error struct</span></code></pre><h3 id="pure-1-alias-for-right-1" class="section-heading">
  <a href="#pure-1-alias-for-right-1" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">pure/1</code> - Alias for <code class="inline">right/1</code></span>
</h3>
<p>Alternative constructor for success values:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">pure</span><span class="p" data-group-id="0823257947-1">(</span><span class="mi">42</span><span class="p" data-group-id="0823257947-1">)</span><span class="w">    </span><span class="c1"># Same as Either.right(42)</span></code></pre><h2 id="core-operations" class="section-heading">
  <a href="#core-operations" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Core Operations</span>
</h2>
<h3 id="map-2-transform-success-values" class="section-heading">
  <a href="#map-2-transform-success-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">map/2</code> - Transform Success Values</span>
</h3>
<p>Applies a function to Right values, leaves Left values unchanged:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5605847333-1">(</span><span class="s">&quot;hello&quot;</span><span class="p" data-group-id="5605847333-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map</span><span class="p" data-group-id="5605847333-2">(</span><span class="o">&amp;</span><span class="nc">String</span><span class="o">.</span><span class="n">upcase</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5605847333-2">)</span><span class="w">        </span><span class="c1"># right(&quot;HELLO&quot;)</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="5605847333-3">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="5605847333-3">)</span><span class="w">  
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map</span><span class="p" data-group-id="5605847333-4">(</span><span class="o">&amp;</span><span class="nc">String</span><span class="o">.</span><span class="n">upcase</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5605847333-4">)</span><span class="w">        </span><span class="c1"># left(&quot;error&quot;) - function never runs</span></code></pre><p><strong>Use <code class="inline">map</code> when:</strong></p><ul><li>You want to transform the success value</li><li>The transformation function returns a plain value (not wrapped in Either)</li><li>You want to preserve the Either structure</li></ul><h3 id="bind-2-chain-error-prone-operations" class="section-heading">
  <a href="#bind-2-chain-error-prone-operations" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">bind/2</code> - Chain Error-Prone Operations</span>
</h3>
<p>Chains operations that return Either values, for fail-fast error handling:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># These functions return Either values</span><span class="w">
</span><span class="n">parse_int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="2733454711-1">fn</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
  </span><span class="k">case</span><span class="w"> </span><span class="nc">Integer</span><span class="o">.</span><span class="n">parse</span><span class="p" data-group-id="2733454711-2">(</span><span class="n">s</span><span class="p" data-group-id="2733454711-2">)</span><span class="w"> </span><span class="k" data-group-id="2733454711-3">do</span><span class="w">
    </span><span class="p" data-group-id="2733454711-4">{</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p" data-group-id="2733454711-4">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2733454711-5">(</span><span class="n">int</span><span class="p" data-group-id="2733454711-5">)</span><span class="w">
    </span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="2733454711-6">(</span><span class="s">&quot;Invalid integer: </span><span class="si" data-group-id="2733454711-7">#{</span><span class="n">s</span><span class="si" data-group-id="2733454711-7">}</span><span class="s">&quot;</span><span class="p" data-group-id="2733454711-6">)</span><span class="w">
  </span><span class="k" data-group-id="2733454711-3">end</span><span class="w">
</span><span class="k" data-group-id="2733454711-1">end</span><span class="w">

</span><span class="n">validate_positive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="2733454711-8">fn</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="2733454711-9">do</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2733454711-10">(</span><span class="n">n</span><span class="p" data-group-id="2733454711-10">)</span><span class="w">
  </span><span class="k" data-group-id="2733454711-9">else</span><span class="w"> 
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="2733454711-11">(</span><span class="s">&quot;Must be positive: </span><span class="si" data-group-id="2733454711-12">#{</span><span class="n">n</span><span class="si" data-group-id="2733454711-12">}</span><span class="s">&quot;</span><span class="p" data-group-id="2733454711-11">)</span><span class="w">
  </span><span class="k" data-group-id="2733454711-9">end</span><span class="w">
</span><span class="k" data-group-id="2733454711-8">end</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2733454711-13">(</span><span class="s">&quot;42&quot;</span><span class="p" data-group-id="2733454711-13">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2733454711-14">(</span><span class="n">parse_int</span><span class="p" data-group-id="2733454711-14">)</span><span class="w">           </span><span class="c1"># right(42)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2733454711-15">(</span><span class="n">validate_positive</span><span class="p" data-group-id="2733454711-15">)</span><span class="w">   </span><span class="c1"># right(42)</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2733454711-16">(</span><span class="s">&quot;invalid&quot;</span><span class="p" data-group-id="2733454711-16">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2733454711-17">(</span><span class="n">parse_int</span><span class="p" data-group-id="2733454711-17">)</span><span class="w">           </span><span class="c1"># left(&quot;Invalid integer: invalid&quot;) - chain stops</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2733454711-18">(</span><span class="n">validate_positive</span><span class="p" data-group-id="2733454711-18">)</span><span class="w">   </span><span class="c1"># left(&quot;Invalid integer: invalid&quot;) - never runs</span></code></pre><p><strong>Use <code class="inline">bind</code> when:</strong></p><ul><li>You're chaining operations that each can fail</li><li>Each step depends on the success of the previous step</li><li>You want fail-fast behavior (stop on first error)</li></ul><p><strong>Common bind pattern:</strong></p><pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">process_user_input</span><span class="p" data-group-id="7993943150-1">(</span><span class="n">input</span><span class="p" data-group-id="7993943150-1">)</span><span class="w"> </span><span class="k" data-group-id="7993943150-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="7993943150-3">(</span><span class="n">input</span><span class="p" data-group-id="7993943150-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="7993943150-4">(</span><span class="o">&amp;</span><span class="n">parse_user_data</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="7993943150-4">)</span><span class="w">      </span><span class="c1"># String -&gt; Either Error UserData</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="7993943150-5">(</span><span class="o">&amp;</span><span class="n">validate_user_data</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="7993943150-5">)</span><span class="w">   </span><span class="c1"># UserData -&gt; Either Error ValidUser</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="7993943150-6">(</span><span class="o">&amp;</span><span class="n">save_user</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="7993943150-6">)</span><span class="w">            </span><span class="c1"># ValidUser -&gt; Either Error SavedUser</span><span class="w">
</span><span class="k" data-group-id="7993943150-2">end</span></code></pre><h3 id="ap-2-apply-functions-across-either-values" class="section-heading">
  <a href="#ap-2-apply-functions-across-either-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">ap/2</code> - Apply Functions Across Either Values</span>
</h3>
<p>Applies a function in an Either to a value in an Either:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># Apply a wrapped function to wrapped values</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3273650780-1">(</span><span class="k" data-group-id="3273650780-2">fn</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="k" data-group-id="3273650780-2">end</span><span class="p" data-group-id="3273650780-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="3273650780-3">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3273650780-4">(</span><span class="mi">5</span><span class="p" data-group-id="3273650780-4">)</span><span class="p" data-group-id="3273650780-3">)</span><span class="w">          </span><span class="c1"># right(15)</span><span class="w">

</span><span class="c1"># Combine multiple Either values</span><span class="w">
</span><span class="n">add</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="3273650780-5">fn</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k" data-group-id="3273650780-6">fn</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="k" data-group-id="3273650780-6">end</span><span class="w"> </span><span class="k" data-group-id="3273650780-5">end</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3273650780-7">(</span><span class="n">add</span><span class="p" data-group-id="3273650780-7">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="3273650780-8">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3273650780-9">(</span><span class="mi">3</span><span class="p" data-group-id="3273650780-9">)</span><span class="p" data-group-id="3273650780-8">)</span><span class="w">          </span><span class="c1"># right(fn y -&gt; 3 + y end)  </span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="3273650780-10">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3273650780-11">(</span><span class="mi">4</span><span class="p" data-group-id="3273650780-11">)</span><span class="p" data-group-id="3273650780-10">)</span><span class="w">          </span><span class="c1"># right(7)</span><span class="w">

</span><span class="c1"># If any value is left, result is left</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3273650780-12">(</span><span class="n">add</span><span class="p" data-group-id="3273650780-12">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="3273650780-13">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="3273650780-14">(</span><span class="s">&quot;error1&quot;</span><span class="p" data-group-id="3273650780-14">)</span><span class="p" data-group-id="3273650780-13">)</span><span class="w">    </span><span class="c1"># left(&quot;error1&quot;)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="3273650780-15">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3273650780-16">(</span><span class="mi">4</span><span class="p" data-group-id="3273650780-16">)</span><span class="p" data-group-id="3273650780-15">)</span><span class="w">          </span><span class="c1"># left(&quot;error1&quot;)</span></code></pre><p><strong>Use <code class="inline">ap</code> when:</strong></p><ul><li>You want to apply a function to multiple Either values</li><li>You need all values to be Right for the operation to succeed</li><li>You're implementing applicative patterns</li></ul><h3 id="flattening-nested-either-values-with-bind" class="section-heading">
  <a href="#flattening-nested-either-values-with-bind" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Flattening Nested Either Values with <code class="inline">bind</code></span>
</h3>
<p>Since there's no <code class="inline">join/1</code> function, use <code class="inline">bind/2</code> with the identity function to flatten nested Either values:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># Flatten nested Right using bind</span><span class="w">
</span><span class="n">nested_right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1515468143-1">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1515468143-2">(</span><span class="mi">42</span><span class="p" data-group-id="1515468143-2">)</span><span class="p" data-group-id="1515468143-1">)</span><span class="w">
</span><span class="n">bind</span><span class="p" data-group-id="1515468143-3">(</span><span class="n">nested_right</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="1515468143-4">fn</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="k" data-group-id="1515468143-4">end</span><span class="p" data-group-id="1515468143-3">)</span><span class="w">    </span><span class="c1"># right(42)</span><span class="w">

</span><span class="c1"># Left in outer - stays Left</span><span class="w">
</span><span class="n">outer_left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="1515468143-5">(</span><span class="s">&quot;outer error&quot;</span><span class="p" data-group-id="1515468143-5">)</span><span class="w">
</span><span class="n">bind</span><span class="p" data-group-id="1515468143-6">(</span><span class="n">outer_left</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="1515468143-7">fn</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="k" data-group-id="1515468143-7">end</span><span class="p" data-group-id="1515468143-6">)</span><span class="w">      </span><span class="c1"># left(&quot;outer error&quot;)</span><span class="w">

</span><span class="c1"># Left in inner - becomes Left</span><span class="w">
</span><span class="n">inner_left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1515468143-8">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="1515468143-9">(</span><span class="s">&quot;inner error&quot;</span><span class="p" data-group-id="1515468143-9">)</span><span class="p" data-group-id="1515468143-8">)</span><span class="w">
</span><span class="n">bind</span><span class="p" data-group-id="1515468143-10">(</span><span class="n">inner_left</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="1515468143-11">fn</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="k" data-group-id="1515468143-11">end</span><span class="p" data-group-id="1515468143-10">)</span><span class="w">      </span><span class="c1"># left(&quot;inner error&quot;)</span></code></pre><p><strong>Use this pattern when:</strong></p><ul><li>You have nested Either values that need flattening</li><li>You're implementing monadic operations manually</li><li>You're working with higher-order Either computations</li></ul><h2 id="list-operations" class="section-heading">
  <a href="#list-operations" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">List Operations</span>
</h2>
<h3 id="concat-1-extract-all-right-values" class="section-heading">
  <a href="#concat-1-extract-all-right-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">concat/1</code> - Extract All Right Values</span>
</h3>
<p>Removes all Left values and unwraps Right values from a list:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">concat</span><span class="p" data-group-id="3893273283-1">(</span><span class="p" data-group-id="3893273283-2">[</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3893273283-3">(</span><span class="mi">1</span><span class="p" data-group-id="3893273283-3">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="3893273283-4">(</span><span class="s">&quot;error1&quot;</span><span class="p" data-group-id="3893273283-4">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3893273283-5">(</span><span class="mi">3</span><span class="p" data-group-id="3893273283-5">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="3893273283-6">(</span><span class="s">&quot;error2&quot;</span><span class="p" data-group-id="3893273283-6">)</span><span class="w">
</span><span class="p" data-group-id="3893273283-2">]</span><span class="p" data-group-id="3893273283-1">)</span><span class="w">                              </span><span class="c1"># [1, 3]</span></code></pre><h3 id="validate-2-comprehensive-data-validation" class="section-heading">
  <a href="#validate-2-comprehensive-data-validation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">validate/2</code> - Comprehensive Data Validation</span>
</h3>
<p>The high-level validation function that collects ALL errors from multiple validators:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># Basic validation with error lists</span><span class="w">
</span><span class="n">validate_positive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="4975041561-1">fn</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="4975041561-2">(</span><span class="n">n</span><span class="p" data-group-id="4975041561-2">)</span><span class="p">,</span><span class="w"> </span><span class="ss">else</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="4975041561-3">(</span><span class="p" data-group-id="4975041561-4">[</span><span class="s">&quot;Must be positive&quot;</span><span class="p" data-group-id="4975041561-4">]</span><span class="p" data-group-id="4975041561-3">)</span><span class="w">
</span><span class="k" data-group-id="4975041561-1">end</span><span class="w">

</span><span class="n">validate_even</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="4975041561-5">fn</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="n">rem</span><span class="p" data-group-id="4975041561-6">(</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="4975041561-6">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="4975041561-7">(</span><span class="n">n</span><span class="p" data-group-id="4975041561-7">)</span><span class="p">,</span><span class="w"> </span><span class="ss">else</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="4975041561-8">(</span><span class="p" data-group-id="4975041561-9">[</span><span class="s">&quot;Must be even&quot;</span><span class="p" data-group-id="4975041561-9">]</span><span class="p" data-group-id="4975041561-8">)</span><span class="w">
</span><span class="k" data-group-id="4975041561-5">end</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="4975041561-10">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4975041561-11">[</span><span class="n">validate_positive</span><span class="p">,</span><span class="w"> </span><span class="n">validate_even</span><span class="p" data-group-id="4975041561-11">]</span><span class="p" data-group-id="4975041561-10">)</span><span class="w">
</span><span class="c1"># left([&quot;Must be even&quot;])</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="4975041561-12">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4975041561-13">[</span><span class="n">validate_positive</span><span class="p">,</span><span class="w"> </span><span class="n">validate_even</span><span class="p" data-group-id="4975041561-13">]</span><span class="p" data-group-id="4975041561-12">)</span><span class="w">  
</span><span class="c1"># left([&quot;Must be positive&quot;])</span></code></pre><p><strong>Use <code class="inline">validate</code> when:</strong></p><ul><li>You need comprehensive validation with ALL error details</li><li>You're validating forms or user input</li><li>You want to show users all validation problems at once</li><li>You need to apply multiple validation rules to a single value</li></ul><h3 id="validation-with-validationerror" class="section-heading">
  <a href="#validation-with-validationerror" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Validation with ValidationError</span>
</h3>
<p>For comprehensive domain validation with structured error handling, use <a href="Funx.Errors.ValidationError.html"><code class="inline">Funx.Errors.ValidationError</code></a>:</p><pre><code class="makeup elixir" translate="no"><span class="kn">alias</span><span class="w"> </span><span class="nc">Funx.Errors.ValidationError</span><span class="w">

</span><span class="c1"># Wrap simple errors in ValidationError</span><span class="w">
</span><span class="n">validate_age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="4108497707-1">fn</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_predicate</span><span class="p" data-group-id="4108497707-2">(</span><span class="n">age</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="p" data-group-id="4108497707-3">(</span><span class="ni">&amp;1</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">18</span><span class="p" data-group-id="4108497707-3">)</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Must be 18 or older&quot;</span><span class="p" data-group-id="4108497707-2">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">map_left</span><span class="p" data-group-id="4108497707-4">(</span><span class="o">&amp;</span><span class="nc">ValidationError</span><span class="o">.</span><span class="n">new</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="4108497707-4">)</span><span class="w">
</span><span class="k" data-group-id="4108497707-1">end</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="4108497707-5">(</span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4108497707-6">[</span><span class="n">validate_age</span><span class="p" data-group-id="4108497707-6">]</span><span class="p" data-group-id="4108497707-5">)</span><span class="w">
</span><span class="c1"># left(ValidationError{errors: [&quot;Must be 18 or older&quot;]})</span></code></pre><p><strong>See <code class="inline">ValidationError</code> usage rules for advanced patterns:</strong></p><ul><li>Curried validation functions with <code class="inline">curry_r/1</code></li><li>Fallback validation with <code class="inline">Either.or_else/2</code></li><li>Error message transformation techniques</li><li>Group validation with <code class="inline">traverse/2</code> and <code class="inline">traverse_a/2</code></li><li>Sequential vs comprehensive validation strategies</li></ul><h3 id="concat_map-2-apply-function-and-collect-rights" class="section-heading">
  <a href="#concat_map-2-apply-function-and-collect-rights" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">concat_map/2</code> - Apply Function and Collect Rights</span>
</h3>
<p>Applies a function to each element, collecting only Right results:</p><h3 id="traverse-2-apply-kleisli-to-list-first-error-or-all-success" class="section-heading">
  <a href="#traverse-2-apply-kleisli-to-list-first-error-or-all-success" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">traverse/2</code> - Apply Kleisli to List (First Error or All Success)</span>
</h3>
<p>Applies a Kleisli function to each element, stopping at first Left:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># Kleisli function: String -&gt; Either String Integer</span><span class="w">
</span><span class="n">parse_number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="2270624943-1">fn</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">case</span><span class="w"> </span><span class="nc">Integer</span><span class="o">.</span><span class="n">parse</span><span class="p" data-group-id="2270624943-2">(</span><span class="n">str</span><span class="p" data-group-id="2270624943-2">)</span><span class="w"> </span><span class="k" data-group-id="2270624943-3">do</span><span class="w">
    </span><span class="p" data-group-id="2270624943-4">{</span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p" data-group-id="2270624943-4">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2270624943-5">(</span><span class="n">num</span><span class="p" data-group-id="2270624943-5">)</span><span class="w">
    </span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="2270624943-6">(</span><span class="s">&quot;Invalid number: </span><span class="si" data-group-id="2270624943-7">#{</span><span class="n">str</span><span class="si" data-group-id="2270624943-7">}</span><span class="s">&quot;</span><span class="p" data-group-id="2270624943-6">)</span><span class="w">
  </span><span class="k" data-group-id="2270624943-3">end</span><span class="w">
</span><span class="k" data-group-id="2270624943-1">end</span><span class="w">

</span><span class="c1"># All succeed - get Either list</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse</span><span class="p" data-group-id="2270624943-8">(</span><span class="p" data-group-id="2270624943-9">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p" data-group-id="2270624943-9">]</span><span class="p">,</span><span class="w"> </span><span class="n">parse_number</span><span class="p" data-group-id="2270624943-8">)</span><span class="w">  </span><span class="c1"># right([1, 2, 3])</span><span class="w">

</span><span class="c1"># First failure stops processing</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse</span><span class="p" data-group-id="2270624943-10">(</span><span class="p" data-group-id="2270624943-11">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p" data-group-id="2270624943-11">]</span><span class="p">,</span><span class="w"> </span><span class="n">parse_number</span><span class="p" data-group-id="2270624943-10">)</span><span class="w">  
</span><span class="c1"># left(&quot;Invalid number: invalid&quot;)</span></code></pre><p><strong>Use <code class="inline">traverse</code> when:</strong></p><ul><li>All operations must succeed for meaningful result</li><li>You want fail-fast behavior on lists</li><li>Converting <code class="inline">[a]</code> to <code class="inline">Either e [b]</code> with validation</li></ul><h3 id="traverse_a-2-apply-kleisli-to-list-collect-all-errors" class="section-heading">
  <a href="#traverse_a-2-apply-kleisli-to-list-collect-all-errors" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">traverse_a/2</code> - Apply Kleisli to List (Collect All Errors)</span>
</h3>
<p>Applies a Kleisli function to each element, collecting ALL errors:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># Same Kleisli function as above, but returns error lists for accumulation</span><span class="w">
</span><span class="n">validate_number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="8545378836-1">fn</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">case</span><span class="w"> </span><span class="nc">Integer</span><span class="o">.</span><span class="n">parse</span><span class="p" data-group-id="8545378836-2">(</span><span class="n">str</span><span class="p" data-group-id="8545378836-2">)</span><span class="w"> </span><span class="k" data-group-id="8545378836-3">do</span><span class="w">
    </span><span class="p" data-group-id="8545378836-4">{</span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p" data-group-id="8545378836-4">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8545378836-5">(</span><span class="n">num</span><span class="p" data-group-id="8545378836-5">)</span><span class="w">
    </span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8545378836-6">(</span><span class="p" data-group-id="8545378836-7">[</span><span class="s">&quot;Invalid number: </span><span class="si" data-group-id="8545378836-8">#{</span><span class="n">str</span><span class="si" data-group-id="8545378836-8">}</span><span class="s">&quot;</span><span class="p" data-group-id="8545378836-7">]</span><span class="p" data-group-id="8545378836-6">)</span><span class="w">  </span><span class="c1"># List for accumulation</span><span class="w">
  </span><span class="k" data-group-id="8545378836-3">end</span><span class="w">
</span><span class="k" data-group-id="8545378836-1">end</span><span class="w">

</span><span class="c1"># Collect ALL errors</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="8545378836-9">(</span><span class="p" data-group-id="8545378836-10">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bad&quot;</span><span class="p" data-group-id="8545378836-10">]</span><span class="p">,</span><span class="w"> </span><span class="n">validate_number</span><span class="p" data-group-id="8545378836-9">)</span><span class="w">
</span><span class="c1"># left([&quot;Invalid number: invalid&quot;, &quot;Invalid number: bad&quot;])</span><span class="w">

</span><span class="c1"># All succeed - get Right list</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="8545378836-11">(</span><span class="p" data-group-id="8545378836-12">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p" data-group-id="8545378836-12">]</span><span class="p">,</span><span class="w"> </span><span class="n">validate_number</span><span class="p" data-group-id="8545378836-11">)</span><span class="w">  </span><span class="c1"># right([1, 2, 3])</span></code></pre><p><strong>Use <code class="inline">traverse_a</code> when:</strong></p><ul><li>You want to collect ALL errors from validation</li><li>You need comprehensive error reporting</li><li>You're implementing validation that shows all problems at once</li></ul><h3 id="concat_map-2-apply-kleisli-to-list-collect-successes" class="section-heading">
  <a href="#concat_map-2-apply-kleisli-to-list-collect-successes" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">concat_map/2</code> - Apply Kleisli to List (Collect Successes)</span>
</h3>
<p>Applies a Kleisli function to each element, collecting only successful results:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># Collect only successes - get plain list</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">concat_map</span><span class="p" data-group-id="8278911805-1">(</span><span class="p" data-group-id="8278911805-2">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bad&quot;</span><span class="p" data-group-id="8278911805-2">]</span><span class="p">,</span><span class="w"> </span><span class="n">parse_number</span><span class="p" data-group-id="8278911805-1">)</span><span class="w">  </span><span class="c1"># [1, 3]</span><span class="w">

</span><span class="c1"># All succeed - get all results</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">concat_map</span><span class="p" data-group-id="8278911805-3">(</span><span class="p" data-group-id="8278911805-4">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p" data-group-id="8278911805-4">]</span><span class="p">,</span><span class="w"> </span><span class="n">parse_number</span><span class="p" data-group-id="8278911805-3">)</span><span class="w">  </span><span class="c1"># [1, 2, 3]</span><span class="w">

</span><span class="c1"># All fail - get empty list</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">concat_map</span><span class="p" data-group-id="8278911805-5">(</span><span class="p" data-group-id="8278911805-6">[</span><span class="s">&quot;bad&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="8278911805-6">]</span><span class="p">,</span><span class="w"> </span><span class="n">parse_number</span><span class="p" data-group-id="8278911805-5">)</span><span class="w">  </span><span class="c1"># []</span></code></pre><p><strong>Use <code class="inline">concat_map</code> when:</strong></p><ul><li>Partial success is acceptable</li><li>You want to collect all valid results</li><li>You need resilient processing that continues on failure</li></ul><h3 id="sequence-1-convert-list-of-either-to-either-list" class="section-heading">
  <a href="#sequence-1-convert-list-of-either-to-either-list" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">sequence/1</code> - Convert List of Either to Either List</span>
</h3>
<p>Converts <code class="inline">[Either e a]</code> to <code class="inline">Either e [a]</code> - equivalent to <code class="inline">traverse</code> with identity function:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># All success - collect values</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">sequence</span><span class="p" data-group-id="6354516526-1">(</span><span class="p" data-group-id="6354516526-2">[</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6354516526-3">(</span><span class="mi">1</span><span class="p" data-group-id="6354516526-3">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6354516526-4">(</span><span class="mi">2</span><span class="p" data-group-id="6354516526-4">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6354516526-5">(</span><span class="mi">3</span><span class="p" data-group-id="6354516526-5">)</span><span class="w">
</span><span class="p" data-group-id="6354516526-2">]</span><span class="p" data-group-id="6354516526-1">)</span><span class="w">                              </span><span class="c1"># right([1, 2, 3])</span><span class="w">

</span><span class="c1"># First failure stops and returns that error</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">sequence</span><span class="p" data-group-id="6354516526-6">(</span><span class="p" data-group-id="6354516526-7">[</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6354516526-8">(</span><span class="mi">1</span><span class="p" data-group-id="6354516526-8">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="6354516526-9">(</span><span class="s">&quot;error2&quot;</span><span class="p" data-group-id="6354516526-9">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="6354516526-10">(</span><span class="s">&quot;error3&quot;</span><span class="p" data-group-id="6354516526-10">)</span><span class="w">
</span><span class="p" data-group-id="6354516526-7">]</span><span class="p" data-group-id="6354516526-6">)</span><span class="w">                              </span><span class="c1"># left(&quot;error2&quot;)</span><span class="w">

</span><span class="c1"># Relationship to traverse</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">sequence</span><span class="p" data-group-id="6354516526-11">(</span><span class="n">either_list</span><span class="p" data-group-id="6354516526-11">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse</span><span class="p" data-group-id="6354516526-12">(</span><span class="n">either_list</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="6354516526-13">fn</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="k" data-group-id="6354516526-13">end</span><span class="p" data-group-id="6354516526-12">)</span></code></pre><p><strong>Use <code class="inline">sequence</code> when:</strong></p><ul><li>You have a list of Either values from previous computations</li><li>You want all to succeed, or the first failure</li><li>You're collecting results from multiple operations</li></ul><h3 id="operation-comparison" class="section-heading">
  <a href="#operation-comparison" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Operation Comparison</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">user_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="7994989789-1">[</span><span class="s">&quot;valid@email.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid-email&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;another@valid.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bad-format&quot;</span><span class="p" data-group-id="7994989789-1">]</span><span class="w">

</span><span class="c1"># traverse: Stop at first error</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse</span><span class="p" data-group-id="7994989789-2">(</span><span class="n">user_data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_email</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="7994989789-2">)</span><span class="w">
</span><span class="c1"># left(&quot;Invalid email format: invalid-email&quot;)</span><span class="w">

</span><span class="c1"># traverse_a: Collect all errors  </span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="7994989789-3">(</span><span class="n">user_data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_email_with_list_error</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="7994989789-3">)</span><span class="w">
</span><span class="c1"># left([&quot;Invalid email format: invalid-email&quot;, &quot;Invalid email format: bad-format&quot;])</span><span class="w">

</span><span class="c1"># concat_map: Collect successes, ignore failures</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">concat_map</span><span class="p" data-group-id="7994989789-4">(</span><span class="n">user_data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_email</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="7994989789-4">)</span><span class="w">
</span><span class="c1"># [&quot;valid@email.com&quot;, &quot;another@valid.com&quot;]</span></code></pre><h2 id="validation" class="section-heading">
  <a href="#validation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Validation</span>
</h2>
<p>Validation is a specialized use of Either for comprehensive error collection.</p><p>See the <code class="inline">validate/2</code> function in the List Operations section above.</p><h2 id="lifting" class="section-heading">
  <a href="#lifting" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Lifting</span>
</h2>
<h3 id="lift_predicate-3-convert-predicate-to-either" class="section-heading">
  <a href="#lift_predicate-3-convert-predicate-to-either" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">lift_predicate/3</code> - Convert Predicate to Either</span>
</h3>
<p>Converts a predicate function into Either-returning validation:</p><pre><code class="makeup elixir" translate="no"><span class="n">validate_positive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_predicate</span><span class="p" data-group-id="6222284470-1">(</span><span class="o">&amp;</span><span class="p" data-group-id="6222284470-2">(</span><span class="ni">&amp;1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="6222284470-2">)</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Must be positive&quot;</span><span class="p" data-group-id="6222284470-1">)</span><span class="w">

</span><span class="n">validate_positive</span><span class="o">.</span><span class="p" data-group-id="6222284470-3">(</span><span class="mi">5</span><span class="p" data-group-id="6222284470-3">)</span><span class="w">   </span><span class="c1"># right(5)</span><span class="w">
</span><span class="n">validate_positive</span><span class="o">.</span><span class="p" data-group-id="6222284470-4">(</span><span class="o">-</span><span class="mi">1</span><span class="p" data-group-id="6222284470-4">)</span><span class="w">  </span><span class="c1"># left(&quot;Must be positive&quot;)</span></code></pre><h3 id="lift_maybe-2-convert-maybe-to-either" class="section-heading">
  <a href="#lift_maybe-2-convert-maybe-to-either" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">lift_maybe/2</code> - Convert Maybe to Either</span>
</h3>
<p>Converts a Maybe to Either with error context:</p><pre><code class="makeup elixir" translate="no"><span class="n">maybe_user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Maybe</span><span class="o">.</span><span class="n">just</span><span class="p" data-group-id="2831023246-1">(</span><span class="p" data-group-id="2831023246-2">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p" data-group-id="2831023246-2">}</span><span class="p" data-group-id="2831023246-1">)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_maybe</span><span class="p" data-group-id="2831023246-3">(</span><span class="n">maybe_user</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;User not found&quot;</span><span class="p" data-group-id="2831023246-3">)</span><span class="w">  </span><span class="c1"># right(%{name: &quot;Alice&quot;})</span><span class="w">

</span><span class="nc">Maybe</span><span class="o">.</span><span class="n">nothing</span><span class="p" data-group-id="2831023246-4">(</span><span class="p" data-group-id="2831023246-4">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_maybe</span><span class="p" data-group-id="2831023246-5">(</span><span class="s">&quot;User not found&quot;</span><span class="p" data-group-id="2831023246-5">)</span><span class="w">  </span><span class="c1"># left(&quot;User not found&quot;)</span></code></pre><h3 id="lift_eq-1-and-lift_ord-1-lift-comparison-functions" class="section-heading">
  <a href="#lift_eq-1-and-lift_ord-1-lift-comparison-functions" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">lift_eq/1</code> and <code class="inline">lift_ord/1</code> - Lift Comparison Functions</span>
</h3>
<p>Lifts comparison functions for use in Either context:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># Lift equality for Either values</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_eq</span><span class="p" data-group-id="8122243520-1">(</span><span class="o">&amp;</span><span class="o">==</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="8122243520-1">)</span><span class="w">

</span><span class="c1"># Lift ordering for Either values  </span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_ord</span><span class="p" data-group-id="8122243520-2">(</span><span class="o">&amp;</span><span class="n">compare</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="8122243520-2">)</span></code></pre><h2 id="elixir-interoperability" class="section-heading">
  <a href="#elixir-interoperability" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Elixir Interoperability</span>
</h2>
<h3 id="from_result-1-convert-from-result-tuples" class="section-heading">
  <a href="#from_result-1-convert-from-result-tuples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">from_result/1</code> - Convert from Result Tuples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert from {:ok, value} | {:error, reason} tuples</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">from_result</span><span class="p" data-group-id="5893642938-1">(</span><span class="p" data-group-id="5893642938-2">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="mi">42</span><span class="p" data-group-id="5893642938-2">}</span><span class="p" data-group-id="5893642938-1">)</span><span class="w">         </span><span class="c1"># right(42)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">from_result</span><span class="p" data-group-id="5893642938-3">(</span><span class="p" data-group-id="5893642938-4">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;fail&quot;</span><span class="p" data-group-id="5893642938-4">}</span><span class="p" data-group-id="5893642938-3">)</span><span class="w">  </span><span class="c1"># left(&quot;fail&quot;)</span></code></pre><h3 id="to_result-1-convert-to-result-tuples" class="section-heading">
  <a href="#to_result-1-convert-to-result-tuples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">to_result/1</code> - Convert to Result Tuples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert to {:ok, value} | {:error, reason} tuples</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">to_result</span><span class="p" data-group-id="0013889594-1">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="0013889594-2">(</span><span class="mi">42</span><span class="p" data-group-id="0013889594-2">)</span><span class="p" data-group-id="0013889594-1">)</span><span class="w">        </span><span class="c1"># {:ok, 42}</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">to_result</span><span class="p" data-group-id="0013889594-3">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="0013889594-4">(</span><span class="s">&quot;fail&quot;</span><span class="p" data-group-id="0013889594-4">)</span><span class="p" data-group-id="0013889594-3">)</span><span class="w">     </span><span class="c1"># {:error, &quot;fail&quot;}</span></code></pre><h3 id="from_try-1-safe-function-execution" class="section-heading">
  <a href="#from_try-1-safe-function-execution" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">from_try/1</code> - Safe Function Execution</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Run function safely, catching exceptions</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">from_try</span><span class="p" data-group-id="6541003311-1">(</span><span class="k" data-group-id="6541003311-2">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="6541003311-2">end</span><span class="p" data-group-id="6541003311-1">)</span><span class="w">  </span><span class="c1"># left(%ArithmeticError{})</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">from_try</span><span class="p" data-group-id="6541003311-3">(</span><span class="k" data-group-id="6541003311-4">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k" data-group-id="6541003311-4">end</span><span class="p" data-group-id="6541003311-3">)</span><span class="w">  </span><span class="c1"># right(21.0)</span></code></pre><h3 id="to_try-1-unwrap-or-raise" class="section-heading">
  <a href="#to_try-1-unwrap-or-raise" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">to_try!/1</code> - Unwrap or Raise</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">to_try!</span><span class="p" data-group-id="5289427609-1">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5289427609-2">(</span><span class="mi">42</span><span class="p" data-group-id="5289427609-2">)</span><span class="p" data-group-id="5289427609-1">)</span><span class="w">       </span><span class="c1"># 42</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">to_try!</span><span class="p" data-group-id="5289427609-3">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="5289427609-4">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="5289427609-4">)</span><span class="p" data-group-id="5289427609-3">)</span><span class="w">   </span><span class="c1"># raises RuntimeError: &quot;error&quot;</span></code></pre><h2 id="folding-either-values" class="section-heading">
  <a href="#folding-either-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Folding Either Values</span>
</h2>
<p><strong>Core Concept</strong>: Both <code class="inline">Left</code> and <code class="inline">Right</code> implement the <a href="Funx.Foldable.html"><code class="inline">Funx.Foldable</code></a> protocol, providing <code class="inline">fold_l/3</code> for catamorphism (breaking down data structures).</p><h3 id="fold_l-3-functional-case-analysis" class="section-heading">
  <a href="#fold_l-3-functional-case-analysis" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">fold_l/3</code> - Functional Case Analysis</span>
</h3>
<p>The fundamental operation for handling Either values without pattern matching:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># fold_l(either_value, right_function, left_function)</span><span class="w">
</span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="2398882471-1">(</span><span class="n">either_value</span><span class="p">,</span><span class="w"> 
  </span><span class="k" data-group-id="2398882471-2">fn</span><span class="w"> </span><span class="n">success_value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Success: </span><span class="si" data-group-id="2398882471-3">#{</span><span class="n">success_value</span><span class="si" data-group-id="2398882471-3">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="2398882471-2">end</span><span class="p">,</span><span class="w">  </span><span class="c1"># Right case</span><span class="w">
  </span><span class="k" data-group-id="2398882471-4">fn</span><span class="w"> </span><span class="n">error_value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Error: </span><span class="si" data-group-id="2398882471-5">#{</span><span class="n">error_value</span><span class="si" data-group-id="2398882471-5">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="2398882471-4">end</span><span class="w">        </span><span class="c1"># Left case</span><span class="w">
</span><span class="p" data-group-id="2398882471-1">)</span><span class="w">

</span><span class="c1"># Examples</span><span class="w">
</span><span class="n">fold_l</span><span class="p" data-group-id="2398882471-6">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2398882471-7">(</span><span class="mi">42</span><span class="p" data-group-id="2398882471-7">)</span><span class="p">,</span><span class="w"> 
  </span><span class="k" data-group-id="2398882471-8">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k" data-group-id="2398882471-8">end</span><span class="p">,</span><span class="w">     </span><span class="c1"># Runs this: 84</span><span class="w">
  </span><span class="k" data-group-id="2398882471-9">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="2398882471-9">end</span><span class="w">              </span><span class="c1"># Never runs</span><span class="w">
</span><span class="p" data-group-id="2398882471-6">)</span><span class="w">

</span><span class="n">fold_l</span><span class="p" data-group-id="2398882471-10">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="2398882471-11">(</span><span class="s">&quot;failed&quot;</span><span class="p" data-group-id="2398882471-11">)</span><span class="p">,</span><span class="w"> 
  </span><span class="k" data-group-id="2398882471-12">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k" data-group-id="2398882471-12">end</span><span class="p">,</span><span class="w">     </span><span class="c1"># Never runs</span><span class="w">
  </span><span class="k" data-group-id="2398882471-13">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Got: </span><span class="si" data-group-id="2398882471-14">#{</span><span class="n">error</span><span class="si" data-group-id="2398882471-14">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="2398882471-13">end</span><span class="w"> </span><span class="c1"># Runs this: &quot;Got: failed&quot;</span><span class="w">
</span><span class="p" data-group-id="2398882471-10">)</span></code></pre><p><strong>Use <code class="inline">fold_l</code> when:</strong></p><ul><li>You need to convert Either to a different type</li><li>You want functional case analysis without pattern matching</li><li>You're implementing higher-level combinators</li><li>You need to handle both success and error cases</li></ul><h3 id="folding-vs-pattern-matching" class="section-heading">
  <a href="#folding-vs-pattern-matching" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Folding vs Pattern Matching</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Imperative pattern matching</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">either_result</span><span class="w"> </span><span class="k" data-group-id="9377715926-1">do</span><span class="w">
  </span><span class="p" data-group-id="9377715926-2">%</span><span class="nc" data-group-id="9377715926-2">Right</span><span class="p" data-group-id="9377715926-2">{</span><span class="ss">right</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="9377715926-2">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Success: </span><span class="si" data-group-id="9377715926-3">#{</span><span class="n">value</span><span class="si" data-group-id="9377715926-3">}</span><span class="s">&quot;</span><span class="w">
  </span><span class="p" data-group-id="9377715926-4">%</span><span class="nc" data-group-id="9377715926-4">Left</span><span class="p" data-group-id="9377715926-4">{</span><span class="ss">left</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="9377715926-4">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Error: </span><span class="si" data-group-id="9377715926-5">#{</span><span class="n">error</span><span class="si" data-group-id="9377715926-5">}</span><span class="s">&quot;</span><span class="w">
</span><span class="k" data-group-id="9377715926-1">end</span><span class="w">

</span><span class="c1"># ✅ Functional folding</span><span class="w">
</span><span class="n">fold_l</span><span class="p" data-group-id="9377715926-6">(</span><span class="n">either_result</span><span class="p">,</span><span class="w">
  </span><span class="k" data-group-id="9377715926-7">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Success: </span><span class="si" data-group-id="9377715926-8">#{</span><span class="n">value</span><span class="si" data-group-id="9377715926-8">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="9377715926-7">end</span><span class="p">,</span><span class="w">
  </span><span class="k" data-group-id="9377715926-9">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Error: </span><span class="si" data-group-id="9377715926-10">#{</span><span class="n">error</span><span class="si" data-group-id="9377715926-10">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="9377715926-9">end</span><span class="w">
</span><span class="p" data-group-id="9377715926-6">)</span></code></pre><h3 id="advanced-folding-patterns" class="section-heading">
  <a href="#advanced-folding-patterns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Advanced Folding Patterns</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert Either to Result tuple</span><span class="w">
</span><span class="n">to_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="5539723812-1">fn</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="n">fold_l</span><span class="p" data-group-id="5539723812-2">(</span><span class="n">either</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="5539723812-3">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="5539723812-4">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="5539723812-4">}</span><span class="w"> </span><span class="k" data-group-id="5539723812-3">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="5539723812-5">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="5539723812-6">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="5539723812-6">}</span><span class="w"> </span><span class="k" data-group-id="5539723812-5">end</span><span class="w">
  </span><span class="p" data-group-id="5539723812-2">)</span><span class="w">
</span><span class="k" data-group-id="5539723812-1">end</span><span class="w">

</span><span class="c1"># Extract value with default</span><span class="w">
</span><span class="n">get_or_default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="5539723812-7">fn</span><span class="w"> </span><span class="n">either</span><span class="p">,</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="n">fold_l</span><span class="p" data-group-id="5539723812-8">(</span><span class="n">either</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="5539723812-9">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k" data-group-id="5539723812-9">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="5539723812-10">fn</span><span class="w"> </span><span class="c">_error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="k" data-group-id="5539723812-10">end</span><span class="w">
  </span><span class="p" data-group-id="5539723812-8">)</span><span class="w">
</span><span class="k" data-group-id="5539723812-7">end</span><span class="w">

</span><span class="c1"># Conditional processing based on Either state</span><span class="w">
</span><span class="n">process_conditionally</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="5539723812-11">fn</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="n">fold_l</span><span class="p" data-group-id="5539723812-12">(</span><span class="n">either</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="5539723812-13">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">expensive_success_operation</span><span class="p" data-group-id="5539723812-14">(</span><span class="n">value</span><span class="p" data-group-id="5539723812-14">)</span><span class="w"> </span><span class="k" data-group-id="5539723812-13">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="5539723812-15">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">log_error_and_return_default</span><span class="p" data-group-id="5539723812-16">(</span><span class="n">error</span><span class="p" data-group-id="5539723812-16">)</span><span class="w"> </span><span class="k" data-group-id="5539723812-15">end</span><span class="w">
  </span><span class="p" data-group-id="5539723812-12">)</span><span class="w">
</span><span class="k" data-group-id="5539723812-11">end</span></code></pre><p><strong>When pattern matching is still appropriate:</strong></p><pre><code class="makeup elixir" translate="no"><span class="c1"># Complex data destructuring that fold_l can&#39;t handle elegantly</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">either_result</span><span class="w"> </span><span class="k" data-group-id="2327459532-1">do</span><span class="w">
  </span><span class="p" data-group-id="2327459532-2">%</span><span class="nc" data-group-id="2327459532-2">Right</span><span class="p" data-group-id="2327459532-2">{</span><span class="ss">right</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2327459532-3">%</span><span class="nc" data-group-id="2327459532-3">User</span><span class="p" data-group-id="2327459532-3">{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="ss">role</span><span class="p">:</span><span class="w"> </span><span class="ss">:admin</span><span class="p">,</span><span class="w"> </span><span class="ss">permissions</span><span class="p">:</span><span class="w"> </span><span class="n">perms</span><span class="p" data-group-id="2327459532-3">}</span><span class="p" data-group-id="2327459532-2">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
    </span><span class="n">handle_admin</span><span class="p" data-group-id="2327459532-4">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">perms</span><span class="p" data-group-id="2327459532-4">)</span><span class="w">
  </span><span class="p" data-group-id="2327459532-5">%</span><span class="nc" data-group-id="2327459532-5">Right</span><span class="p" data-group-id="2327459532-5">{</span><span class="ss">right</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2327459532-6">%</span><span class="nc" data-group-id="2327459532-6">User</span><span class="p" data-group-id="2327459532-6">{</span><span class="ss">role</span><span class="p">:</span><span class="w"> </span><span class="ss">:user</span><span class="p" data-group-id="2327459532-6">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user</span><span class="p" data-group-id="2327459532-5">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
    </span><span class="n">handle_regular_user</span><span class="p" data-group-id="2327459532-7">(</span><span class="n">user</span><span class="p" data-group-id="2327459532-7">)</span><span class="w">
  </span><span class="p" data-group-id="2327459532-8">%</span><span class="nc" data-group-id="2327459532-8">Left</span><span class="p" data-group-id="2327459532-8">{</span><span class="ss">left</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2327459532-9">%</span><span class="nc" data-group-id="2327459532-9">ValidationError</span><span class="p" data-group-id="2327459532-9">{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="ss">message</span><span class="p">:</span><span class="w"> </span><span class="n">msg</span><span class="p" data-group-id="2327459532-9">}</span><span class="p" data-group-id="2327459532-8">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
    </span><span class="n">handle_validation_error</span><span class="p" data-group-id="2327459532-10">(</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">msg</span><span class="p" data-group-id="2327459532-10">)</span><span class="w">
  </span><span class="p" data-group-id="2327459532-11">%</span><span class="nc" data-group-id="2327459532-11">Left</span><span class="p" data-group-id="2327459532-11">{</span><span class="ss">left</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="2327459532-11">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
    </span><span class="n">handle_generic_error</span><span class="p" data-group-id="2327459532-12">(</span><span class="n">error</span><span class="p" data-group-id="2327459532-12">)</span><span class="w">
</span><span class="k" data-group-id="2327459532-1">end</span></code></pre><h2 id="validation-patterns" class="section-heading">
  <a href="#validation-patterns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Validation Patterns</span>
</h2>
<h3 id="error-handling-fail-fast" class="section-heading">
  <a href="#error-handling-fail-fast" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Error-handling (Fail Fast)</span>
</h3>
<p>Use <code class="inline">bind/2</code> for operations that should stop on the first error:</p><pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">process_payment</span><span class="p" data-group-id="5851735733-1">(</span><span class="n">payment_data</span><span class="p" data-group-id="5851735733-1">)</span><span class="w"> </span><span class="k" data-group-id="5851735733-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5851735733-3">(</span><span class="n">payment_data</span><span class="p" data-group-id="5851735733-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5851735733-4">(</span><span class="o">&amp;</span><span class="n">validate_card_number</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5851735733-4">)</span><span class="w">     </span><span class="c1"># Stop if card invalid</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5851735733-5">(</span><span class="o">&amp;</span><span class="n">validate_expiry_date</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5851735733-5">)</span><span class="w">     </span><span class="c1"># Stop if expiry invalid  </span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5851735733-6">(</span><span class="o">&amp;</span><span class="n">validate_cvv</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5851735733-6">)</span><span class="w">             </span><span class="c1"># Stop if CVV invalid</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5851735733-7">(</span><span class="o">&amp;</span><span class="n">charge_card</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5851735733-7">)</span><span class="w">              </span><span class="c1"># Stop if charge fails</span><span class="w">
</span><span class="k" data-group-id="5851735733-2">end</span></code></pre><h3 id="validation-collect-all-errors" class="section-heading">
  <a href="#validation-collect-all-errors" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Validation (Collect All Errors)</span>
</h3>
<p>Use <code class="inline">traverse_a/2</code> to collect all validation errors:</p><pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">validate_user_registration</span><span class="p" data-group-id="3199052148-1">(</span><span class="n">data</span><span class="p" data-group-id="3199052148-1">)</span><span class="w"> </span><span class="k" data-group-id="3199052148-2">do</span><span class="w">
  </span><span class="n">fields</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="3199052148-3">[</span><span class="n">data</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">email</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">password</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">age</span><span class="p" data-group-id="3199052148-3">]</span><span class="w">
  </span><span class="n">validators</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="3199052148-4">[</span><span class="w">
    </span><span class="o">&amp;</span><span class="n">validate_name</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="o">&amp;</span><span class="n">validate_email</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> 
    </span><span class="o">&amp;</span><span class="n">validate_password</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="o">&amp;</span><span class="n">validate_age</span><span class="o">/</span><span class="mi">1</span><span class="w">
  </span><span class="p" data-group-id="3199052148-4">]</span><span class="w">
  
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="3199052148-5">(</span><span class="n">fields</span><span class="p">,</span><span class="w"> </span><span class="n">validators</span><span class="p" data-group-id="3199052148-5">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="3199052148-6">(</span><span class="w">
    </span><span class="k" data-group-id="3199052148-7">fn</span><span class="w"> </span><span class="p" data-group-id="3199052148-8">[</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p" data-group-id="3199052148-8">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
      </span><span class="p" data-group-id="3199052148-9">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3199052148-10">%</span><span class="nc" data-group-id="3199052148-10">User</span><span class="p" data-group-id="3199052148-10">{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="ss">email</span><span class="p">:</span><span class="w"> </span><span class="n">email</span><span class="p">,</span><span class="w"> </span><span class="ss">password</span><span class="p">:</span><span class="w"> </span><span class="n">password</span><span class="p">,</span><span class="w"> </span><span class="ss">age</span><span class="p">:</span><span class="w"> </span><span class="n">age</span><span class="p" data-group-id="3199052148-10">}</span><span class="p" data-group-id="3199052148-9">}</span><span class="w">
    </span><span class="k" data-group-id="3199052148-7">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="3199052148-11">fn</span><span class="w"> </span><span class="n">errors</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="3199052148-12">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="nc">List</span><span class="o">.</span><span class="n">flatten</span><span class="p" data-group-id="3199052148-13">(</span><span class="n">errors</span><span class="p" data-group-id="3199052148-13">)</span><span class="p" data-group-id="3199052148-12">}</span><span class="w"> </span><span class="k" data-group-id="3199052148-11">end</span><span class="w">
  </span><span class="p" data-group-id="3199052148-6">)</span><span class="w">
</span><span class="k" data-group-id="3199052148-2">end</span></code></pre><h2 id="refinement" class="section-heading">
  <a href="#refinement" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Refinement</span>
</h2>
<h3 id="right-1-and-left-1-type-checks" class="section-heading">
  <a href="#right-1-and-left-1-type-checks" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">right?/1</code> and <code class="inline">left?/1</code> - Type Checks</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">right?</span><span class="p" data-group-id="6947649444-1">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6947649444-2">(</span><span class="mi">42</span><span class="p" data-group-id="6947649444-2">)</span><span class="p" data-group-id="6947649444-1">)</span><span class="w">      </span><span class="c1"># true</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right?</span><span class="p" data-group-id="6947649444-3">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="6947649444-4">(</span><span class="s">&quot;err&quot;</span><span class="p" data-group-id="6947649444-4">)</span><span class="p" data-group-id="6947649444-3">)</span><span class="w">    </span><span class="c1"># false</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">left?</span><span class="p" data-group-id="6947649444-5">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="6947649444-6">(</span><span class="s">&quot;err&quot;</span><span class="p" data-group-id="6947649444-6">)</span><span class="p" data-group-id="6947649444-5">)</span><span class="w">     </span><span class="c1"># true</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left?</span><span class="p" data-group-id="6947649444-7">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6947649444-8">(</span><span class="mi">42</span><span class="p" data-group-id="6947649444-8">)</span><span class="p" data-group-id="6947649444-7">)</span><span class="w">       </span><span class="c1"># false</span></code></pre><h2 id="fallback-and-extraction" class="section-heading">
  <a href="#fallback-and-extraction" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Fallback and Extraction</span>
</h2>
<h3 id="get_or_else-2-extract-value-with-default" class="section-heading">
  <a href="#get_or_else-2-extract-value-with-default" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">get_or_else/2</code> - Extract Value with Default</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5094383062-1">(</span><span class="mi">42</span><span class="p" data-group-id="5094383062-1">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">get_or_else</span><span class="p" data-group-id="5094383062-2">(</span><span class="mi">0</span><span class="p" data-group-id="5094383062-2">)</span><span class="w">        </span><span class="c1"># 42</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="5094383062-3">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="5094383062-3">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">get_or_else</span><span class="p" data-group-id="5094383062-4">(</span><span class="mi">0</span><span class="p" data-group-id="5094383062-4">)</span><span class="w">    </span><span class="c1"># 0</span></code></pre><h3 id="or_else-2-fallback-on-left" class="section-heading">
  <a href="#or_else-2-fallback-on-left" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">or_else/2</code> - Fallback on Left</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="4143758230-1">(</span><span class="mi">42</span><span class="p" data-group-id="4143758230-1">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">or_else</span><span class="p" data-group-id="4143758230-2">(</span><span class="k" data-group-id="4143758230-3">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="4143758230-4">(</span><span class="mi">0</span><span class="p" data-group-id="4143758230-4">)</span><span class="w"> </span><span class="k" data-group-id="4143758230-3">end</span><span class="p" data-group-id="4143758230-2">)</span><span class="w">     </span><span class="c1"># right(42)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="4143758230-5">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="4143758230-5">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">or_else</span><span class="p" data-group-id="4143758230-6">(</span><span class="k" data-group-id="4143758230-7">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="4143758230-8">(</span><span class="mi">0</span><span class="p" data-group-id="4143758230-8">)</span><span class="w"> </span><span class="k" data-group-id="4143758230-7">end</span><span class="p" data-group-id="4143758230-6">)</span><span class="w"> </span><span class="c1"># right(0)</span></code></pre><h3 id="map_left-2-transform-left-values" class="section-heading">
  <a href="#map_left-2-transform-left-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">map_left/2</code> - Transform Left Values</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Transform error without affecting success</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="0971710114-1">(</span><span class="mi">42</span><span class="p" data-group-id="0971710114-1">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">map_left</span><span class="p" data-group-id="0971710114-2">(</span><span class="o">&amp;</span><span class="nc">String</span><span class="o">.</span><span class="n">upcase</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="0971710114-2">)</span><span class="w">     </span><span class="c1"># right(42)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="0971710114-3">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="0971710114-3">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">map_left</span><span class="p" data-group-id="0971710114-4">(</span><span class="o">&amp;</span><span class="nc">String</span><span class="o">.</span><span class="n">upcase</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="0971710114-4">)</span><span class="w"> </span><span class="c1"># left(&quot;ERROR&quot;)</span></code></pre><h3 id="flip-1-swap-left-and-right" class="section-heading">
  <a href="#flip-1-swap-left-and-right" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">flip/1</code> - Swap Left and Right</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">flip</span><span class="p" data-group-id="2656449834-1">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2656449834-2">(</span><span class="mi">42</span><span class="p" data-group-id="2656449834-2">)</span><span class="p" data-group-id="2656449834-1">)</span><span class="w">           </span><span class="c1"># left(42)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">flip</span><span class="p" data-group-id="2656449834-3">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="2656449834-4">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="2656449834-4">)</span><span class="p" data-group-id="2656449834-3">)</span><span class="w">       </span><span class="c1"># right(&quot;error&quot;)</span></code></pre><h3 id="filter_or_else-3-conditional-left-conversion" class="section-heading">
  <a href="#filter_or_else-3-conditional-left-conversion" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">filter_or_else/3</code> - Conditional Left Conversion</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert Right to Left if predicate fails</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5508507365-1">(</span><span class="mi">42</span><span class="p" data-group-id="5508507365-1">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">filter_or_else</span><span class="p" data-group-id="5508507365-2">(</span><span class="o">&amp;</span><span class="p" data-group-id="5508507365-3">(</span><span class="ni">&amp;1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">50</span><span class="p" data-group-id="5508507365-3">)</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;too small&quot;</span><span class="p" data-group-id="5508507365-2">)</span><span class="w">  </span><span class="c1"># left(&quot;too small&quot;)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5508507365-4">(</span><span class="mi">100</span><span class="p" data-group-id="5508507365-4">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">filter_or_else</span><span class="p" data-group-id="5508507365-5">(</span><span class="o">&amp;</span><span class="p" data-group-id="5508507365-6">(</span><span class="ni">&amp;1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">50</span><span class="p" data-group-id="5508507365-6">)</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;too small&quot;</span><span class="p" data-group-id="5508507365-5">)</span><span class="w"> </span><span class="c1"># right(100)</span></code></pre><h3 id="combining-two-either-values-with-ap-2" class="section-heading">
  <a href="#combining-two-either-values-with-ap-2" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Combining Two Either Values with <code class="inline">ap/2</code></span>
</h3>
<p>Use the applicative pattern with <code class="inline">ap/2</code> to combine two Either values with a binary function:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># Combine two Either values using ap</span><span class="w">
</span><span class="n">add_fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2402600769-1">(</span><span class="o">&amp;</span><span class="o">+</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="2402600769-1">)</span><span class="w">
</span><span class="n">ap</span><span class="p" data-group-id="2402600769-2">(</span><span class="n">add_fn</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2402600769-3">(</span><span class="mi">3</span><span class="p" data-group-id="2402600769-3">)</span><span class="p" data-group-id="2402600769-2">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="2402600769-4">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2402600769-5">(</span><span class="mi">4</span><span class="p" data-group-id="2402600769-5">)</span><span class="p" data-group-id="2402600769-4">)</span><span class="w">     </span><span class="c1"># right(7)</span><span class="w">
</span><span class="n">ap</span><span class="p" data-group-id="2402600769-6">(</span><span class="n">add_fn</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2402600769-7">(</span><span class="mi">3</span><span class="p" data-group-id="2402600769-7">)</span><span class="p" data-group-id="2402600769-6">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="2402600769-8">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="2402600769-9">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="2402600769-9">)</span><span class="p" data-group-id="2402600769-8">)</span><span class="w">   </span><span class="c1"># left(&quot;error&quot;)</span><span class="w">
</span><span class="n">ap</span><span class="p" data-group-id="2402600769-10">(</span><span class="n">add_fn</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="2402600769-11">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="2402600769-11">)</span><span class="p" data-group-id="2402600769-10">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="2402600769-12">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2402600769-13">(</span><span class="mi">4</span><span class="p" data-group-id="2402600769-13">)</span><span class="p" data-group-id="2402600769-12">)</span><span class="w">   </span><span class="c1"># left(&quot;error&quot;)</span><span class="w">

</span><span class="c1"># More concise with helper function</span><span class="w">
</span><span class="n">combine_either</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="2402600769-14">fn</span><span class="w"> </span><span class="n">ma</span><span class="p">,</span><span class="w"> </span><span class="n">mb</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2402600769-15">(</span><span class="n">f</span><span class="p" data-group-id="2402600769-15">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="2402600769-16">(</span><span class="n">ma</span><span class="p" data-group-id="2402600769-16">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="2402600769-17">(</span><span class="n">mb</span><span class="p" data-group-id="2402600769-17">)</span><span class="w">
</span><span class="k" data-group-id="2402600769-14">end</span><span class="w">

</span><span class="n">combine_either</span><span class="o">.</span><span class="p" data-group-id="2402600769-18">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2402600769-19">(</span><span class="mi">3</span><span class="p" data-group-id="2402600769-19">)</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2402600769-20">(</span><span class="mi">4</span><span class="p" data-group-id="2402600769-20">)</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="o">+</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="2402600769-18">)</span><span class="w">         </span><span class="c1"># right(7)</span><span class="w">
</span><span class="n">combine_either</span><span class="o">.</span><span class="p" data-group-id="2402600769-21">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2402600769-22">(</span><span class="mi">3</span><span class="p" data-group-id="2402600769-22">)</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="2402600769-23">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="2402600769-23">)</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="o">+</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="2402600769-21">)</span><span class="w">    </span><span class="c1"># left(&quot;error&quot;)</span><span class="w">

</span><span class="c1"># String concatenation</span><span class="w">
</span><span class="n">combine_either</span><span class="o">.</span><span class="p" data-group-id="2402600769-24">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2402600769-25">(</span><span class="s">&quot;Hello, &quot;</span><span class="p" data-group-id="2402600769-25">)</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2402600769-26">(</span><span class="s">&quot;World!&quot;</span><span class="p" data-group-id="2402600769-26">)</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="o">&lt;&gt;</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="2402600769-24">)</span><span class="w">  </span><span class="c1"># right(&quot;Hello, World!&quot;)</span><span class="w">

</span><span class="c1"># Validation combining</span><span class="w">
</span><span class="n">combine_either</span><span class="o">.</span><span class="p" data-group-id="2402600769-27">(</span><span class="w">
  </span><span class="n">validate_name</span><span class="p" data-group-id="2402600769-28">(</span><span class="s">&quot;Alice&quot;</span><span class="p" data-group-id="2402600769-28">)</span><span class="p">,</span><span class="w">
  </span><span class="n">validate_age</span><span class="p" data-group-id="2402600769-29">(</span><span class="mi">30</span><span class="p" data-group-id="2402600769-29">)</span><span class="p">,</span><span class="w">
  </span><span class="k" data-group-id="2402600769-30">fn</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="2402600769-31">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="ss">age</span><span class="p">:</span><span class="w"> </span><span class="n">age</span><span class="p" data-group-id="2402600769-31">}</span><span class="w"> </span><span class="k" data-group-id="2402600769-30">end</span><span class="w">
</span><span class="p" data-group-id="2402600769-27">)</span><span class="w">  </span><span class="c1"># right(%{name: &quot;Alice&quot;, age: 30}) or left(error)</span></code></pre><p><strong>Use this pattern when:</strong></p><ul><li>You need to combine exactly two Either values with a binary function</li><li>You want applicative-style combination that fails fast on first Left</li><li>You're implementing patterns similar to liftA2 from other functional languages</li></ul><h2 id="common-patterns" class="section-heading">
  <a href="#common-patterns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Common Patterns</span>
</h2>
<h3 id="api-response-handling" class="section-heading">
  <a href="#api-response-handling" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">API Response Handling</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">fetch_user_profile</span><span class="p" data-group-id="8060615468-1">(</span><span class="n">user_id</span><span class="p" data-group-id="8060615468-1">)</span><span class="w"> </span><span class="k" data-group-id="8060615468-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8060615468-3">(</span><span class="n">user_id</span><span class="p" data-group-id="8060615468-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8060615468-4">(</span><span class="o">&amp;</span><span class="n">validate_user_id</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8060615468-4">)</span><span class="w">        </span><span class="c1"># Validate ID format</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8060615468-5">(</span><span class="o">&amp;</span><span class="n">fetch_from_database</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8060615468-5">)</span><span class="w">     </span><span class="c1"># Database lookup</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8060615468-6">(</span><span class="o">&amp;</span><span class="n">check_permissions</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8060615468-6">)</span><span class="w">       </span><span class="c1"># Authorization check</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8060615468-7">(</span><span class="o">&amp;</span><span class="n">format_profile</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8060615468-7">)</span><span class="w">          </span><span class="c1"># Format response</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="8060615468-8">(</span><span class="w">
    </span><span class="k" data-group-id="8060615468-9">fn</span><span class="w"> </span><span class="n">profile</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="8060615468-10">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">profile</span><span class="p" data-group-id="8060615468-10">}</span><span class="w"> </span><span class="k" data-group-id="8060615468-9">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="8060615468-11">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="8060615468-12">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="8060615468-12">}</span><span class="w"> </span><span class="k" data-group-id="8060615468-11">end</span><span class="w">
  </span><span class="p" data-group-id="8060615468-8">)</span><span class="w">
</span><span class="k" data-group-id="8060615468-2">end</span></code></pre><h3 id="form-validation-with-comprehensive-error-collection" class="section-heading">
  <a href="#form-validation-with-comprehensive-error-collection" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Form Validation with Comprehensive Error Collection</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Create individual field validators that work on the whole form</span><span class="w">
</span><span class="n">validate_name_field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="8956656841-1">fn</span><span class="w"> </span><span class="n">form_data</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="nc">String</span><span class="o">.</span><span class="n">length</span><span class="p" data-group-id="8956656841-2">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">name</span><span class="p" data-group-id="8956656841-2">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="8956656841-3">do</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8956656841-4">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">name</span><span class="p" data-group-id="8956656841-4">)</span><span class="w">
  </span><span class="k" data-group-id="8956656841-3">else</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8956656841-5">(</span><span class="p" data-group-id="8956656841-6">[</span><span class="s">&quot;Name is required&quot;</span><span class="p" data-group-id="8956656841-6">]</span><span class="p" data-group-id="8956656841-5">)</span><span class="w">
  </span><span class="k" data-group-id="8956656841-3">end</span><span class="w">
</span><span class="k" data-group-id="8956656841-1">end</span><span class="w">

</span><span class="n">validate_email_field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="8956656841-7">fn</span><span class="w"> </span><span class="n">form_data</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="nc">String</span><span class="o">.</span><span class="n">contains?</span><span class="p" data-group-id="8956656841-8">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">email</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;@&quot;</span><span class="p" data-group-id="8956656841-8">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">String</span><span class="o">.</span><span class="n">length</span><span class="p" data-group-id="8956656841-9">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">email</span><span class="p" data-group-id="8956656841-9">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="k" data-group-id="8956656841-10">do</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8956656841-11">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">email</span><span class="p" data-group-id="8956656841-11">)</span><span class="w">
  </span><span class="k" data-group-id="8956656841-10">else</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8956656841-12">(</span><span class="p" data-group-id="8956656841-13">[</span><span class="s">&quot;Email must be valid&quot;</span><span class="p" data-group-id="8956656841-13">]</span><span class="p" data-group-id="8956656841-12">)</span><span class="w">
  </span><span class="k" data-group-id="8956656841-10">end</span><span class="w">
</span><span class="k" data-group-id="8956656841-7">end</span><span class="w">

</span><span class="n">validate_password_field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="8956656841-14">fn</span><span class="w"> </span><span class="n">form_data</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="nc">String</span><span class="o">.</span><span class="n">length</span><span class="p" data-group-id="8956656841-15">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">password</span><span class="p" data-group-id="8956656841-15">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k" data-group-id="8956656841-16">do</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8956656841-17">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">password</span><span class="p" data-group-id="8956656841-17">)</span><span class="w">
  </span><span class="k" data-group-id="8956656841-16">else</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8956656841-18">(</span><span class="p" data-group-id="8956656841-19">[</span><span class="s">&quot;Password must be at least 8 characters&quot;</span><span class="p" data-group-id="8956656841-19">]</span><span class="p" data-group-id="8956656841-18">)</span><span class="w">
  </span><span class="k" data-group-id="8956656841-16">end</span><span class="w">
</span><span class="k" data-group-id="8956656841-14">end</span><span class="w">

</span><span class="c1"># Validate the entire form - collects ALL validation errors</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">validate_registration_form</span><span class="p" data-group-id="8956656841-20">(</span><span class="n">form_data</span><span class="p" data-group-id="8956656841-20">)</span><span class="w"> </span><span class="k" data-group-id="8956656841-21">do</span><span class="w">
  </span><span class="n">validators</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="8956656841-22">[</span><span class="w">
    </span><span class="n">validate_name_field</span><span class="p">,</span><span class="w">
    </span><span class="n">validate_email_field</span><span class="p">,</span><span class="w">
    </span><span class="n">validate_password_field</span><span class="w">
  </span><span class="p" data-group-id="8956656841-22">]</span><span class="w">
  
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="8956656841-23">(</span><span class="n">form_data</span><span class="p">,</span><span class="w"> </span><span class="n">validators</span><span class="p" data-group-id="8956656841-23">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="8956656841-24">(</span><span class="w">
    </span><span class="k" data-group-id="8956656841-25">fn</span><span class="w"> </span><span class="n">validated_form</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
      </span><span class="p" data-group-id="8956656841-26">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8956656841-27">%{</span><span class="w">
        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">validated_form</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="w">
        </span><span class="ss">email</span><span class="p">:</span><span class="w"> </span><span class="n">validated_form</span><span class="o">.</span><span class="n">email</span><span class="p">,</span><span class="w">
        </span><span class="ss">password</span><span class="p">:</span><span class="w"> </span><span class="n">validated_form</span><span class="o">.</span><span class="n">password</span><span class="w">
      </span><span class="p" data-group-id="8956656841-27">}</span><span class="p" data-group-id="8956656841-26">}</span><span class="w">
    </span><span class="k" data-group-id="8956656841-25">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="8956656841-28">fn</span><span class="w"> </span><span class="n">all_errors</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
      </span><span class="p" data-group-id="8956656841-29">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Registration failed: </span><span class="si" data-group-id="8956656841-30">#{</span><span class="nc">Enum</span><span class="o">.</span><span class="n">join</span><span class="p" data-group-id="8956656841-31">(</span><span class="nc">List</span><span class="o">.</span><span class="n">flatten</span><span class="p" data-group-id="8956656841-32">(</span><span class="n">all_errors</span><span class="p" data-group-id="8956656841-32">)</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p" data-group-id="8956656841-31">)</span><span class="si" data-group-id="8956656841-30">}</span><span class="s">&quot;</span><span class="p" data-group-id="8956656841-29">}</span><span class="w">
    </span><span class="k" data-group-id="8956656841-28">end</span><span class="w">
  </span><span class="p" data-group-id="8956656841-24">)</span><span class="w">
</span><span class="k" data-group-id="8956656841-21">end</span><span class="w">

</span><span class="c1"># Example usage</span><span class="w">
</span><span class="n">form_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="8956656841-33">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">email</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;123&quot;</span><span class="p" data-group-id="8956656841-33">}</span><span class="w">

</span><span class="n">validate_registration_form</span><span class="p" data-group-id="8956656841-34">(</span><span class="n">form_data</span><span class="p" data-group-id="8956656841-34">)</span><span class="w">
</span><span class="c1"># {:error, &quot;Registration failed: Name is required, Email must be valid, Password must be at least 8 characters&quot;}</span><span class="w">

</span><span class="n">valid_form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="8956656841-35">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">email</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;alice@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;securepass123&quot;</span><span class="p" data-group-id="8956656841-35">}</span><span class="w">
</span><span class="n">validate_registration_form</span><span class="p" data-group-id="8956656841-36">(</span><span class="n">valid_form</span><span class="p" data-group-id="8956656841-36">)</span><span class="w">
</span><span class="c1"># {:ok, %{name: &quot;Alice&quot;, email: &quot;alice@example.com&quot;, password: &quot;securepass123&quot;}}</span></code></pre><h3 id="configuration-loading" class="section-heading">
  <a href="#configuration-loading" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Configuration Loading</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">load_config</span><span class="p" data-group-id="0366380704-1">(</span><span class="n">config_path</span><span class="p" data-group-id="0366380704-1">)</span><span class="w"> </span><span class="k" data-group-id="0366380704-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="0366380704-3">(</span><span class="n">config_path</span><span class="p" data-group-id="0366380704-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="0366380704-4">(</span><span class="o">&amp;</span><span class="n">read_config_file</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="0366380704-4">)</span><span class="w">         </span><span class="c1"># File -&gt; Either Error String</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="0366380704-5">(</span><span class="o">&amp;</span><span class="n">parse_json</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="0366380704-5">)</span><span class="w">               </span><span class="c1"># String -&gt; Either Error Map</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="0366380704-6">(</span><span class="o">&amp;</span><span class="n">validate_schema</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="0366380704-6">)</span><span class="w">          </span><span class="c1"># Map -&gt; Either Error ValidConfig</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="0366380704-7">(</span><span class="o">&amp;</span><span class="n">apply_defaults</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="0366380704-7">)</span><span class="w">           </span><span class="c1"># ValidConfig -&gt; Either Error FinalConfig</span><span class="w">
</span><span class="k" data-group-id="0366380704-2">end</span><span class="w">

</span><span class="kd">defp</span><span class="w"> </span><span class="nf">read_config_file</span><span class="p" data-group-id="0366380704-8">(</span><span class="n">path</span><span class="p" data-group-id="0366380704-8">)</span><span class="w"> </span><span class="k" data-group-id="0366380704-9">do</span><span class="w">
  </span><span class="nc">File</span><span class="o">.</span><span class="n">read</span><span class="p" data-group-id="0366380704-10">(</span><span class="n">path</span><span class="p" data-group-id="0366380704-10">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">from_result</span><span class="p" data-group-id="0366380704-11">(</span><span class="p" data-group-id="0366380704-11">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">map_left</span><span class="p" data-group-id="0366380704-12">(</span><span class="k" data-group-id="0366380704-13">fn</span><span class="w"> </span><span class="n">reason</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Failed to read </span><span class="si" data-group-id="0366380704-14">#{</span><span class="n">path</span><span class="si" data-group-id="0366380704-14">}</span><span class="s">: </span><span class="si" data-group-id="0366380704-15">#{</span><span class="n">reason</span><span class="si" data-group-id="0366380704-15">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="0366380704-13">end</span><span class="p" data-group-id="0366380704-12">)</span><span class="w">
</span><span class="k" data-group-id="0366380704-9">end</span><span class="w">

</span><span class="kd">defp</span><span class="w"> </span><span class="nf">parse_json</span><span class="p" data-group-id="0366380704-16">(</span><span class="n">content</span><span class="p" data-group-id="0366380704-16">)</span><span class="w"> </span><span class="k" data-group-id="0366380704-17">do</span><span class="w">
  </span><span class="nc">Jason</span><span class="o">.</span><span class="n">decode</span><span class="p" data-group-id="0366380704-18">(</span><span class="n">content</span><span class="p" data-group-id="0366380704-18">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">from_result</span><span class="p" data-group-id="0366380704-19">(</span><span class="p" data-group-id="0366380704-19">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">map_left</span><span class="p" data-group-id="0366380704-20">(</span><span class="k" data-group-id="0366380704-21">fn</span><span class="w"> </span><span class="p" data-group-id="0366380704-22">%</span><span class="nc" data-group-id="0366380704-22">Jason.DecodeError</span><span class="p" data-group-id="0366380704-22">{</span><span class="ss">data</span><span class="p">:</span><span class="w"> </span><span class="n">data</span><span class="p" data-group-id="0366380704-22">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Invalid JSON: </span><span class="si" data-group-id="0366380704-23">#{</span><span class="n">data</span><span class="si" data-group-id="0366380704-23">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="0366380704-21">end</span><span class="p" data-group-id="0366380704-20">)</span><span class="w">
</span><span class="k" data-group-id="0366380704-17">end</span></code></pre><h2 id="integration-with-other-modules" class="section-heading">
  <a href="#integration-with-other-modules" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Integration with Other Modules</span>
</h2>
<h3 id="with-funx-utils" class="section-heading">
  <a href="#with-funx-utils" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">With Funx.Utils</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Curry validation functions</span><span class="w">
</span><span class="n">validate_range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Utils</span><span class="o">.</span><span class="n">curry</span><span class="p" data-group-id="5105923266-1">(</span><span class="k" data-group-id="5105923266-2">fn</span><span class="w"> </span><span class="n">min</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">cond</span><span class="w"> </span><span class="k" data-group-id="5105923266-3">do</span><span class="w">
    </span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="5105923266-4">(</span><span class="s">&quot;Value </span><span class="si" data-group-id="5105923266-5">#{</span><span class="n">value</span><span class="si" data-group-id="5105923266-5">}</span><span class="s"> below minimum </span><span class="si" data-group-id="5105923266-6">#{</span><span class="n">min</span><span class="si" data-group-id="5105923266-6">}</span><span class="s">&quot;</span><span class="p" data-group-id="5105923266-4">)</span><span class="w">
    </span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="5105923266-7">(</span><span class="s">&quot;Value </span><span class="si" data-group-id="5105923266-8">#{</span><span class="n">value</span><span class="si" data-group-id="5105923266-8">}</span><span class="s"> above maximum </span><span class="si" data-group-id="5105923266-9">#{</span><span class="n">max</span><span class="si" data-group-id="5105923266-9">}</span><span class="s">&quot;</span><span class="p" data-group-id="5105923266-7">)</span><span class="w">  
    </span><span class="no">true</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5105923266-10">(</span><span class="n">value</span><span class="p" data-group-id="5105923266-10">)</span><span class="w">
  </span><span class="k" data-group-id="5105923266-3">end</span><span class="w">
</span><span class="k" data-group-id="5105923266-2">end</span><span class="p" data-group-id="5105923266-1">)</span><span class="w">

</span><span class="n">validate_age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">validate_range</span><span class="o">.</span><span class="p" data-group-id="5105923266-11">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p" data-group-id="5105923266-11">)</span><span class="w">
</span><span class="n">validate_percentage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">validate_range</span><span class="o">.</span><span class="p" data-group-id="5105923266-12">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p" data-group-id="5105923266-12">)</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5105923266-13">(</span><span class="mi">25</span><span class="p" data-group-id="5105923266-13">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5105923266-14">(</span><span class="n">validate_age</span><span class="p" data-group-id="5105923266-14">)</span><span class="w">        </span><span class="c1"># right(25)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5105923266-15">(</span><span class="o">-</span><span class="mi">5</span><span class="p" data-group-id="5105923266-15">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5105923266-16">(</span><span class="n">validate_age</span><span class="p" data-group-id="5105923266-16">)</span><span class="w">        </span><span class="c1"># left(&quot;Value -5 below minimum 0&quot;)</span></code></pre><h3 id="conversion-from-maybe" class="section-heading">
  <a href="#conversion-from-maybe" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Conversion from Maybe</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert Maybe to Either with error context</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">maybe_to_either</span><span class="p" data-group-id="5569509931-1">(</span><span class="n">maybe_value</span><span class="p">,</span><span class="w"> </span><span class="n">error_message</span><span class="p" data-group-id="5569509931-1">)</span><span class="w"> </span><span class="k" data-group-id="5569509931-2">do</span><span class="w">
  </span><span class="nc">Maybe</span><span class="o">.</span><span class="n">fold_l</span><span class="p" data-group-id="5569509931-3">(</span><span class="n">maybe_value</span><span class="p">,</span><span class="w"> 
    </span><span class="k" data-group-id="5569509931-4">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5569509931-5">(</span><span class="n">value</span><span class="p" data-group-id="5569509931-5">)</span><span class="w"> </span><span class="k" data-group-id="5569509931-4">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="5569509931-6">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="5569509931-7">(</span><span class="n">error_message</span><span class="p" data-group-id="5569509931-7">)</span><span class="w"> </span><span class="k" data-group-id="5569509931-6">end</span><span class="w">
  </span><span class="p" data-group-id="5569509931-3">)</span><span class="w">
</span><span class="k" data-group-id="5569509931-2">end</span><span class="w">

</span><span class="c1"># Usage in pipeline</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">find_and_validate_user</span><span class="p" data-group-id="5569509931-8">(</span><span class="n">user_id</span><span class="p" data-group-id="5569509931-8">)</span><span class="w"> </span><span class="k" data-group-id="5569509931-9">do</span><span class="w">
  </span><span class="n">user_id</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">find_user</span><span class="p" data-group-id="5569509931-10">(</span><span class="p" data-group-id="5569509931-10">)</span><span class="w">                    </span><span class="c1"># Returns Maybe User</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">maybe_to_either</span><span class="p" data-group-id="5569509931-11">(</span><span class="s">&quot;User not found&quot;</span><span class="p" data-group-id="5569509931-11">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5569509931-12">(</span><span class="o">&amp;</span><span class="n">validate_user_active</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5569509931-12">)</span><span class="w">  </span><span class="c1"># Continue with Either validation</span><span class="w">
</span><span class="k" data-group-id="5569509931-9">end</span></code></pre><h3 id="with-predicate-logic" class="section-heading">
  <a href="#with-predicate-logic" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">With Predicate Logic</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert predicates to Either validators</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">predicate_to_either</span><span class="p" data-group-id="7192471789-1">(</span><span class="n">predicate</span><span class="p">,</span><span class="w"> </span><span class="n">error_message</span><span class="p" data-group-id="7192471789-1">)</span><span class="w"> </span><span class="k" data-group-id="7192471789-2">do</span><span class="w">
  </span><span class="k" data-group-id="7192471789-3">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="n">predicate</span><span class="o">.</span><span class="p" data-group-id="7192471789-4">(</span><span class="n">value</span><span class="p" data-group-id="7192471789-4">)</span><span class="w"> </span><span class="k" data-group-id="7192471789-5">do</span><span class="w">
      </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="7192471789-6">(</span><span class="n">value</span><span class="p" data-group-id="7192471789-6">)</span><span class="w">
    </span><span class="k" data-group-id="7192471789-5">else</span><span class="w">
      </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="7192471789-7">(</span><span class="n">error_message</span><span class="p" data-group-id="7192471789-7">)</span><span class="w">
    </span><span class="k" data-group-id="7192471789-5">end</span><span class="w">
  </span><span class="k" data-group-id="7192471789-3">end</span><span class="w">
</span><span class="k" data-group-id="7192471789-2">end</span><span class="w">

</span><span class="c1"># Use with validation</span><span class="w">
</span><span class="n">is_adult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="7192471789-8">fn</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">user</span><span class="o">.</span><span class="n">age</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="k" data-group-id="7192471789-8">end</span><span class="w">
</span><span class="n">validate_adult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">predicate_to_either</span><span class="p" data-group-id="7192471789-9">(</span><span class="n">is_adult</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Must be 18 or older&quot;</span><span class="p" data-group-id="7192471789-9">)</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="7192471789-10">(</span><span class="p" data-group-id="7192471789-11">%{</span><span class="ss">age</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p" data-group-id="7192471789-11">}</span><span class="p" data-group-id="7192471789-10">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="7192471789-12">(</span><span class="n">validate_adult</span><span class="p" data-group-id="7192471789-12">)</span><span class="w">             </span><span class="c1"># right(%{age: 25})</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="7192471789-13">(</span><span class="p" data-group-id="7192471789-14">%{</span><span class="ss">age</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p" data-group-id="7192471789-14">}</span><span class="p" data-group-id="7192471789-13">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="7192471789-15">(</span><span class="n">validate_adult</span><span class="p" data-group-id="7192471789-15">)</span><span class="w">             </span><span class="c1"># left(&quot;Must be 18 or older&quot;)</span></code></pre><h2 id="advanced-patterns" class="section-heading">
  <a href="#advanced-patterns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Advanced Patterns</span>
</h2>
<h3 id="error-recovery" class="section-heading">
  <a href="#error-recovery" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Error Recovery</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">process_with_fallback</span><span class="p" data-group-id="1589008630-1">(</span><span class="n">data</span><span class="p" data-group-id="1589008630-1">)</span><span class="w"> </span><span class="k" data-group-id="1589008630-2">do</span><span class="w">
  </span><span class="n">data</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">process_primary_method</span><span class="p" data-group-id="1589008630-3">(</span><span class="p" data-group-id="1589008630-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="1589008630-4">(</span><span class="w">
    </span><span class="k" data-group-id="1589008630-5">fn</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1589008630-6">(</span><span class="n">result</span><span class="p" data-group-id="1589008630-6">)</span><span class="w"> </span><span class="k" data-group-id="1589008630-5">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="1589008630-7">fn</span><span class="w"> </span><span class="c">_error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">process_fallback_method</span><span class="p" data-group-id="1589008630-8">(</span><span class="p" data-group-id="1589008630-8">)</span><span class="w"> </span><span class="k" data-group-id="1589008630-7">end</span><span class="w">
  </span><span class="p" data-group-id="1589008630-4">)</span><span class="w">
</span><span class="k" data-group-id="1589008630-2">end</span><span class="w">

</span><span class="c1"># Or using a helper function</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">either_or_else</span><span class="p" data-group-id="1589008630-9">(</span><span class="n">either_result</span><span class="p">,</span><span class="w"> </span><span class="n">fallback_fn</span><span class="p" data-group-id="1589008630-9">)</span><span class="w"> </span><span class="k" data-group-id="1589008630-10">do</span><span class="w">
  </span><span class="n">fold_l</span><span class="p" data-group-id="1589008630-11">(</span><span class="n">either_result</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="1589008630-12">fn</span><span class="w"> </span><span class="c">_error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">fallback_fn</span><span class="o">.</span><span class="p" data-group-id="1589008630-13">(</span><span class="p" data-group-id="1589008630-13">)</span><span class="w"> </span><span class="k" data-group-id="1589008630-12">end</span><span class="p" data-group-id="1589008630-11">)</span><span class="w">
</span><span class="k" data-group-id="1589008630-10">end</span><span class="w">

</span><span class="n">data</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">process_primary_method</span><span class="p" data-group-id="1589008630-14">(</span><span class="p" data-group-id="1589008630-14">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">either_or_else</span><span class="p" data-group-id="1589008630-15">(</span><span class="k" data-group-id="1589008630-16">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">process_fallback_method</span><span class="p" data-group-id="1589008630-17">(</span><span class="n">data</span><span class="p" data-group-id="1589008630-17">)</span><span class="w"> </span><span class="k" data-group-id="1589008630-16">end</span><span class="p" data-group-id="1589008630-15">)</span></code></pre><h3 id="error-mapping" class="section-heading">
  <a href="#error-mapping" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Error Mapping</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">map_error</span><span class="p" data-group-id="3304200733-1">(</span><span class="n">either_value</span><span class="p">,</span><span class="w"> </span><span class="n">error_mapper</span><span class="p" data-group-id="3304200733-1">)</span><span class="w"> </span><span class="k" data-group-id="3304200733-2">do</span><span class="w">
  </span><span class="n">fold_l</span><span class="p" data-group-id="3304200733-3">(</span><span class="n">either_value</span><span class="p">,</span><span class="w"> 
    </span><span class="o">&amp;</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="3304200733-4">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="3304200733-5">(</span><span class="n">error_mapper</span><span class="o">.</span><span class="p" data-group-id="3304200733-6">(</span><span class="n">error</span><span class="p" data-group-id="3304200733-6">)</span><span class="p" data-group-id="3304200733-5">)</span><span class="w"> </span><span class="k" data-group-id="3304200733-4">end</span><span class="w">
  </span><span class="p" data-group-id="3304200733-3">)</span><span class="w">
</span><span class="k" data-group-id="3304200733-2">end</span><span class="w">

</span><span class="c1"># Usage: Convert database errors to user-friendly messages</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">friendly_database_error</span><span class="p" data-group-id="3304200733-7">(</span><span class="n">db_error</span><span class="p" data-group-id="3304200733-7">)</span><span class="w"> </span><span class="k" data-group-id="3304200733-8">do</span><span class="w">
  </span><span class="k">case</span><span class="w"> </span><span class="n">db_error</span><span class="w"> </span><span class="k" data-group-id="3304200733-9">do</span><span class="w">
    </span><span class="p" data-group-id="3304200733-10">{</span><span class="ss">:constraint</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p" data-group-id="3304200733-10">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Data validation failed&quot;</span><span class="w">
    </span><span class="p" data-group-id="3304200733-11">{</span><span class="ss">:connection</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p" data-group-id="3304200733-11">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Database temporarily unavailable&quot;</span><span class="w">
    </span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;An unexpected error occurred&quot;</span><span class="w">
  </span><span class="k" data-group-id="3304200733-9">end</span><span class="w">
</span><span class="k" data-group-id="3304200733-8">end</span><span class="w">

</span><span class="n">database_operation</span><span class="p" data-group-id="3304200733-12">(</span><span class="p" data-group-id="3304200733-12">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map_error</span><span class="p" data-group-id="3304200733-13">(</span><span class="o">&amp;</span><span class="n">friendly_database_error</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="3304200733-13">)</span></code></pre><h2 id="testing-strategies" class="section-heading">
  <a href="#testing-strategies" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Testing Strategies</span>
</h2>
<h3 id="unit-testing-validation-logic" class="section-heading">
  <a href="#unit-testing-validation-logic" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Unit Testing Validation Logic</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="kd">defmodule</span><span class="w"> </span><span class="nc">ValidationTest</span><span class="w"> </span><span class="k" data-group-id="9908274902-1">do</span><span class="w">
  </span><span class="kn">use</span><span class="w"> </span><span class="nc">ExUnit.Case</span><span class="w">
  </span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">

  </span><span class="n">test</span><span class="w"> </span><span class="s">&quot;email validation with detailed errors&quot;</span><span class="w"> </span><span class="k" data-group-id="9908274902-2">do</span><span class="w">
    </span><span class="c1"># Valid email</span><span class="w">
    </span><span class="n">assert</span><span class="w"> </span><span class="n">validate_email</span><span class="p" data-group-id="9908274902-3">(</span><span class="s">&quot;user@example.com&quot;</span><span class="p" data-group-id="9908274902-3">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="9908274902-4">(</span><span class="s">&quot;user@example.com&quot;</span><span class="p" data-group-id="9908274902-4">)</span><span class="w">
    
    </span><span class="c1"># Invalid formats</span><span class="w">
    </span><span class="n">assert</span><span class="w"> </span><span class="n">validate_email</span><span class="p" data-group-id="9908274902-5">(</span><span class="s">&quot;&quot;</span><span class="p" data-group-id="9908274902-5">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="9908274902-6">(</span><span class="s">&quot;Email cannot be empty&quot;</span><span class="p" data-group-id="9908274902-6">)</span><span class="w">
    </span><span class="n">assert</span><span class="w"> </span><span class="n">validate_email</span><span class="p" data-group-id="9908274902-7">(</span><span class="s">&quot;invalid&quot;</span><span class="p" data-group-id="9908274902-7">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="9908274902-8">(</span><span class="s">&quot;Email must contain @&quot;</span><span class="p" data-group-id="9908274902-8">)</span><span class="w">
    </span><span class="n">assert</span><span class="w"> </span><span class="n">validate_email</span><span class="p" data-group-id="9908274902-9">(</span><span class="s">&quot;user@&quot;</span><span class="p" data-group-id="9908274902-9">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="9908274902-10">(</span><span class="s">&quot;Invalid domain&quot;</span><span class="p" data-group-id="9908274902-10">)</span><span class="w">
  </span><span class="k" data-group-id="9908274902-2">end</span><span class="w">

  </span><span class="n">test</span><span class="w"> </span><span class="s">&quot;chaining validations with bind&quot;</span><span class="w"> </span><span class="k" data-group-id="9908274902-11">do</span><span class="w">
    </span><span class="c1"># Successful chain</span><span class="w">
    </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="9908274902-12">(</span><span class="s">&quot;123&quot;</span><span class="p" data-group-id="9908274902-12">)</span><span class="w">
    </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="9908274902-13">(</span><span class="o">&amp;</span><span class="n">parse_integer</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="9908274902-13">)</span><span class="w">
    </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="9908274902-14">(</span><span class="o">&amp;</span><span class="n">validate_positive</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="9908274902-14">)</span><span class="w">
    
    </span><span class="n">assert</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="9908274902-15">(</span><span class="mi">123</span><span class="p" data-group-id="9908274902-15">)</span><span class="w">
    
    </span><span class="c1"># Chain breaks on first error</span><span class="w">
    </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="9908274902-16">(</span><span class="s">&quot;invalid&quot;</span><span class="p" data-group-id="9908274902-16">)</span><span class="w">
    </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="9908274902-17">(</span><span class="o">&amp;</span><span class="n">parse_integer</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="9908274902-17">)</span><span class="w">        </span><span class="c1"># Fails here</span><span class="w">
    </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="9908274902-18">(</span><span class="o">&amp;</span><span class="n">validate_positive</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="9908274902-18">)</span><span class="w">    </span><span class="c1"># Never runs</span><span class="w">
    
    </span><span class="n">assert</span><span class="w"> </span><span class="p" data-group-id="9908274902-19">{</span><span class="ss">:left</span><span class="p">,</span><span class="w"> </span><span class="c">_error</span><span class="p" data-group-id="9908274902-19">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="w">
  </span><span class="k" data-group-id="9908274902-11">end</span><span class="w">

  </span><span class="n">test</span><span class="w"> </span><span class="s">&quot;collecting validation errors with traverse_a&quot;</span><span class="w"> </span><span class="k" data-group-id="9908274902-20">do</span><span class="w">
    </span><span class="n">invalid_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="9908274902-21">[</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;not-email&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid-age&quot;</span><span class="p" data-group-id="9908274902-21">]</span><span class="w">
    </span><span class="n">validators</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="9908274902-22">[</span><span class="o">&amp;</span><span class="n">validate_name</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_email</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_age</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="9908274902-22">]</span><span class="w">
    
    </span><span class="k">case</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="9908274902-23">(</span><span class="n">invalid_data</span><span class="p">,</span><span class="w"> </span><span class="n">validators</span><span class="p" data-group-id="9908274902-23">)</span><span class="w"> </span><span class="k" data-group-id="9908274902-24">do</span><span class="w">
      </span><span class="p" data-group-id="9908274902-25">{</span><span class="ss">:left</span><span class="p">,</span><span class="w"> </span><span class="n">errors</span><span class="p" data-group-id="9908274902-25">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
        </span><span class="n">assert</span><span class="w"> </span><span class="n">length</span><span class="p" data-group-id="9908274902-26">(</span><span class="n">errors</span><span class="p" data-group-id="9908274902-26">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="c1"># All three validations failed</span><span class="w">
        </span><span class="n">assert</span><span class="w"> </span><span class="s">&quot;Name cannot be empty&quot;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">errors</span><span class="w">
      </span><span class="p" data-group-id="9908274902-27">{</span><span class="ss">:right</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p" data-group-id="9908274902-27">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
        </span><span class="n">flunk</span><span class="p" data-group-id="9908274902-28">(</span><span class="s">&quot;Expected validation errors&quot;</span><span class="p" data-group-id="9908274902-28">)</span><span class="w">
    </span><span class="k" data-group-id="9908274902-24">end</span><span class="w">
  </span><span class="k" data-group-id="9908274902-20">end</span><span class="w">
</span><span class="k" data-group-id="9908274902-1">end</span></code></pre><h2 id="performance-considerations" class="section-heading">
  <a href="#performance-considerations" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Performance Considerations</span>
</h2>
<h3 id="short-circuiting" class="section-heading">
  <a href="#short-circuiting" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Short-Circuiting</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># bind chains short-circuit on first Left</span><span class="w">
</span><span class="c1"># This makes error-handling very efficient</span><span class="w">

</span><span class="n">expensive_validation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="2071235314-1">fn</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="c1"># This never runs if earlier validation failed</span><span class="w">
  </span><span class="nc">Process</span><span class="o">.</span><span class="n">sleep</span><span class="p" data-group-id="2071235314-2">(</span><span class="mi">1000</span><span class="p" data-group-id="2071235314-2">)</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2071235314-3">(</span><span class="n">data</span><span class="p" data-group-id="2071235314-3">)</span><span class="w">
</span><span class="k" data-group-id="2071235314-1">end</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="2071235314-4">(</span><span class="s">&quot;early error&quot;</span><span class="p" data-group-id="2071235314-4">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2071235314-5">(</span><span class="o">&amp;</span><span class="n">some_validation</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2071235314-5">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2071235314-6">(</span><span class="n">expensive_validation</span><span class="p" data-group-id="2071235314-6">)</span><span class="w">      </span><span class="c1"># Never executes</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2071235314-7">(</span><span class="o">&amp;</span><span class="n">another_validation</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2071235314-7">)</span><span class="w">
</span><span class="c1"># Result: left(&quot;early error&quot;), computed instantly</span></code></pre><h3 id="memory-usage" class="section-heading">
  <a href="#memory-usage" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Memory Usage</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Either uses minimal memory overhead</span><span class="w">
</span><span class="c1"># right(value) stores value plus small wrapper</span><span class="w">
</span><span class="c1"># left(error) stores error plus small wrapper</span><span class="w">

</span><span class="c1"># Efficient for error handling</span><span class="w">
</span><span class="n">validation_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="2933593251-1">%{</span><span class="w">
  </span><span class="ss">user</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2933593251-2">(</span><span class="p" data-group-id="2933593251-3">%</span><span class="nc" data-group-id="2933593251-3">User</span><span class="p" data-group-id="2933593251-3">{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="2933593251-3">}</span><span class="p" data-group-id="2933593251-2">)</span><span class="p">,</span><span class="w">    </span><span class="c1"># Small overhead</span><span class="w">
  </span><span class="ss">error</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="2933593251-4">(</span><span class="s">&quot;Validation failed&quot;</span><span class="p" data-group-id="2933593251-4">)</span><span class="w">  </span><span class="c1"># Small overhead</span><span class="w">
</span><span class="p" data-group-id="2933593251-1">}</span></code></pre><h2 id="troubleshooting-common-issues" class="section-heading">
  <a href="#troubleshooting-common-issues" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Troubleshooting Common Issues</span>
</h2>
<h3 id="issue-nested-either-values" class="section-heading">
  <a href="#issue-nested-either-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Issue: Nested Either Values</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Problem: Manual nesting creates Either (Either a)</span><span class="w">
</span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="4904595921-1">(</span><span class="n">user_data</span><span class="p" data-group-id="4904595921-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map</span><span class="p" data-group-id="4904595921-2">(</span><span class="o">&amp;</span><span class="n">validate_user</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="4904595921-2">)</span><span class="w">  </span><span class="c1"># validate_user returns Either</span><span class="w">
</span><span class="c1"># Result: Either (Either User) - nested!</span><span class="w">

</span><span class="c1"># ✅ Solution: Use bind for functions that return Either</span><span class="w">
</span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="4904595921-3">(</span><span class="n">user_data</span><span class="p" data-group-id="4904595921-3">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="4904595921-4">(</span><span class="o">&amp;</span><span class="n">validate_user</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="4904595921-4">)</span><span class="w">  </span><span class="c1"># Automatically flattens to Either User</span></code></pre><h3 id="issue-mixing-validation-strategies" class="section-heading">
  <a href="#issue-mixing-validation-strategies" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Issue: Mixing Validation Strategies</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Problem: Inconsistent error handling approach</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">mixed_validation</span><span class="p" data-group-id="2172665009-1">(</span><span class="n">data</span><span class="p" data-group-id="2172665009-1">)</span><span class="w"> </span><span class="k" data-group-id="2172665009-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2172665009-3">(</span><span class="n">data</span><span class="p" data-group-id="2172665009-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2172665009-4">(</span><span class="o">&amp;</span><span class="n">validate_required_field</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2172665009-4">)</span><span class="w">    </span><span class="c1"># Stops on first error</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="2172665009-5">(</span><span class="p" data-group-id="2172665009-6">[</span><span class="o">&amp;</span><span class="n">validate_format</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2172665009-6">]</span><span class="p" data-group-id="2172665009-5">)</span><span class="w">  </span><span class="c1"># But this tries to collect all</span><span class="w">
</span><span class="k" data-group-id="2172665009-2">end</span><span class="w">

</span><span class="c1"># ✅ Solution: Pick one strategy consistently</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">fail_fast_validation</span><span class="p" data-group-id="2172665009-7">(</span><span class="n">data</span><span class="p" data-group-id="2172665009-7">)</span><span class="w"> </span><span class="k" data-group-id="2172665009-8">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2172665009-9">(</span><span class="n">data</span><span class="p" data-group-id="2172665009-9">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2172665009-10">(</span><span class="o">&amp;</span><span class="n">validate_required_field</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2172665009-10">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2172665009-11">(</span><span class="o">&amp;</span><span class="n">validate_format</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2172665009-11">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="2172665009-12">(</span><span class="o">&amp;</span><span class="n">validate_business_rules</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2172665009-12">)</span><span class="w">
</span><span class="k" data-group-id="2172665009-8">end</span><span class="w">

</span><span class="kd">def</span><span class="w"> </span><span class="nf">collect_all_errors_validation</span><span class="p" data-group-id="2172665009-13">(</span><span class="n">data</span><span class="p" data-group-id="2172665009-13">)</span><span class="w"> </span><span class="k" data-group-id="2172665009-14">do</span><span class="w">
  </span><span class="n">fields</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="2172665009-15">[</span><span class="n">data</span><span class="o">.</span><span class="n">field1</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">field2</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">field3</span><span class="p" data-group-id="2172665009-15">]</span><span class="w">
  </span><span class="n">validators</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="2172665009-16">[</span><span class="o">&amp;</span><span class="n">validate_field1</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_field2</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_field3</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2172665009-16">]</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="2172665009-17">(</span><span class="n">fields</span><span class="p">,</span><span class="w"> </span><span class="n">validators</span><span class="p" data-group-id="2172665009-17">)</span><span class="w">
</span><span class="k" data-group-id="2172665009-14">end</span></code></pre><h3 id="issue-pattern-matching-confusion" class="section-heading">
  <a href="#issue-pattern-matching-confusion" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Issue: Pattern Matching Confusion</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Problem: Imperative pattern matching instead of functional folding</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">either_value</span><span class="w"> </span><span class="k" data-group-id="5845868098-1">do</span><span class="w">
  </span><span class="p" data-group-id="5845868098-2">%</span><span class="nc" data-group-id="5845868098-2">Right</span><span class="p" data-group-id="5845868098-2">{</span><span class="ss">right</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="5845868098-2">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">process_success</span><span class="p" data-group-id="5845868098-3">(</span><span class="n">value</span><span class="p" data-group-id="5845868098-3">)</span><span class="w">
  </span><span class="p" data-group-id="5845868098-4">%</span><span class="nc" data-group-id="5845868098-4">Left</span><span class="p" data-group-id="5845868098-4">{</span><span class="ss">left</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="5845868098-4">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">handle_error</span><span class="p" data-group-id="5845868098-5">(</span><span class="n">error</span><span class="p" data-group-id="5845868098-5">)</span><span class="w">
</span><span class="k" data-group-id="5845868098-1">end</span><span class="w">

</span><span class="c1"># ✅ Solution: Use functional folding instead  </span><span class="w">
</span><span class="n">either_value</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="5845868098-6">(</span><span class="w">
  </span><span class="k" data-group-id="5845868098-7">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">process_success</span><span class="p" data-group-id="5845868098-8">(</span><span class="n">value</span><span class="p" data-group-id="5845868098-8">)</span><span class="w"> </span><span class="k" data-group-id="5845868098-7">end</span><span class="p">,</span><span class="w">
  </span><span class="k" data-group-id="5845868098-9">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">handle_error</span><span class="p" data-group-id="5845868098-10">(</span><span class="n">error</span><span class="p" data-group-id="5845868098-10">)</span><span class="w"> </span><span class="k" data-group-id="5845868098-9">end</span><span class="w">
</span><span class="p" data-group-id="5845868098-6">)</span></code></pre><h3 id="issue-over-using-pattern-matching" class="section-heading">
  <a href="#issue-over-using-pattern-matching" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Issue: Over-using Pattern Matching</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Problem: Manual unwrapping defeats the purpose</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">either_value</span><span class="w"> </span><span class="k" data-group-id="0195006359-1">do</span><span class="w">
  </span><span class="p" data-group-id="0195006359-2">%</span><span class="nc" data-group-id="0195006359-2">Right</span><span class="p" data-group-id="0195006359-2">{</span><span class="ss">right</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="0195006359-2">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">new_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">transform</span><span class="p" data-group-id="0195006359-3">(</span><span class="n">value</span><span class="p" data-group-id="0195006359-3">)</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="0195006359-4">(</span><span class="n">new_value</span><span class="p" data-group-id="0195006359-4">)</span><span class="w">
  </span><span class="p" data-group-id="0195006359-5">%</span><span class="nc" data-group-id="0195006359-5">Left</span><span class="p" data-group-id="0195006359-5">{</span><span class="ss">left</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="0195006359-5">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="0195006359-6">(</span><span class="n">error</span><span class="p" data-group-id="0195006359-6">)</span><span class="w">
</span><span class="k" data-group-id="0195006359-1">end</span><span class="w">

</span><span class="c1"># ✅ Solution: Use map to stay in Either context</span><span class="w">
</span><span class="n">either_value</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map</span><span class="p" data-group-id="0195006359-7">(</span><span class="o">&amp;</span><span class="n">transform</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="0195006359-7">)</span></code></pre><h2 id="when-not-to-use-either" class="section-heading">
  <a href="#when-not-to-use-either" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">When Not to Use Either</span>
</h2>
<h3 id="use-maybe-instead-when" class="section-heading">
  <a href="#use-maybe-instead-when" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Use Maybe Instead When</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Either with generic errors loses its advantage</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">find_user</span><span class="p" data-group-id="6688580238-1">(</span><span class="n">id</span><span class="p" data-group-id="6688580238-1">)</span><span class="w"> </span><span class="k" data-group-id="6688580238-2">do</span><span class="w">
  </span><span class="k">case</span><span class="w"> </span><span class="n">get_user</span><span class="p" data-group-id="6688580238-3">(</span><span class="n">id</span><span class="p" data-group-id="6688580238-3">)</span><span class="w"> </span><span class="k" data-group-id="6688580238-4">do</span><span class="w">
    </span><span class="no">nil</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="6688580238-5">(</span><span class="s">&quot;not found&quot;</span><span class="p" data-group-id="6688580238-5">)</span><span class="w">  </span><span class="c1"># Generic error</span><span class="w">
    </span><span class="n">user</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6688580238-6">(</span><span class="n">user</span><span class="p" data-group-id="6688580238-6">)</span><span class="w">
  </span><span class="k" data-group-id="6688580238-4">end</span><span class="w">
</span><span class="k" data-group-id="6688580238-2">end</span><span class="w">

</span><span class="c1"># ✅ Maybe is simpler for basic presence/absence</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">find_user</span><span class="p" data-group-id="6688580238-7">(</span><span class="n">id</span><span class="p" data-group-id="6688580238-7">)</span><span class="w"> </span><span class="k" data-group-id="6688580238-8">do</span><span class="w">
  </span><span class="k">case</span><span class="w"> </span><span class="n">get_user</span><span class="p" data-group-id="6688580238-9">(</span><span class="n">id</span><span class="p" data-group-id="6688580238-9">)</span><span class="w"> </span><span class="k" data-group-id="6688580238-10">do</span><span class="w">
    </span><span class="no">nil</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Maybe</span><span class="o">.</span><span class="n">nothing</span><span class="p" data-group-id="6688580238-11">(</span><span class="p" data-group-id="6688580238-11">)</span><span class="w">
    </span><span class="n">user</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Maybe</span><span class="o">.</span><span class="n">just</span><span class="p" data-group-id="6688580238-12">(</span><span class="n">user</span><span class="p" data-group-id="6688580238-12">)</span><span class="w">
  </span><span class="k" data-group-id="6688580238-10">end</span><span class="w">
</span><span class="k" data-group-id="6688580238-8">end</span></code></pre><h3 id="use-plain-values-when" class="section-heading">
  <a href="#use-plain-values-when" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Use Plain Values When</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Either overhead for operations that can&#39;t fail</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">calculate_tax</span><span class="p" data-group-id="9283628203-1">(</span><span class="n">amount</span><span class="p" data-group-id="9283628203-1">)</span><span class="w"> </span><span class="k" data-group-id="9283628203-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="9283628203-3">(</span><span class="n">amount</span><span class="p" data-group-id="9283628203-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map</span><span class="p" data-group-id="9283628203-4">(</span><span class="k" data-group-id="9283628203-5">fn</span><span class="w"> </span><span class="n">amt</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">amt</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.1</span><span class="w"> </span><span class="k" data-group-id="9283628203-5">end</span><span class="p" data-group-id="9283628203-4">)</span><span class="w">
</span><span class="k" data-group-id="9283628203-2">end</span><span class="w">

</span><span class="c1"># ✅ Plain calculation for guaranteed operations</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">calculate_tax</span><span class="p" data-group-id="9283628203-6">(</span><span class="n">amount</span><span class="p" data-group-id="9283628203-6">)</span><span class="w"> </span><span class="k" data-group-id="9283628203-7">do</span><span class="w">
  </span><span class="n">amount</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.1</span><span class="w">
</span><span class="k" data-group-id="9283628203-7">end</span></code></pre><h3 id="use-exceptions-when" class="section-heading">
  <a href="#use-exceptions-when" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Use Exceptions When</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Either for truly exceptional conditions</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">divide</span><span class="p" data-group-id="7508646660-1">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p" data-group-id="7508646660-1">)</span><span class="w"> </span><span class="k" data-group-id="7508646660-2">do</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="7508646660-3">do</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="7508646660-4">(</span><span class="s">&quot;Division by zero&quot;</span><span class="p" data-group-id="7508646660-4">)</span><span class="w">
  </span><span class="k" data-group-id="7508646660-3">else</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="7508646660-5">(</span><span class="n">a</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">b</span><span class="p" data-group-id="7508646660-5">)</span><span class="w">
  </span><span class="k" data-group-id="7508646660-3">end</span><span class="w">
</span><span class="k" data-group-id="7508646660-2">end</span><span class="w">

</span><span class="c1"># ✅ Exception for programmer errors</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">divide</span><span class="p" data-group-id="7508646660-6">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p" data-group-id="7508646660-6">)</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="7508646660-7">do</span><span class="w">
  </span><span class="n">a</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">b</span><span class="w">
</span><span class="k" data-group-id="7508646660-7">end</span><span class="w">
</span><span class="c1"># Let it crash on division by zero - it&#39;s a programming error</span></code></pre><h2 id="summary" class="section-heading">
  <a href="#summary" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Summary</span>
</h2>
<p>Either provides error-safe computation with detailed failure context:</p><p><strong>Core Operations:</strong></p><ul><li><code class="inline">right/1</code>: Wrap success values</li><li><code class="inline">left/1</code>: Wrap error values with context</li><li><code class="inline">map/2</code>: Transform success values, preserve errors</li><li><code class="inline">bind/2</code>: Chain Either-returning operations with fail-fast behavior</li><li><code class="inline">ap/2</code>: Apply functions across multiple Either values</li><li><code class="inline">traverse_a/2</code>: Validate with error accumulation</li><li><code class="inline">sequence/1</code>: Convert <code class="inline">[Either e a]</code> to <code class="inline">Either e [a]</code> with fail-fast</li></ul><p><strong>Key Patterns:</strong></p><ul><li>Chain error-prone operations with <code class="inline">bind/2</code> for fail-fast</li><li>Validate multiple fields with <code class="inline">traverse_a/2</code> for error collection</li><li>Transform success values with <code class="inline">map/2</code></li><li>Pattern match for specific error handling and recovery</li><li><p>Convert from {:ok, value} | {:error, reason} tuples</p></li></ul><p><strong>Mathematical Properties:</strong></p><ul><li><strong>Functor</strong>: <code class="inline">map</code> preserves structure (Right-biased)</li><li><strong>Applicative</strong>: <code class="inline">ap</code> applies functions in context (fails if any Left)</li><li><strong>Monad</strong>: <code class="inline">bind</code> enables dependent sequencing with error propagation</li></ul><p>Remember: Either represents &quot;success or detailed failure&quot; - use it when error context matters for debugging, user feedback, or recovery strategies.</p>
</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="monad-usage-rules.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Funx.Monad Usage Rules
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="monad-effect-usage-rules.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Funx.Monad.Effect Usage Rules
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/funx/0.1.5" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/funx/0.1.5">Hex Preview</a>

              (<a href="https://preview.hex.pm/preview/funx/0.1.5/show/lib/monad/either/usage-rules.md">current file</a>)

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="funx.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.34.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
