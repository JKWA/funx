<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.34.2">
    <meta name="project" content="funx v0.1.6">


    <title>Funx.Monad.Either Usage Rules — funx v0.1.6</title>
    <link rel="stylesheet" href="dist/html-elixir-F2VRIOKR.css" />


      <link rel="canonical" href="https://hexdocs.pm/funx/monad-either-usage-rules.html" />

    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-9B974E7C.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-YIPIRHGU.js"></script>

  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

      <div>
        <a href="readme.html" class="sidebar-projectName" translate="no">
funx
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.1.6
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of funx</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/JKWA/funx/blob/v0.1.6/lib/monad/either/usage-rules.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>


    <span><code class="inline">Funx.Monad.Either</code> Usage Rules</span>
  </h1>

<h2 id="llm-functional-programming-foundation" class="section-heading">
  <a href="#llm-functional-programming-foundation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">LLM Functional Programming Foundation</span>
</h2>
<p><strong>Key Concepts for LLMs:</strong></p><p><strong>CRITICAL Elixir Implementation</strong>: All monadic operations are under <a href="Funx.Monad.html"><code class="inline">Funx.Monad</code></a> protocol</p><ul><li><strong>NO separate Functor/Applicative protocols</strong> - Elixir protocols cannot be extended after definition</li><li>Always use <code class="inline">Monad.map/2</code>, <code class="inline">Monad.bind/2</code>, <code class="inline">Monad.ap/2</code> or import <a href="Funx.Monad.html"><code class="inline">Funx.Monad</code></a></li><li>Different from Haskell's separate Functor, Applicative, Monad typeclasses</li></ul><p><strong>Either</strong>: Represents immediate success/failure with detailed error context</p><ul><li><code class="inline">left(error)</code> represents failure with error information</li><li><code class="inline">right(value)</code> represents success with the actual value</li><li><strong>Right-biased</strong>: Operations work on the Right (success) path</li><li><strong>Immediate/Synchronous</strong>: Values exist right now, no deferred execution</li><li><strong>No concurrency</strong>: All operations are synchronous - use Effect for async operations</li></ul><p><strong>Right-biased Monad</strong>: Operations transform Right values, preserve Left errors</p><ul><li><code class="inline">map/2</code>, <code class="inline">bind/2</code>, <code class="inline">ap/2</code> only operate on Right values</li><li>Left values (errors) pass through unchanged</li><li>Similar to Maybe but with error context preserved</li></ul><p><strong>Validation vs Error-handling</strong>: Two distinct patterns</p><ul><li><strong>Validation</strong>: Use <code class="inline">traverse_a/2</code> to collect ALL errors</li><li><strong>Error-handling</strong>: Use <code class="inline">bind/2</code> chains that stop on first error</li><li><strong>Critical difference</strong>: validation accumulates, error-handling short-circuits</li></ul><p><strong>Kleisli Functions</strong>: Functions <code class="inline">a -&gt; Either e b</code> (unwrapped input, wrapped output)</p><ul><li><strong>Primary use</strong>: <code class="inline">traverse/2</code>, <code class="inline">traverse_a/2</code>, and <code class="inline">concat_map/2</code> for list operations</li><li><strong>Individual use</strong>: <code class="inline">bind/2</code> for single Either values</li><li>Example: <code class="inline">validate_email :: String -&gt; Either ValidationError Email</code></li></ul><p><strong>Key List Operation Patterns:</strong></p><ul><li><code class="inline">concat([Either e a])</code> → <code class="inline">[a]</code> (extract all Right values, ignore Left)</li><li><code class="inline">concat_map([a], kleisli_fn)</code> → <code class="inline">[b]</code> (apply Kleisli, collect Right results)</li><li><code class="inline">traverse([a], kleisli_fn)</code> → <code class="inline">Either e [b]</code> (apply Kleisli, all succeed or first Left)</li><li><code class="inline">traverse_a([a], kleisli_fn)</code> → <code class="inline">Either [e] [b]</code> (apply Kleisli, all succeed or collect all Left)</li><li><code class="inline">sequence([Either e a])</code> → <code class="inline">Either e [a]</code> (like traverse with identity, first Left or all Right)</li></ul><p><strong>Sequence (Category Theory)</strong>: Transform type constructor order</p><ul><li><code class="inline">[Either e a]</code> → <code class="inline">Either e [a]</code> (list of Either becomes Either of list)</li><li>Fails fast: first Left value becomes the result</li><li>Success: all Right values collected into Right list</li></ul><h2 id="llm-decision-guide-when-to-use-either" class="section-heading">
  <a href="#llm-decision-guide-when-to-use-either" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">LLM Decision Guide: When to Use Either</span>
</h2>
<p><strong>✅ Use Either when:</strong></p><ul><li>Need specific error context/details</li><li>Multiple validation steps with different error types  </li><li>Business logic with detailed failure messages</li><li>Error recovery or different handling per error type</li><li>User says: &quot;validate&quot;, &quot;check&quot;, &quot;ensure&quot;, &quot;verify&quot;, &quot;error details&quot;</li></ul><p><strong>❌ Use Effect when:</strong></p><ul><li>Async operations (database calls, HTTP requests, file I/O)</li><li>Need concurrency or deferred execution</li><li>Operations that take significant time</li><li>User says: &quot;async&quot;, &quot;concurrent&quot;, &quot;fetch&quot;, &quot;call API&quot;</li></ul><p><strong>❌ Use Maybe when:</strong></p><ul><li>Simple presence/absence (no error context needed)</li><li>&quot;Not found&quot; is sufficient error information</li><li>Optional fields where missing is normal</li></ul><p><strong>⚡ Either Strategy Decision:</strong></p><ul><li><strong>Single operation error-handling</strong>: Use <code class="inline">bind/2</code> chains</li><li><strong>Multi-field validation</strong>: Use <code class="inline">validate/2</code> to collect all errors</li><li><strong>Transform success values</strong>: Use <code class="inline">map/2</code> with regular functions</li><li><strong>Combine Either values</strong>: Use <code class="inline">ap/2</code> for applicative patterns</li><li><strong>Convert from Maybe</strong>: Use <code class="inline">maybe_to_either/2</code> with error message</li><li><strong>Pattern match results</strong>: Use <code class="inline">%Left{left: error}</code> and <code class="inline">%Right{right: value}</code> struct patterns</li></ul><p><strong>⚙️ Function Choice Guide (Mathematical Purpose):</strong></p><ul><li><strong>Chain error-prone operations</strong>: <code class="inline">bind/2</code> with Kleisli functions</li><li><strong>Transform success values</strong>: <code class="inline">map/2</code> with regular functions</li><li><strong>Validate multiple fields</strong>: <code class="inline">validate/2</code> for comprehensive error collection</li><li><strong>Apply functions to multiple Either</strong>: <code class="inline">ap/2</code> for combining contexts</li><li><strong>Convert lists</strong>: <code class="inline">sequence/1</code> to collect successes or first failure</li><li><strong>Handle specific errors</strong>: Pattern match Left values for recovery</li></ul><h2 id="llm-context-clues" class="section-heading">
  <a href="#llm-context-clues" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">LLM Context Clues</span>
</h2>
<p><strong>User language → Either patterns:</strong></p><ul><li>&quot;validate user input&quot; → Use Either for validation with specific error messages</li><li>&quot;parse and validate&quot; → Chain with <code class="inline">bind/2</code> for step-by-step validation</li><li>&quot;check all fields&quot; → Use <code class="inline">validate/2</code> to collect all validation errors</li><li>&quot;detailed error messages&quot; → Left values contain specific error information</li><li>&quot;stop on first error&quot; → Use <code class="inline">bind/2</code> chains for fail-fast behavior</li><li>&quot;collect all errors&quot; → Use <code class="inline">validate/2</code> for comprehensive validation</li></ul><h2 id="quick-reference" class="section-heading">
  <a href="#quick-reference" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Quick Reference</span>
</h2>
<ul><li>Use <code class="inline">right(value)</code> for success, <code class="inline">left(error)</code> for failure</li><li>Chain operations with <code class="inline">bind/2</code> - stops on first Left (error)</li><li>Transform success values with <code class="inline">map/2</code> - leaves Left unchanged  </li><li>Use <code class="inline">bind/2</code> with identity to flatten nested Either values</li><li>Validate data comprehensively with <code class="inline">validate/2</code> - collects all errors</li><li><strong>Prefer <code class="inline">fold_l/3</code> over pattern matching</strong> for functional case analysis</li><li>Import <a href="Funx.Monad.html"><code class="inline">Funx.Monad</code></a> for <code class="inline">map</code>, <code class="inline">bind</code>, <code class="inline">ap</code> and <a href="Funx.Foldable.html"><code class="inline">Funx.Foldable</code></a> for <code class="inline">fold_l</code></li><li>Convert from Maybe with error context using helper functions</li></ul><h2 id="overview" class="section-heading">
  <a href="#overview" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Overview</span>
</h2>
<p><a href="Funx.Monad.Either.html"><code class="inline">Funx.Monad.Either</code></a> handles success/failure scenarios with detailed error context.</p><p>Use Either for:</p><ul><li>Parsing and validation with specific error messages</li><li>Operations that can fail in multiple ways</li><li>Business logic where error details matter for recovery</li><li>API responses where clients need error specifics</li></ul><p><strong>Key insight</strong>: Either represents &quot;success or failure&quot; with the failure carrying detailed information. Right-biased operations focus on the success path while preserving any errors encountered.</p><h2 id="constructors" class="section-heading">
  <a href="#constructors" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Constructors</span>
</h2>
<h3 id="right-1-wrap-a-success-value" class="section-heading">
  <a href="#right-1-wrap-a-success-value" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">right/1</code> - Wrap a Success Value</span>
</h3>
<p>Creates an Either representing success:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5067173493-1">(</span><span class="mi">42</span><span class="p" data-group-id="5067173493-1">)</span><span class="w">           </span><span class="c1"># Success: contains 42</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5067173493-2">(</span><span class="s">&quot;valid&quot;</span><span class="p" data-group-id="5067173493-2">)</span><span class="w">      </span><span class="c1"># Success: contains &quot;valid&quot;</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5067173493-3">(</span><span class="p" data-group-id="5067173493-4">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="5067173493-4">]</span><span class="p" data-group-id="5067173493-3">)</span><span class="w">    </span><span class="c1"># Success: contains [1, 2, 3]</span></code></pre><h3 id="left-1-wrap-an-error-value" class="section-heading">
  <a href="#left-1-wrap-an-error-value" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">left/1</code> - Wrap an Error Value</span>
</h3>
<p>Creates an Either representing failure:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="0279471343-1">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="0279471343-1">)</span><span class="w">                    </span><span class="c1"># Failure: contains error message</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="0279471343-2">(</span><span class="p" data-group-id="0279471343-3">{</span><span class="ss">:validation</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p" data-group-id="0279471343-3">}</span><span class="p" data-group-id="0279471343-2">)</span><span class="w">   </span><span class="c1"># Failure: structured error</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="0279471343-4">(</span><span class="p" data-group-id="0279471343-5">%</span><span class="nc" data-group-id="0279471343-5">ValidationError</span><span class="p" data-group-id="0279471343-5">{</span><span class="p" data-group-id="0279471343-5">}</span><span class="p" data-group-id="0279471343-4">)</span><span class="w">         </span><span class="c1"># Failure: error struct</span></code></pre><h3 id="pure-1-alias-for-right-1" class="section-heading">
  <a href="#pure-1-alias-for-right-1" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">pure/1</code> - Alias for <code class="inline">right/1</code></span>
</h3>
<p>Alternative constructor for success values:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">pure</span><span class="p" data-group-id="2900354112-1">(</span><span class="mi">42</span><span class="p" data-group-id="2900354112-1">)</span><span class="w">    </span><span class="c1"># Same as Either.right(42)</span></code></pre><h2 id="core-operations" class="section-heading">
  <a href="#core-operations" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Core Operations</span>
</h2>
<h3 id="map-2-transform-success-values" class="section-heading">
  <a href="#map-2-transform-success-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">map/2</code> - Transform Success Values</span>
</h3>
<p>Applies a function to Right values, leaves Left values unchanged:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2762925102-1">(</span><span class="s">&quot;hello&quot;</span><span class="p" data-group-id="2762925102-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map</span><span class="p" data-group-id="2762925102-2">(</span><span class="o">&amp;</span><span class="nc">String</span><span class="o">.</span><span class="n">upcase</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2762925102-2">)</span><span class="w">        </span><span class="c1"># right(&quot;HELLO&quot;)</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="2762925102-3">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="2762925102-3">)</span><span class="w">  
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map</span><span class="p" data-group-id="2762925102-4">(</span><span class="o">&amp;</span><span class="nc">String</span><span class="o">.</span><span class="n">upcase</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2762925102-4">)</span><span class="w">        </span><span class="c1"># left(&quot;error&quot;) - function never runs</span></code></pre><p><strong>Use <code class="inline">map</code> when:</strong></p><ul><li>You want to transform the success value</li><li>The transformation function returns a plain value (not wrapped in Either)</li><li>You want to preserve the Either structure</li></ul><h3 id="bind-2-chain-error-prone-operations" class="section-heading">
  <a href="#bind-2-chain-error-prone-operations" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">bind/2</code> - Chain Error-Prone Operations</span>
</h3>
<p>Chains operations that return Either values, for fail-fast error handling:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># These functions return Either values</span><span class="w">
</span><span class="n">parse_int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="8763909371-1">fn</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
  </span><span class="k">case</span><span class="w"> </span><span class="nc">Integer</span><span class="o">.</span><span class="n">parse</span><span class="p" data-group-id="8763909371-2">(</span><span class="n">s</span><span class="p" data-group-id="8763909371-2">)</span><span class="w"> </span><span class="k" data-group-id="8763909371-3">do</span><span class="w">
    </span><span class="p" data-group-id="8763909371-4">{</span><span class="n">int</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p" data-group-id="8763909371-4">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8763909371-5">(</span><span class="n">int</span><span class="p" data-group-id="8763909371-5">)</span><span class="w">
    </span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8763909371-6">(</span><span class="s">&quot;Invalid integer: </span><span class="si" data-group-id="8763909371-7">#{</span><span class="n">s</span><span class="si" data-group-id="8763909371-7">}</span><span class="s">&quot;</span><span class="p" data-group-id="8763909371-6">)</span><span class="w">
  </span><span class="k" data-group-id="8763909371-3">end</span><span class="w">
</span><span class="k" data-group-id="8763909371-1">end</span><span class="w">

</span><span class="n">validate_positive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="8763909371-8">fn</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="8763909371-9">do</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8763909371-10">(</span><span class="n">n</span><span class="p" data-group-id="8763909371-10">)</span><span class="w">
  </span><span class="k" data-group-id="8763909371-9">else</span><span class="w"> 
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8763909371-11">(</span><span class="s">&quot;Must be positive: </span><span class="si" data-group-id="8763909371-12">#{</span><span class="n">n</span><span class="si" data-group-id="8763909371-12">}</span><span class="s">&quot;</span><span class="p" data-group-id="8763909371-11">)</span><span class="w">
  </span><span class="k" data-group-id="8763909371-9">end</span><span class="w">
</span><span class="k" data-group-id="8763909371-8">end</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8763909371-13">(</span><span class="s">&quot;42&quot;</span><span class="p" data-group-id="8763909371-13">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8763909371-14">(</span><span class="n">parse_int</span><span class="p" data-group-id="8763909371-14">)</span><span class="w">           </span><span class="c1"># right(42)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8763909371-15">(</span><span class="n">validate_positive</span><span class="p" data-group-id="8763909371-15">)</span><span class="w">   </span><span class="c1"># right(42)</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8763909371-16">(</span><span class="s">&quot;invalid&quot;</span><span class="p" data-group-id="8763909371-16">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8763909371-17">(</span><span class="n">parse_int</span><span class="p" data-group-id="8763909371-17">)</span><span class="w">           </span><span class="c1"># left(&quot;Invalid integer: invalid&quot;) - chain stops</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8763909371-18">(</span><span class="n">validate_positive</span><span class="p" data-group-id="8763909371-18">)</span><span class="w">   </span><span class="c1"># left(&quot;Invalid integer: invalid&quot;) - never runs</span></code></pre><p><strong>Use <code class="inline">bind</code> when:</strong></p><ul><li>You're chaining operations that each can fail</li><li>Each step depends on the success of the previous step</li><li>You want fail-fast behavior (stop on first error)</li></ul><p><strong>Common bind pattern:</strong></p><pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">process_user_input</span><span class="p" data-group-id="7940775880-1">(</span><span class="n">input</span><span class="p" data-group-id="7940775880-1">)</span><span class="w"> </span><span class="k" data-group-id="7940775880-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="7940775880-3">(</span><span class="n">input</span><span class="p" data-group-id="7940775880-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="7940775880-4">(</span><span class="o">&amp;</span><span class="n">parse_user_data</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="7940775880-4">)</span><span class="w">      </span><span class="c1"># String -&gt; Either Error UserData</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="7940775880-5">(</span><span class="o">&amp;</span><span class="n">validate_user_data</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="7940775880-5">)</span><span class="w">   </span><span class="c1"># UserData -&gt; Either Error ValidUser</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="7940775880-6">(</span><span class="o">&amp;</span><span class="n">save_user</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="7940775880-6">)</span><span class="w">            </span><span class="c1"># ValidUser -&gt; Either Error SavedUser</span><span class="w">
</span><span class="k" data-group-id="7940775880-2">end</span></code></pre><h3 id="ap-2-apply-functions-across-either-values" class="section-heading">
  <a href="#ap-2-apply-functions-across-either-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">ap/2</code> - Apply Functions Across Either Values</span>
</h3>
<p>Applies a function in an Either to a value in an Either:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># Apply a wrapped function to wrapped values</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8968109058-1">(</span><span class="k" data-group-id="8968109058-2">fn</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="k" data-group-id="8968109058-2">end</span><span class="p" data-group-id="8968109058-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="8968109058-3">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8968109058-4">(</span><span class="mi">5</span><span class="p" data-group-id="8968109058-4">)</span><span class="p" data-group-id="8968109058-3">)</span><span class="w">          </span><span class="c1"># right(15)</span><span class="w">

</span><span class="c1"># Combine multiple Either values</span><span class="w">
</span><span class="n">add</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="8968109058-5">fn</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k" data-group-id="8968109058-6">fn</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="k" data-group-id="8968109058-6">end</span><span class="w"> </span><span class="k" data-group-id="8968109058-5">end</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8968109058-7">(</span><span class="n">add</span><span class="p" data-group-id="8968109058-7">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="8968109058-8">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8968109058-9">(</span><span class="mi">3</span><span class="p" data-group-id="8968109058-9">)</span><span class="p" data-group-id="8968109058-8">)</span><span class="w">          </span><span class="c1"># right(fn y -&gt; 3 + y end)  </span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="8968109058-10">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8968109058-11">(</span><span class="mi">4</span><span class="p" data-group-id="8968109058-11">)</span><span class="p" data-group-id="8968109058-10">)</span><span class="w">          </span><span class="c1"># right(7)</span><span class="w">

</span><span class="c1"># If any value is left, result is left</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8968109058-12">(</span><span class="n">add</span><span class="p" data-group-id="8968109058-12">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="8968109058-13">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8968109058-14">(</span><span class="s">&quot;error1&quot;</span><span class="p" data-group-id="8968109058-14">)</span><span class="p" data-group-id="8968109058-13">)</span><span class="w">    </span><span class="c1"># left(&quot;error1&quot;)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="8968109058-15">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8968109058-16">(</span><span class="mi">4</span><span class="p" data-group-id="8968109058-16">)</span><span class="p" data-group-id="8968109058-15">)</span><span class="w">          </span><span class="c1"># left(&quot;error1&quot;)</span></code></pre><p><strong>Use <code class="inline">ap</code> when:</strong></p><ul><li>You want to apply a function to multiple Either values</li><li>You need all values to be Right for the operation to succeed</li><li>You're implementing applicative patterns</li></ul><h3 id="flattening-nested-either-values-with-bind" class="section-heading">
  <a href="#flattening-nested-either-values-with-bind" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Flattening Nested Either Values with <code class="inline">bind</code></span>
</h3>
<p>Since there's no <code class="inline">join/1</code> function, use <code class="inline">bind/2</code> with the identity function to flatten nested Either values:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># Flatten nested Right using bind</span><span class="w">
</span><span class="n">nested_right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8817012127-1">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8817012127-2">(</span><span class="mi">42</span><span class="p" data-group-id="8817012127-2">)</span><span class="p" data-group-id="8817012127-1">)</span><span class="w">
</span><span class="n">bind</span><span class="p" data-group-id="8817012127-3">(</span><span class="n">nested_right</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="8817012127-4">fn</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="k" data-group-id="8817012127-4">end</span><span class="p" data-group-id="8817012127-3">)</span><span class="w">    </span><span class="c1"># right(42)</span><span class="w">

</span><span class="c1"># Left in outer - stays Left</span><span class="w">
</span><span class="n">outer_left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8817012127-5">(</span><span class="s">&quot;outer error&quot;</span><span class="p" data-group-id="8817012127-5">)</span><span class="w">
</span><span class="n">bind</span><span class="p" data-group-id="8817012127-6">(</span><span class="n">outer_left</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="8817012127-7">fn</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="k" data-group-id="8817012127-7">end</span><span class="p" data-group-id="8817012127-6">)</span><span class="w">      </span><span class="c1"># left(&quot;outer error&quot;)</span><span class="w">

</span><span class="c1"># Left in inner - becomes Left</span><span class="w">
</span><span class="n">inner_left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8817012127-8">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8817012127-9">(</span><span class="s">&quot;inner error&quot;</span><span class="p" data-group-id="8817012127-9">)</span><span class="p" data-group-id="8817012127-8">)</span><span class="w">
</span><span class="n">bind</span><span class="p" data-group-id="8817012127-10">(</span><span class="n">inner_left</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="8817012127-11">fn</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">inner</span><span class="w"> </span><span class="k" data-group-id="8817012127-11">end</span><span class="p" data-group-id="8817012127-10">)</span><span class="w">      </span><span class="c1"># left(&quot;inner error&quot;)</span></code></pre><p><strong>Use this pattern when:</strong></p><ul><li>You have nested Either values that need flattening</li><li>You're implementing monadic operations manually</li><li>You're working with higher-order Either computations</li></ul><h2 id="list-operations" class="section-heading">
  <a href="#list-operations" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">List Operations</span>
</h2>
<h3 id="concat-1-extract-all-right-values" class="section-heading">
  <a href="#concat-1-extract-all-right-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">concat/1</code> - Extract All Right Values</span>
</h3>
<p>Removes all Left values and unwraps Right values from a list:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">concat</span><span class="p" data-group-id="0814535868-1">(</span><span class="p" data-group-id="0814535868-2">[</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="0814535868-3">(</span><span class="mi">1</span><span class="p" data-group-id="0814535868-3">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="0814535868-4">(</span><span class="s">&quot;error1&quot;</span><span class="p" data-group-id="0814535868-4">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="0814535868-5">(</span><span class="mi">3</span><span class="p" data-group-id="0814535868-5">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="0814535868-6">(</span><span class="s">&quot;error2&quot;</span><span class="p" data-group-id="0814535868-6">)</span><span class="w">
</span><span class="p" data-group-id="0814535868-2">]</span><span class="p" data-group-id="0814535868-1">)</span><span class="w">                              </span><span class="c1"># [1, 3]</span></code></pre><h3 id="validate-2-comprehensive-data-validation" class="section-heading">
  <a href="#validate-2-comprehensive-data-validation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">validate/2</code> - Comprehensive Data Validation</span>
</h3>
<p>The high-level validation function that collects ALL errors from multiple validators:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># Basic validation with error lists</span><span class="w">
</span><span class="n">validate_positive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="3794261766-1">fn</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3794261766-2">(</span><span class="n">n</span><span class="p" data-group-id="3794261766-2">)</span><span class="p">,</span><span class="w"> </span><span class="ss">else</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="3794261766-3">(</span><span class="p" data-group-id="3794261766-4">[</span><span class="s">&quot;Must be positive&quot;</span><span class="p" data-group-id="3794261766-4">]</span><span class="p" data-group-id="3794261766-3">)</span><span class="w">
</span><span class="k" data-group-id="3794261766-1">end</span><span class="w">

</span><span class="n">validate_even</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="3794261766-5">fn</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="n">rem</span><span class="p" data-group-id="3794261766-6">(</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="3794261766-6">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">do</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3794261766-7">(</span><span class="n">n</span><span class="p" data-group-id="3794261766-7">)</span><span class="p">,</span><span class="w"> </span><span class="ss">else</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="3794261766-8">(</span><span class="p" data-group-id="3794261766-9">[</span><span class="s">&quot;Must be even&quot;</span><span class="p" data-group-id="3794261766-9">]</span><span class="p" data-group-id="3794261766-8">)</span><span class="w">
</span><span class="k" data-group-id="3794261766-5">end</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="3794261766-10">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3794261766-11">[</span><span class="n">validate_positive</span><span class="p">,</span><span class="w"> </span><span class="n">validate_even</span><span class="p" data-group-id="3794261766-11">]</span><span class="p" data-group-id="3794261766-10">)</span><span class="w">
</span><span class="c1"># left([&quot;Must be even&quot;])</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="3794261766-12">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3794261766-13">[</span><span class="n">validate_positive</span><span class="p">,</span><span class="w"> </span><span class="n">validate_even</span><span class="p" data-group-id="3794261766-13">]</span><span class="p" data-group-id="3794261766-12">)</span><span class="w">  
</span><span class="c1"># left([&quot;Must be positive&quot;])</span></code></pre><p><strong>Use <code class="inline">validate</code> when:</strong></p><ul><li>You need comprehensive validation with ALL error details</li><li>You're validating forms or user input</li><li>You want to show users all validation problems at once</li><li>You need to apply multiple validation rules to a single value</li></ul><h3 id="validation-with-validationerror" class="section-heading">
  <a href="#validation-with-validationerror" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Validation with ValidationError</span>
</h3>
<p>For comprehensive domain validation with structured error handling, use <a href="Funx.Errors.ValidationError.html"><code class="inline">Funx.Errors.ValidationError</code></a>:</p><pre><code class="makeup elixir" translate="no"><span class="kn">alias</span><span class="w"> </span><span class="nc">Funx.Errors.ValidationError</span><span class="w">

</span><span class="c1"># Wrap simple errors in ValidationError</span><span class="w">
</span><span class="n">validate_age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="8854265548-1">fn</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_predicate</span><span class="p" data-group-id="8854265548-2">(</span><span class="n">age</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="p" data-group-id="8854265548-3">(</span><span class="ni">&amp;1</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">18</span><span class="p" data-group-id="8854265548-3">)</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Must be 18 or older&quot;</span><span class="p" data-group-id="8854265548-2">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">map_left</span><span class="p" data-group-id="8854265548-4">(</span><span class="o">&amp;</span><span class="nc">ValidationError</span><span class="o">.</span><span class="n">new</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8854265548-4">)</span><span class="w">
</span><span class="k" data-group-id="8854265548-1">end</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="8854265548-5">(</span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8854265548-6">[</span><span class="n">validate_age</span><span class="p" data-group-id="8854265548-6">]</span><span class="p" data-group-id="8854265548-5">)</span><span class="w">
</span><span class="c1"># left(ValidationError{errors: [&quot;Must be 18 or older&quot;]})</span></code></pre><p><strong>See <code class="inline">ValidationError</code> usage rules for advanced patterns:</strong></p><ul><li>Curried validation functions with <code class="inline">curry_r/1</code></li><li>Fallback validation with <code class="inline">Either.or_else/2</code></li><li>Error message transformation techniques</li><li>Group validation with <code class="inline">traverse/2</code> and <code class="inline">traverse_a/2</code></li><li>Sequential vs comprehensive validation strategies</li></ul><h3 id="concat_map-2-apply-function-and-collect-rights" class="section-heading">
  <a href="#concat_map-2-apply-function-and-collect-rights" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">concat_map/2</code> - Apply Function and Collect Rights</span>
</h3>
<p>Applies a function to each element, collecting only Right results:</p><h3 id="traverse-2-apply-kleisli-to-list-first-error-or-all-success" class="section-heading">
  <a href="#traverse-2-apply-kleisli-to-list-first-error-or-all-success" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">traverse/2</code> - Apply Kleisli to List (First Error or All Success)</span>
</h3>
<p>Applies a Kleisli function to each element, stopping at first Left:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># Kleisli function: String -&gt; Either String Integer</span><span class="w">
</span><span class="n">parse_number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="2134808219-1">fn</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">case</span><span class="w"> </span><span class="nc">Integer</span><span class="o">.</span><span class="n">parse</span><span class="p" data-group-id="2134808219-2">(</span><span class="n">str</span><span class="p" data-group-id="2134808219-2">)</span><span class="w"> </span><span class="k" data-group-id="2134808219-3">do</span><span class="w">
    </span><span class="p" data-group-id="2134808219-4">{</span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p" data-group-id="2134808219-4">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2134808219-5">(</span><span class="n">num</span><span class="p" data-group-id="2134808219-5">)</span><span class="w">
    </span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="2134808219-6">(</span><span class="s">&quot;Invalid number: </span><span class="si" data-group-id="2134808219-7">#{</span><span class="n">str</span><span class="si" data-group-id="2134808219-7">}</span><span class="s">&quot;</span><span class="p" data-group-id="2134808219-6">)</span><span class="w">
  </span><span class="k" data-group-id="2134808219-3">end</span><span class="w">
</span><span class="k" data-group-id="2134808219-1">end</span><span class="w">

</span><span class="c1"># All succeed - get Either list</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse</span><span class="p" data-group-id="2134808219-8">(</span><span class="p" data-group-id="2134808219-9">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p" data-group-id="2134808219-9">]</span><span class="p">,</span><span class="w"> </span><span class="n">parse_number</span><span class="p" data-group-id="2134808219-8">)</span><span class="w">  </span><span class="c1"># right([1, 2, 3])</span><span class="w">

</span><span class="c1"># First failure stops processing</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse</span><span class="p" data-group-id="2134808219-10">(</span><span class="p" data-group-id="2134808219-11">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p" data-group-id="2134808219-11">]</span><span class="p">,</span><span class="w"> </span><span class="n">parse_number</span><span class="p" data-group-id="2134808219-10">)</span><span class="w">  
</span><span class="c1"># left(&quot;Invalid number: invalid&quot;)</span></code></pre><p><strong>Use <code class="inline">traverse</code> when:</strong></p><ul><li>All operations must succeed for meaningful result</li><li>You want fail-fast behavior on lists</li><li>Converting <code class="inline">[a]</code> to <code class="inline">Either e [b]</code> with validation</li></ul><h3 id="traverse_a-2-apply-kleisli-to-list-collect-all-errors" class="section-heading">
  <a href="#traverse_a-2-apply-kleisli-to-list-collect-all-errors" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">traverse_a/2</code> - Apply Kleisli to List (Collect All Errors)</span>
</h3>
<p>Applies a Kleisli function to each element, collecting ALL errors:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># Same Kleisli function as above, but returns error lists for accumulation</span><span class="w">
</span><span class="n">validate_number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="3953305586-1">fn</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">case</span><span class="w"> </span><span class="nc">Integer</span><span class="o">.</span><span class="n">parse</span><span class="p" data-group-id="3953305586-2">(</span><span class="n">str</span><span class="p" data-group-id="3953305586-2">)</span><span class="w"> </span><span class="k" data-group-id="3953305586-3">do</span><span class="w">
    </span><span class="p" data-group-id="3953305586-4">{</span><span class="n">num</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p" data-group-id="3953305586-4">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3953305586-5">(</span><span class="n">num</span><span class="p" data-group-id="3953305586-5">)</span><span class="w">
    </span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="3953305586-6">(</span><span class="p" data-group-id="3953305586-7">[</span><span class="s">&quot;Invalid number: </span><span class="si" data-group-id="3953305586-8">#{</span><span class="n">str</span><span class="si" data-group-id="3953305586-8">}</span><span class="s">&quot;</span><span class="p" data-group-id="3953305586-7">]</span><span class="p" data-group-id="3953305586-6">)</span><span class="w">  </span><span class="c1"># List for accumulation</span><span class="w">
  </span><span class="k" data-group-id="3953305586-3">end</span><span class="w">
</span><span class="k" data-group-id="3953305586-1">end</span><span class="w">

</span><span class="c1"># Collect ALL errors</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="3953305586-9">(</span><span class="p" data-group-id="3953305586-10">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bad&quot;</span><span class="p" data-group-id="3953305586-10">]</span><span class="p">,</span><span class="w"> </span><span class="n">validate_number</span><span class="p" data-group-id="3953305586-9">)</span><span class="w">
</span><span class="c1"># left([&quot;Invalid number: invalid&quot;, &quot;Invalid number: bad&quot;])</span><span class="w">

</span><span class="c1"># All succeed - get Right list</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="3953305586-11">(</span><span class="p" data-group-id="3953305586-12">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p" data-group-id="3953305586-12">]</span><span class="p">,</span><span class="w"> </span><span class="n">validate_number</span><span class="p" data-group-id="3953305586-11">)</span><span class="w">  </span><span class="c1"># right([1, 2, 3])</span></code></pre><p><strong>Use <code class="inline">traverse_a</code> when:</strong></p><ul><li>You want to collect ALL errors from validation</li><li>You need comprehensive error reporting</li><li>You're implementing validation that shows all problems at once</li></ul><h3 id="concat_map-2-apply-kleisli-to-list-collect-successes" class="section-heading">
  <a href="#concat_map-2-apply-kleisli-to-list-collect-successes" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">concat_map/2</code> - Apply Kleisli to List (Collect Successes)</span>
</h3>
<p>Applies a Kleisli function to each element, collecting only successful results:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># Collect only successes - get plain list</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">concat_map</span><span class="p" data-group-id="0925529774-1">(</span><span class="p" data-group-id="0925529774-2">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bad&quot;</span><span class="p" data-group-id="0925529774-2">]</span><span class="p">,</span><span class="w"> </span><span class="n">parse_number</span><span class="p" data-group-id="0925529774-1">)</span><span class="w">  </span><span class="c1"># [1, 3]</span><span class="w">

</span><span class="c1"># All succeed - get all results</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">concat_map</span><span class="p" data-group-id="0925529774-3">(</span><span class="p" data-group-id="0925529774-4">[</span><span class="s">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p" data-group-id="0925529774-4">]</span><span class="p">,</span><span class="w"> </span><span class="n">parse_number</span><span class="p" data-group-id="0925529774-3">)</span><span class="w">  </span><span class="c1"># [1, 2, 3]</span><span class="w">

</span><span class="c1"># All fail - get empty list</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">concat_map</span><span class="p" data-group-id="0925529774-5">(</span><span class="p" data-group-id="0925529774-6">[</span><span class="s">&quot;bad&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="0925529774-6">]</span><span class="p">,</span><span class="w"> </span><span class="n">parse_number</span><span class="p" data-group-id="0925529774-5">)</span><span class="w">  </span><span class="c1"># []</span></code></pre><p><strong>Use <code class="inline">concat_map</code> when:</strong></p><ul><li>Partial success is acceptable</li><li>You want to collect all valid results</li><li>You need resilient processing that continues on failure</li></ul><h3 id="sequence-1-convert-list-of-either-to-either-list" class="section-heading">
  <a href="#sequence-1-convert-list-of-either-to-either-list" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">sequence/1</code> - Convert List of Either to Either List</span>
</h3>
<p>Converts <code class="inline">[Either e a]</code> to <code class="inline">Either e [a]</code> - equivalent to <code class="inline">traverse</code> with identity function:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># All success - collect values</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">sequence</span><span class="p" data-group-id="2519471791-1">(</span><span class="p" data-group-id="2519471791-2">[</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2519471791-3">(</span><span class="mi">1</span><span class="p" data-group-id="2519471791-3">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2519471791-4">(</span><span class="mi">2</span><span class="p" data-group-id="2519471791-4">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2519471791-5">(</span><span class="mi">3</span><span class="p" data-group-id="2519471791-5">)</span><span class="w">
</span><span class="p" data-group-id="2519471791-2">]</span><span class="p" data-group-id="2519471791-1">)</span><span class="w">                              </span><span class="c1"># right([1, 2, 3])</span><span class="w">

</span><span class="c1"># First failure stops and returns that error</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">sequence</span><span class="p" data-group-id="2519471791-6">(</span><span class="p" data-group-id="2519471791-7">[</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2519471791-8">(</span><span class="mi">1</span><span class="p" data-group-id="2519471791-8">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="2519471791-9">(</span><span class="s">&quot;error2&quot;</span><span class="p" data-group-id="2519471791-9">)</span><span class="p">,</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="2519471791-10">(</span><span class="s">&quot;error3&quot;</span><span class="p" data-group-id="2519471791-10">)</span><span class="w">
</span><span class="p" data-group-id="2519471791-7">]</span><span class="p" data-group-id="2519471791-6">)</span><span class="w">                              </span><span class="c1"># left(&quot;error2&quot;)</span><span class="w">

</span><span class="c1"># Relationship to traverse</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">sequence</span><span class="p" data-group-id="2519471791-11">(</span><span class="n">either_list</span><span class="p" data-group-id="2519471791-11">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse</span><span class="p" data-group-id="2519471791-12">(</span><span class="n">either_list</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="2519471791-13">fn</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="k" data-group-id="2519471791-13">end</span><span class="p" data-group-id="2519471791-12">)</span></code></pre><p><strong>Use <code class="inline">sequence</code> when:</strong></p><ul><li>You have a list of Either values from previous computations</li><li>You want all to succeed, or the first failure</li><li>You're collecting results from multiple operations</li></ul><h3 id="operation-comparison" class="section-heading">
  <a href="#operation-comparison" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Operation Comparison</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="n">user_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="4042993160-1">[</span><span class="s">&quot;valid@email.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid-email&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;another@valid.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;bad-format&quot;</span><span class="p" data-group-id="4042993160-1">]</span><span class="w">

</span><span class="c1"># traverse: Stop at first error</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse</span><span class="p" data-group-id="4042993160-2">(</span><span class="n">user_data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_email</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="4042993160-2">)</span><span class="w">
</span><span class="c1"># left(&quot;Invalid email format: invalid-email&quot;)</span><span class="w">

</span><span class="c1"># traverse_a: Collect all errors  </span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="4042993160-3">(</span><span class="n">user_data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_email_with_list_error</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="4042993160-3">)</span><span class="w">
</span><span class="c1"># left([&quot;Invalid email format: invalid-email&quot;, &quot;Invalid email format: bad-format&quot;])</span><span class="w">

</span><span class="c1"># concat_map: Collect successes, ignore failures</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">concat_map</span><span class="p" data-group-id="4042993160-4">(</span><span class="n">user_data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_email</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="4042993160-4">)</span><span class="w">
</span><span class="c1"># [&quot;valid@email.com&quot;, &quot;another@valid.com&quot;]</span></code></pre><h2 id="validation" class="section-heading">
  <a href="#validation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Validation</span>
</h2>
<p>Validation is a specialized use of Either for comprehensive error collection.</p><p>See the <code class="inline">validate/2</code> function in the List Operations section above.</p><h2 id="lifting" class="section-heading">
  <a href="#lifting" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Lifting</span>
</h2>
<h3 id="lift_predicate-3-convert-predicate-to-either" class="section-heading">
  <a href="#lift_predicate-3-convert-predicate-to-either" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">lift_predicate/3</code> - Convert Predicate to Either</span>
</h3>
<p>Converts a predicate function into Either-returning validation:</p><pre><code class="makeup elixir" translate="no"><span class="n">validate_positive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_predicate</span><span class="p" data-group-id="8755266350-1">(</span><span class="o">&amp;</span><span class="p" data-group-id="8755266350-2">(</span><span class="ni">&amp;1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="8755266350-2">)</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Must be positive&quot;</span><span class="p" data-group-id="8755266350-1">)</span><span class="w">

</span><span class="n">validate_positive</span><span class="o">.</span><span class="p" data-group-id="8755266350-3">(</span><span class="mi">5</span><span class="p" data-group-id="8755266350-3">)</span><span class="w">   </span><span class="c1"># right(5)</span><span class="w">
</span><span class="n">validate_positive</span><span class="o">.</span><span class="p" data-group-id="8755266350-4">(</span><span class="o">-</span><span class="mi">1</span><span class="p" data-group-id="8755266350-4">)</span><span class="w">  </span><span class="c1"># left(&quot;Must be positive&quot;)</span></code></pre><h3 id="lift_maybe-2-convert-maybe-to-either" class="section-heading">
  <a href="#lift_maybe-2-convert-maybe-to-either" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">lift_maybe/2</code> - Convert Maybe to Either</span>
</h3>
<p>Converts a Maybe to Either with error context:</p><pre><code class="makeup elixir" translate="no"><span class="n">maybe_user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Maybe</span><span class="o">.</span><span class="n">just</span><span class="p" data-group-id="0287444784-1">(</span><span class="p" data-group-id="0287444784-2">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p" data-group-id="0287444784-2">}</span><span class="p" data-group-id="0287444784-1">)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_maybe</span><span class="p" data-group-id="0287444784-3">(</span><span class="n">maybe_user</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;User not found&quot;</span><span class="p" data-group-id="0287444784-3">)</span><span class="w">  </span><span class="c1"># right(%{name: &quot;Alice&quot;})</span><span class="w">

</span><span class="nc">Maybe</span><span class="o">.</span><span class="n">nothing</span><span class="p" data-group-id="0287444784-4">(</span><span class="p" data-group-id="0287444784-4">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_maybe</span><span class="p" data-group-id="0287444784-5">(</span><span class="s">&quot;User not found&quot;</span><span class="p" data-group-id="0287444784-5">)</span><span class="w">  </span><span class="c1"># left(&quot;User not found&quot;)</span></code></pre><h3 id="lift_eq-1-and-lift_ord-1-lift-comparison-functions" class="section-heading">
  <a href="#lift_eq-1-and-lift_ord-1-lift-comparison-functions" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">lift_eq/1</code> and <code class="inline">lift_ord/1</code> - Lift Comparison Functions</span>
</h3>
<p>Lifts comparison functions for use in Either context:</p><pre><code class="makeup elixir" translate="no"><span class="c1"># Lift equality for Either values</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_eq</span><span class="p" data-group-id="7368392053-1">(</span><span class="o">&amp;</span><span class="o">==</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="7368392053-1">)</span><span class="w">

</span><span class="c1"># Lift ordering for Either values  </span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">lift_ord</span><span class="p" data-group-id="7368392053-2">(</span><span class="o">&amp;</span><span class="n">compare</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="7368392053-2">)</span></code></pre><h2 id="elixir-interoperability" class="section-heading">
  <a href="#elixir-interoperability" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Elixir Interoperability</span>
</h2>
<h3 id="from_result-1-convert-from-result-tuples" class="section-heading">
  <a href="#from_result-1-convert-from-result-tuples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">from_result/1</code> - Convert from Result Tuples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert from {:ok, value} | {:error, reason} tuples</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">from_result</span><span class="p" data-group-id="4400999410-1">(</span><span class="p" data-group-id="4400999410-2">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="mi">42</span><span class="p" data-group-id="4400999410-2">}</span><span class="p" data-group-id="4400999410-1">)</span><span class="w">         </span><span class="c1"># right(42)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">from_result</span><span class="p" data-group-id="4400999410-3">(</span><span class="p" data-group-id="4400999410-4">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;fail&quot;</span><span class="p" data-group-id="4400999410-4">}</span><span class="p" data-group-id="4400999410-3">)</span><span class="w">  </span><span class="c1"># left(&quot;fail&quot;)</span></code></pre><h3 id="to_result-1-convert-to-result-tuples" class="section-heading">
  <a href="#to_result-1-convert-to-result-tuples" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">to_result/1</code> - Convert to Result Tuples</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert to {:ok, value} | {:error, reason} tuples</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">to_result</span><span class="p" data-group-id="3850212651-1">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3850212651-2">(</span><span class="mi">42</span><span class="p" data-group-id="3850212651-2">)</span><span class="p" data-group-id="3850212651-1">)</span><span class="w">        </span><span class="c1"># {:ok, 42}</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">to_result</span><span class="p" data-group-id="3850212651-3">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="3850212651-4">(</span><span class="s">&quot;fail&quot;</span><span class="p" data-group-id="3850212651-4">)</span><span class="p" data-group-id="3850212651-3">)</span><span class="w">     </span><span class="c1"># {:error, &quot;fail&quot;}</span></code></pre><h3 id="from_try-1-safe-function-execution" class="section-heading">
  <a href="#from_try-1-safe-function-execution" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">from_try/1</code> - Safe Function Execution</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Run function safely, catching exceptions</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">from_try</span><span class="p" data-group-id="2177023685-1">(</span><span class="k" data-group-id="2177023685-2">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="2177023685-2">end</span><span class="p" data-group-id="2177023685-1">)</span><span class="w">  </span><span class="c1"># left(%ArithmeticError{})</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">from_try</span><span class="p" data-group-id="2177023685-3">(</span><span class="k" data-group-id="2177023685-4">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k" data-group-id="2177023685-4">end</span><span class="p" data-group-id="2177023685-3">)</span><span class="w">  </span><span class="c1"># right(21.0)</span></code></pre><h3 id="to_try-1-unwrap-or-raise" class="section-heading">
  <a href="#to_try-1-unwrap-or-raise" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">to_try!/1</code> - Unwrap or Raise</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">to_try!</span><span class="p" data-group-id="5766007102-1">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5766007102-2">(</span><span class="mi">42</span><span class="p" data-group-id="5766007102-2">)</span><span class="p" data-group-id="5766007102-1">)</span><span class="w">       </span><span class="c1"># 42</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">to_try!</span><span class="p" data-group-id="5766007102-3">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="5766007102-4">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="5766007102-4">)</span><span class="p" data-group-id="5766007102-3">)</span><span class="w">   </span><span class="c1"># raises RuntimeError: &quot;error&quot;</span></code></pre><h2 id="folding-either-values" class="section-heading">
  <a href="#folding-either-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Folding Either Values</span>
</h2>
<p><strong>Core Concept</strong>: Both <code class="inline">Left</code> and <code class="inline">Right</code> implement the <a href="Funx.Foldable.html"><code class="inline">Funx.Foldable</code></a> protocol, providing <code class="inline">fold_l/3</code> for catamorphism (breaking down data structures).</p><h3 id="fold_l-3-functional-case-analysis" class="section-heading">
  <a href="#fold_l-3-functional-case-analysis" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">fold_l/3</code> - Functional Case Analysis</span>
</h3>
<p>The fundamental operation for handling Either values without pattern matching:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># fold_l(either_value, right_function, left_function)</span><span class="w">
</span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="3034576840-1">(</span><span class="n">either_value</span><span class="p">,</span><span class="w"> 
  </span><span class="k" data-group-id="3034576840-2">fn</span><span class="w"> </span><span class="n">success_value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Success: </span><span class="si" data-group-id="3034576840-3">#{</span><span class="n">success_value</span><span class="si" data-group-id="3034576840-3">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="3034576840-2">end</span><span class="p">,</span><span class="w">  </span><span class="c1"># Right case</span><span class="w">
  </span><span class="k" data-group-id="3034576840-4">fn</span><span class="w"> </span><span class="n">error_value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Error: </span><span class="si" data-group-id="3034576840-5">#{</span><span class="n">error_value</span><span class="si" data-group-id="3034576840-5">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="3034576840-4">end</span><span class="w">        </span><span class="c1"># Left case</span><span class="w">
</span><span class="p" data-group-id="3034576840-1">)</span><span class="w">

</span><span class="c1"># Examples</span><span class="w">
</span><span class="n">fold_l</span><span class="p" data-group-id="3034576840-6">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3034576840-7">(</span><span class="mi">42</span><span class="p" data-group-id="3034576840-7">)</span><span class="p">,</span><span class="w"> 
  </span><span class="k" data-group-id="3034576840-8">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k" data-group-id="3034576840-8">end</span><span class="p">,</span><span class="w">     </span><span class="c1"># Runs this: 84</span><span class="w">
  </span><span class="k" data-group-id="3034576840-9">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="3034576840-9">end</span><span class="w">              </span><span class="c1"># Never runs</span><span class="w">
</span><span class="p" data-group-id="3034576840-6">)</span><span class="w">

</span><span class="n">fold_l</span><span class="p" data-group-id="3034576840-10">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="3034576840-11">(</span><span class="s">&quot;failed&quot;</span><span class="p" data-group-id="3034576840-11">)</span><span class="p">,</span><span class="w"> 
  </span><span class="k" data-group-id="3034576840-12">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k" data-group-id="3034576840-12">end</span><span class="p">,</span><span class="w">     </span><span class="c1"># Never runs</span><span class="w">
  </span><span class="k" data-group-id="3034576840-13">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Got: </span><span class="si" data-group-id="3034576840-14">#{</span><span class="n">error</span><span class="si" data-group-id="3034576840-14">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="3034576840-13">end</span><span class="w"> </span><span class="c1"># Runs this: &quot;Got: failed&quot;</span><span class="w">
</span><span class="p" data-group-id="3034576840-10">)</span></code></pre><p><strong>Use <code class="inline">fold_l</code> when:</strong></p><ul><li>You need to convert Either to a different type</li><li>You want functional case analysis without pattern matching</li><li>You're implementing higher-level combinators</li><li>You need to handle both success and error cases</li></ul><h3 id="folding-vs-pattern-matching" class="section-heading">
  <a href="#folding-vs-pattern-matching" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Folding vs Pattern Matching</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Imperative pattern matching</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">either_result</span><span class="w"> </span><span class="k" data-group-id="5017571764-1">do</span><span class="w">
  </span><span class="p" data-group-id="5017571764-2">%</span><span class="nc" data-group-id="5017571764-2">Right</span><span class="p" data-group-id="5017571764-2">{</span><span class="ss">right</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="5017571764-2">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Success: </span><span class="si" data-group-id="5017571764-3">#{</span><span class="n">value</span><span class="si" data-group-id="5017571764-3">}</span><span class="s">&quot;</span><span class="w">
  </span><span class="p" data-group-id="5017571764-4">%</span><span class="nc" data-group-id="5017571764-4">Left</span><span class="p" data-group-id="5017571764-4">{</span><span class="ss">left</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="5017571764-4">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Error: </span><span class="si" data-group-id="5017571764-5">#{</span><span class="n">error</span><span class="si" data-group-id="5017571764-5">}</span><span class="s">&quot;</span><span class="w">
</span><span class="k" data-group-id="5017571764-1">end</span><span class="w">

</span><span class="c1"># ✅ Functional folding</span><span class="w">
</span><span class="n">fold_l</span><span class="p" data-group-id="5017571764-6">(</span><span class="n">either_result</span><span class="p">,</span><span class="w">
  </span><span class="k" data-group-id="5017571764-7">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Success: </span><span class="si" data-group-id="5017571764-8">#{</span><span class="n">value</span><span class="si" data-group-id="5017571764-8">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="5017571764-7">end</span><span class="p">,</span><span class="w">
  </span><span class="k" data-group-id="5017571764-9">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Error: </span><span class="si" data-group-id="5017571764-10">#{</span><span class="n">error</span><span class="si" data-group-id="5017571764-10">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="5017571764-9">end</span><span class="w">
</span><span class="p" data-group-id="5017571764-6">)</span></code></pre><h3 id="advanced-folding-patterns" class="section-heading">
  <a href="#advanced-folding-patterns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Advanced Folding Patterns</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert Either to Result tuple</span><span class="w">
</span><span class="n">to_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="2134008036-1">fn</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="n">fold_l</span><span class="p" data-group-id="2134008036-2">(</span><span class="n">either</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="2134008036-3">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="2134008036-4">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="2134008036-4">}</span><span class="w"> </span><span class="k" data-group-id="2134008036-3">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="2134008036-5">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="2134008036-6">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="2134008036-6">}</span><span class="w"> </span><span class="k" data-group-id="2134008036-5">end</span><span class="w">
  </span><span class="p" data-group-id="2134008036-2">)</span><span class="w">
</span><span class="k" data-group-id="2134008036-1">end</span><span class="w">

</span><span class="c1"># Extract value with default</span><span class="w">
</span><span class="n">get_or_default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="2134008036-7">fn</span><span class="w"> </span><span class="n">either</span><span class="p">,</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="n">fold_l</span><span class="p" data-group-id="2134008036-8">(</span><span class="n">either</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="2134008036-9">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k" data-group-id="2134008036-9">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="2134008036-10">fn</span><span class="w"> </span><span class="c">_error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="k" data-group-id="2134008036-10">end</span><span class="w">
  </span><span class="p" data-group-id="2134008036-8">)</span><span class="w">
</span><span class="k" data-group-id="2134008036-7">end</span><span class="w">

</span><span class="c1"># Conditional processing based on Either state</span><span class="w">
</span><span class="n">process_conditionally</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="2134008036-11">fn</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="n">fold_l</span><span class="p" data-group-id="2134008036-12">(</span><span class="n">either</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="2134008036-13">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">expensive_success_operation</span><span class="p" data-group-id="2134008036-14">(</span><span class="n">value</span><span class="p" data-group-id="2134008036-14">)</span><span class="w"> </span><span class="k" data-group-id="2134008036-13">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="2134008036-15">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">log_error_and_return_default</span><span class="p" data-group-id="2134008036-16">(</span><span class="n">error</span><span class="p" data-group-id="2134008036-16">)</span><span class="w"> </span><span class="k" data-group-id="2134008036-15">end</span><span class="w">
  </span><span class="p" data-group-id="2134008036-12">)</span><span class="w">
</span><span class="k" data-group-id="2134008036-11">end</span></code></pre><p><strong>When pattern matching is still appropriate:</strong></p><pre><code class="makeup elixir" translate="no"><span class="c1"># Complex data destructuring that fold_l can&#39;t handle elegantly</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">either_result</span><span class="w"> </span><span class="k" data-group-id="0367521933-1">do</span><span class="w">
  </span><span class="p" data-group-id="0367521933-2">%</span><span class="nc" data-group-id="0367521933-2">Right</span><span class="p" data-group-id="0367521933-2">{</span><span class="ss">right</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="0367521933-3">%</span><span class="nc" data-group-id="0367521933-3">User</span><span class="p" data-group-id="0367521933-3">{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="ss">role</span><span class="p">:</span><span class="w"> </span><span class="ss">:admin</span><span class="p">,</span><span class="w"> </span><span class="ss">permissions</span><span class="p">:</span><span class="w"> </span><span class="n">perms</span><span class="p" data-group-id="0367521933-3">}</span><span class="p" data-group-id="0367521933-2">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
    </span><span class="n">handle_admin</span><span class="p" data-group-id="0367521933-4">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">perms</span><span class="p" data-group-id="0367521933-4">)</span><span class="w">
  </span><span class="p" data-group-id="0367521933-5">%</span><span class="nc" data-group-id="0367521933-5">Right</span><span class="p" data-group-id="0367521933-5">{</span><span class="ss">right</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="0367521933-6">%</span><span class="nc" data-group-id="0367521933-6">User</span><span class="p" data-group-id="0367521933-6">{</span><span class="ss">role</span><span class="p">:</span><span class="w"> </span><span class="ss">:user</span><span class="p" data-group-id="0367521933-6">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user</span><span class="p" data-group-id="0367521933-5">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
    </span><span class="n">handle_regular_user</span><span class="p" data-group-id="0367521933-7">(</span><span class="n">user</span><span class="p" data-group-id="0367521933-7">)</span><span class="w">
  </span><span class="p" data-group-id="0367521933-8">%</span><span class="nc" data-group-id="0367521933-8">Left</span><span class="p" data-group-id="0367521933-8">{</span><span class="ss">left</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="0367521933-9">%</span><span class="nc" data-group-id="0367521933-9">ValidationError</span><span class="p" data-group-id="0367521933-9">{</span><span class="ss">field</span><span class="p">:</span><span class="w"> </span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="ss">message</span><span class="p">:</span><span class="w"> </span><span class="n">msg</span><span class="p" data-group-id="0367521933-9">}</span><span class="p" data-group-id="0367521933-8">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
    </span><span class="n">handle_validation_error</span><span class="p" data-group-id="0367521933-10">(</span><span class="n">field</span><span class="p">,</span><span class="w"> </span><span class="n">msg</span><span class="p" data-group-id="0367521933-10">)</span><span class="w">
  </span><span class="p" data-group-id="0367521933-11">%</span><span class="nc" data-group-id="0367521933-11">Left</span><span class="p" data-group-id="0367521933-11">{</span><span class="ss">left</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="0367521933-11">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
    </span><span class="n">handle_generic_error</span><span class="p" data-group-id="0367521933-12">(</span><span class="n">error</span><span class="p" data-group-id="0367521933-12">)</span><span class="w">
</span><span class="k" data-group-id="0367521933-1">end</span></code></pre><h2 id="validation-patterns" class="section-heading">
  <a href="#validation-patterns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Validation Patterns</span>
</h2>
<h3 id="error-handling-fail-fast" class="section-heading">
  <a href="#error-handling-fail-fast" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Error-handling (Fail Fast)</span>
</h3>
<p>Use <code class="inline">bind/2</code> for operations that should stop on the first error:</p><pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">process_payment</span><span class="p" data-group-id="5849847656-1">(</span><span class="n">payment_data</span><span class="p" data-group-id="5849847656-1">)</span><span class="w"> </span><span class="k" data-group-id="5849847656-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5849847656-3">(</span><span class="n">payment_data</span><span class="p" data-group-id="5849847656-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5849847656-4">(</span><span class="o">&amp;</span><span class="n">validate_card_number</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5849847656-4">)</span><span class="w">     </span><span class="c1"># Stop if card invalid</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5849847656-5">(</span><span class="o">&amp;</span><span class="n">validate_expiry_date</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5849847656-5">)</span><span class="w">     </span><span class="c1"># Stop if expiry invalid  </span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5849847656-6">(</span><span class="o">&amp;</span><span class="n">validate_cvv</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5849847656-6">)</span><span class="w">             </span><span class="c1"># Stop if CVV invalid</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="5849847656-7">(</span><span class="o">&amp;</span><span class="n">charge_card</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="5849847656-7">)</span><span class="w">              </span><span class="c1"># Stop if charge fails</span><span class="w">
</span><span class="k" data-group-id="5849847656-2">end</span></code></pre><h3 id="validation-collect-all-errors" class="section-heading">
  <a href="#validation-collect-all-errors" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Validation (Collect All Errors)</span>
</h3>
<p>Use <code class="inline">traverse_a/2</code> to collect all validation errors:</p><pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">validate_user_registration</span><span class="p" data-group-id="1269969585-1">(</span><span class="n">data</span><span class="p" data-group-id="1269969585-1">)</span><span class="w"> </span><span class="k" data-group-id="1269969585-2">do</span><span class="w">
  </span><span class="n">fields</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1269969585-3">[</span><span class="n">data</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">email</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">password</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">age</span><span class="p" data-group-id="1269969585-3">]</span><span class="w">
  </span><span class="n">validators</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1269969585-4">[</span><span class="w">
    </span><span class="o">&amp;</span><span class="n">validate_name</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="o">&amp;</span><span class="n">validate_email</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> 
    </span><span class="o">&amp;</span><span class="n">validate_password</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="o">&amp;</span><span class="n">validate_age</span><span class="o">/</span><span class="mi">1</span><span class="w">
  </span><span class="p" data-group-id="1269969585-4">]</span><span class="w">
  
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="1269969585-5">(</span><span class="n">fields</span><span class="p">,</span><span class="w"> </span><span class="n">validators</span><span class="p" data-group-id="1269969585-5">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="1269969585-6">(</span><span class="w">
    </span><span class="k" data-group-id="1269969585-7">fn</span><span class="w"> </span><span class="p" data-group-id="1269969585-8">[</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p" data-group-id="1269969585-8">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
      </span><span class="p" data-group-id="1269969585-9">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1269969585-10">%</span><span class="nc" data-group-id="1269969585-10">User</span><span class="p" data-group-id="1269969585-10">{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="ss">email</span><span class="p">:</span><span class="w"> </span><span class="n">email</span><span class="p">,</span><span class="w"> </span><span class="ss">password</span><span class="p">:</span><span class="w"> </span><span class="n">password</span><span class="p">,</span><span class="w"> </span><span class="ss">age</span><span class="p">:</span><span class="w"> </span><span class="n">age</span><span class="p" data-group-id="1269969585-10">}</span><span class="p" data-group-id="1269969585-9">}</span><span class="w">
    </span><span class="k" data-group-id="1269969585-7">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="1269969585-11">fn</span><span class="w"> </span><span class="n">errors</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="1269969585-12">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="nc">List</span><span class="o">.</span><span class="n">flatten</span><span class="p" data-group-id="1269969585-13">(</span><span class="n">errors</span><span class="p" data-group-id="1269969585-13">)</span><span class="p" data-group-id="1269969585-12">}</span><span class="w"> </span><span class="k" data-group-id="1269969585-11">end</span><span class="w">
  </span><span class="p" data-group-id="1269969585-6">)</span><span class="w">
</span><span class="k" data-group-id="1269969585-2">end</span></code></pre><h2 id="refinement" class="section-heading">
  <a href="#refinement" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Refinement</span>
</h2>
<h3 id="right-1-and-left-1-type-checks" class="section-heading">
  <a href="#right-1-and-left-1-type-checks" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">right?/1</code> and <code class="inline">left?/1</code> - Type Checks</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">right?</span><span class="p" data-group-id="4417950819-1">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="4417950819-2">(</span><span class="mi">42</span><span class="p" data-group-id="4417950819-2">)</span><span class="p" data-group-id="4417950819-1">)</span><span class="w">      </span><span class="c1"># true</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right?</span><span class="p" data-group-id="4417950819-3">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="4417950819-4">(</span><span class="s">&quot;err&quot;</span><span class="p" data-group-id="4417950819-4">)</span><span class="p" data-group-id="4417950819-3">)</span><span class="w">    </span><span class="c1"># false</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">left?</span><span class="p" data-group-id="4417950819-5">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="4417950819-6">(</span><span class="s">&quot;err&quot;</span><span class="p" data-group-id="4417950819-6">)</span><span class="p" data-group-id="4417950819-5">)</span><span class="w">     </span><span class="c1"># true</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left?</span><span class="p" data-group-id="4417950819-7">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="4417950819-8">(</span><span class="mi">42</span><span class="p" data-group-id="4417950819-8">)</span><span class="p" data-group-id="4417950819-7">)</span><span class="w">       </span><span class="c1"># false</span></code></pre><h2 id="fallback-and-extraction" class="section-heading">
  <a href="#fallback-and-extraction" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Fallback and Extraction</span>
</h2>
<h3 id="get_or_else-2-extract-value-with-default" class="section-heading">
  <a href="#get_or_else-2-extract-value-with-default" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">get_or_else/2</code> - Extract Value with Default</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8824229448-1">(</span><span class="mi">42</span><span class="p" data-group-id="8824229448-1">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">get_or_else</span><span class="p" data-group-id="8824229448-2">(</span><span class="mi">0</span><span class="p" data-group-id="8824229448-2">)</span><span class="w">        </span><span class="c1"># 42</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8824229448-3">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="8824229448-3">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">get_or_else</span><span class="p" data-group-id="8824229448-4">(</span><span class="mi">0</span><span class="p" data-group-id="8824229448-4">)</span><span class="w">    </span><span class="c1"># 0</span></code></pre><h3 id="or_else-2-fallback-on-left" class="section-heading">
  <a href="#or_else-2-fallback-on-left" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">or_else/2</code> - Fallback on Left</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1229378302-1">(</span><span class="mi">42</span><span class="p" data-group-id="1229378302-1">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">or_else</span><span class="p" data-group-id="1229378302-2">(</span><span class="k" data-group-id="1229378302-3">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1229378302-4">(</span><span class="mi">0</span><span class="p" data-group-id="1229378302-4">)</span><span class="w"> </span><span class="k" data-group-id="1229378302-3">end</span><span class="p" data-group-id="1229378302-2">)</span><span class="w">     </span><span class="c1"># right(42)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="1229378302-5">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="1229378302-5">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">or_else</span><span class="p" data-group-id="1229378302-6">(</span><span class="k" data-group-id="1229378302-7">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1229378302-8">(</span><span class="mi">0</span><span class="p" data-group-id="1229378302-8">)</span><span class="w"> </span><span class="k" data-group-id="1229378302-7">end</span><span class="p" data-group-id="1229378302-6">)</span><span class="w"> </span><span class="c1"># right(0)</span></code></pre><h3 id="map_left-2-transform-left-values" class="section-heading">
  <a href="#map_left-2-transform-left-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">map_left/2</code> - Transform Left Values</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Transform error without affecting success</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="2978060152-1">(</span><span class="mi">42</span><span class="p" data-group-id="2978060152-1">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">map_left</span><span class="p" data-group-id="2978060152-2">(</span><span class="o">&amp;</span><span class="nc">String</span><span class="o">.</span><span class="n">upcase</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2978060152-2">)</span><span class="w">     </span><span class="c1"># right(42)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="2978060152-3">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="2978060152-3">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">map_left</span><span class="p" data-group-id="2978060152-4">(</span><span class="o">&amp;</span><span class="nc">String</span><span class="o">.</span><span class="n">upcase</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="2978060152-4">)</span><span class="w"> </span><span class="c1"># left(&quot;ERROR&quot;)</span></code></pre><h3 id="flip-1-swap-left-and-right" class="section-heading">
  <a href="#flip-1-swap-left-and-right" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">flip/1</code> - Swap Left and Right</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="nc">Either</span><span class="o">.</span><span class="n">flip</span><span class="p" data-group-id="6657444334-1">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6657444334-2">(</span><span class="mi">42</span><span class="p" data-group-id="6657444334-2">)</span><span class="p" data-group-id="6657444334-1">)</span><span class="w">           </span><span class="c1"># left(42)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">flip</span><span class="p" data-group-id="6657444334-3">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="6657444334-4">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="6657444334-4">)</span><span class="p" data-group-id="6657444334-3">)</span><span class="w">       </span><span class="c1"># right(&quot;error&quot;)</span></code></pre><h3 id="filter_or_else-3-conditional-left-conversion" class="section-heading">
  <a href="#filter_or_else-3-conditional-left-conversion" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text"><code class="inline">filter_or_else/3</code> - Conditional Left Conversion</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert Right to Left if predicate fails</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="0938749784-1">(</span><span class="mi">42</span><span class="p" data-group-id="0938749784-1">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">filter_or_else</span><span class="p" data-group-id="0938749784-2">(</span><span class="o">&amp;</span><span class="p" data-group-id="0938749784-3">(</span><span class="ni">&amp;1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">50</span><span class="p" data-group-id="0938749784-3">)</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;too small&quot;</span><span class="p" data-group-id="0938749784-2">)</span><span class="w">  </span><span class="c1"># left(&quot;too small&quot;)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="0938749784-4">(</span><span class="mi">100</span><span class="p" data-group-id="0938749784-4">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">filter_or_else</span><span class="p" data-group-id="0938749784-5">(</span><span class="o">&amp;</span><span class="p" data-group-id="0938749784-6">(</span><span class="ni">&amp;1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">50</span><span class="p" data-group-id="0938749784-6">)</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;too small&quot;</span><span class="p" data-group-id="0938749784-5">)</span><span class="w"> </span><span class="c1"># right(100)</span></code></pre><h3 id="combining-two-either-values-with-ap-2" class="section-heading">
  <a href="#combining-two-either-values-with-ap-2" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Combining Two Either Values with <code class="inline">ap/2</code></span>
</h3>
<p>Use the applicative pattern with <code class="inline">ap/2</code> to combine two Either values with a binary function:</p><pre><code class="makeup elixir" translate="no"><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">
</span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Foldable</span><span class="w">

</span><span class="c1"># Combine two Either values using ap</span><span class="w">
</span><span class="n">add_fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6090406506-1">(</span><span class="o">&amp;</span><span class="o">+</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="6090406506-1">)</span><span class="w">
</span><span class="n">ap</span><span class="p" data-group-id="6090406506-2">(</span><span class="n">add_fn</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6090406506-3">(</span><span class="mi">3</span><span class="p" data-group-id="6090406506-3">)</span><span class="p" data-group-id="6090406506-2">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="6090406506-4">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6090406506-5">(</span><span class="mi">4</span><span class="p" data-group-id="6090406506-5">)</span><span class="p" data-group-id="6090406506-4">)</span><span class="w">     </span><span class="c1"># right(7)</span><span class="w">
</span><span class="n">ap</span><span class="p" data-group-id="6090406506-6">(</span><span class="n">add_fn</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6090406506-7">(</span><span class="mi">3</span><span class="p" data-group-id="6090406506-7">)</span><span class="p" data-group-id="6090406506-6">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="6090406506-8">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="6090406506-9">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="6090406506-9">)</span><span class="p" data-group-id="6090406506-8">)</span><span class="w">   </span><span class="c1"># left(&quot;error&quot;)</span><span class="w">
</span><span class="n">ap</span><span class="p" data-group-id="6090406506-10">(</span><span class="n">add_fn</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="6090406506-11">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="6090406506-11">)</span><span class="p" data-group-id="6090406506-10">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="6090406506-12">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6090406506-13">(</span><span class="mi">4</span><span class="p" data-group-id="6090406506-13">)</span><span class="p" data-group-id="6090406506-12">)</span><span class="w">   </span><span class="c1"># left(&quot;error&quot;)</span><span class="w">

</span><span class="c1"># More concise with helper function</span><span class="w">
</span><span class="n">combine_either</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="6090406506-14">fn</span><span class="w"> </span><span class="n">ma</span><span class="p">,</span><span class="w"> </span><span class="n">mb</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6090406506-15">(</span><span class="n">f</span><span class="p" data-group-id="6090406506-15">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="6090406506-16">(</span><span class="n">ma</span><span class="p" data-group-id="6090406506-16">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">ap</span><span class="p" data-group-id="6090406506-17">(</span><span class="n">mb</span><span class="p" data-group-id="6090406506-17">)</span><span class="w">
</span><span class="k" data-group-id="6090406506-14">end</span><span class="w">

</span><span class="n">combine_either</span><span class="o">.</span><span class="p" data-group-id="6090406506-18">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6090406506-19">(</span><span class="mi">3</span><span class="p" data-group-id="6090406506-19">)</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6090406506-20">(</span><span class="mi">4</span><span class="p" data-group-id="6090406506-20">)</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="o">+</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="6090406506-18">)</span><span class="w">         </span><span class="c1"># right(7)</span><span class="w">
</span><span class="n">combine_either</span><span class="o">.</span><span class="p" data-group-id="6090406506-21">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6090406506-22">(</span><span class="mi">3</span><span class="p" data-group-id="6090406506-22">)</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="6090406506-23">(</span><span class="s">&quot;error&quot;</span><span class="p" data-group-id="6090406506-23">)</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="o">+</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="6090406506-21">)</span><span class="w">    </span><span class="c1"># left(&quot;error&quot;)</span><span class="w">

</span><span class="c1"># String concatenation</span><span class="w">
</span><span class="n">combine_either</span><span class="o">.</span><span class="p" data-group-id="6090406506-24">(</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6090406506-25">(</span><span class="s">&quot;Hello, &quot;</span><span class="p" data-group-id="6090406506-25">)</span><span class="p">,</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6090406506-26">(</span><span class="s">&quot;World!&quot;</span><span class="p" data-group-id="6090406506-26">)</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="o">&lt;&gt;</span><span class="o">/</span><span class="mi">2</span><span class="p" data-group-id="6090406506-24">)</span><span class="w">  </span><span class="c1"># right(&quot;Hello, World!&quot;)</span><span class="w">

</span><span class="c1"># Validation combining</span><span class="w">
</span><span class="n">combine_either</span><span class="o">.</span><span class="p" data-group-id="6090406506-27">(</span><span class="w">
  </span><span class="n">validate_name</span><span class="p" data-group-id="6090406506-28">(</span><span class="s">&quot;Alice&quot;</span><span class="p" data-group-id="6090406506-28">)</span><span class="p">,</span><span class="w">
  </span><span class="n">validate_age</span><span class="p" data-group-id="6090406506-29">(</span><span class="mi">30</span><span class="p" data-group-id="6090406506-29">)</span><span class="p">,</span><span class="w">
  </span><span class="k" data-group-id="6090406506-30">fn</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="6090406506-31">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="ss">age</span><span class="p">:</span><span class="w"> </span><span class="n">age</span><span class="p" data-group-id="6090406506-31">}</span><span class="w"> </span><span class="k" data-group-id="6090406506-30">end</span><span class="w">
</span><span class="p" data-group-id="6090406506-27">)</span><span class="w">  </span><span class="c1"># right(%{name: &quot;Alice&quot;, age: 30}) or left(error)</span></code></pre><p><strong>Use this pattern when:</strong></p><ul><li>You need to combine exactly two Either values with a binary function</li><li>You want applicative-style combination that fails fast on first Left</li><li>You're implementing patterns similar to liftA2 from other functional languages</li></ul><h2 id="common-patterns" class="section-heading">
  <a href="#common-patterns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Common Patterns</span>
</h2>
<h3 id="api-response-handling" class="section-heading">
  <a href="#api-response-handling" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">API Response Handling</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">fetch_user_profile</span><span class="p" data-group-id="6191603554-1">(</span><span class="n">user_id</span><span class="p" data-group-id="6191603554-1">)</span><span class="w"> </span><span class="k" data-group-id="6191603554-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6191603554-3">(</span><span class="n">user_id</span><span class="p" data-group-id="6191603554-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="6191603554-4">(</span><span class="o">&amp;</span><span class="n">validate_user_id</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="6191603554-4">)</span><span class="w">        </span><span class="c1"># Validate ID format</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="6191603554-5">(</span><span class="o">&amp;</span><span class="n">fetch_from_database</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="6191603554-5">)</span><span class="w">     </span><span class="c1"># Database lookup</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="6191603554-6">(</span><span class="o">&amp;</span><span class="n">check_permissions</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="6191603554-6">)</span><span class="w">       </span><span class="c1"># Authorization check</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="6191603554-7">(</span><span class="o">&amp;</span><span class="n">format_profile</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="6191603554-7">)</span><span class="w">          </span><span class="c1"># Format response</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="6191603554-8">(</span><span class="w">
    </span><span class="k" data-group-id="6191603554-9">fn</span><span class="w"> </span><span class="n">profile</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="6191603554-10">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">profile</span><span class="p" data-group-id="6191603554-10">}</span><span class="w"> </span><span class="k" data-group-id="6191603554-9">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="6191603554-11">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p" data-group-id="6191603554-12">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="6191603554-12">}</span><span class="w"> </span><span class="k" data-group-id="6191603554-11">end</span><span class="w">
  </span><span class="p" data-group-id="6191603554-8">)</span><span class="w">
</span><span class="k" data-group-id="6191603554-2">end</span></code></pre><h3 id="form-validation-with-comprehensive-error-collection" class="section-heading">
  <a href="#form-validation-with-comprehensive-error-collection" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Form Validation with Comprehensive Error Collection</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Create individual field validators that work on the whole form</span><span class="w">
</span><span class="n">validate_name_field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="1781508523-1">fn</span><span class="w"> </span><span class="n">form_data</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="nc">String</span><span class="o">.</span><span class="n">length</span><span class="p" data-group-id="1781508523-2">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">name</span><span class="p" data-group-id="1781508523-2">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="1781508523-3">do</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1781508523-4">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">name</span><span class="p" data-group-id="1781508523-4">)</span><span class="w">
  </span><span class="k" data-group-id="1781508523-3">else</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="1781508523-5">(</span><span class="p" data-group-id="1781508523-6">[</span><span class="s">&quot;Name is required&quot;</span><span class="p" data-group-id="1781508523-6">]</span><span class="p" data-group-id="1781508523-5">)</span><span class="w">
  </span><span class="k" data-group-id="1781508523-3">end</span><span class="w">
</span><span class="k" data-group-id="1781508523-1">end</span><span class="w">

</span><span class="n">validate_email_field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="1781508523-7">fn</span><span class="w"> </span><span class="n">form_data</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="nc">String</span><span class="o">.</span><span class="n">contains?</span><span class="p" data-group-id="1781508523-8">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">email</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;@&quot;</span><span class="p" data-group-id="1781508523-8">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">String</span><span class="o">.</span><span class="n">length</span><span class="p" data-group-id="1781508523-9">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">email</span><span class="p" data-group-id="1781508523-9">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="k" data-group-id="1781508523-10">do</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1781508523-11">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">email</span><span class="p" data-group-id="1781508523-11">)</span><span class="w">
  </span><span class="k" data-group-id="1781508523-10">else</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="1781508523-12">(</span><span class="p" data-group-id="1781508523-13">[</span><span class="s">&quot;Email must be valid&quot;</span><span class="p" data-group-id="1781508523-13">]</span><span class="p" data-group-id="1781508523-12">)</span><span class="w">
  </span><span class="k" data-group-id="1781508523-10">end</span><span class="w">
</span><span class="k" data-group-id="1781508523-7">end</span><span class="w">

</span><span class="n">validate_password_field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="1781508523-14">fn</span><span class="w"> </span><span class="n">form_data</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="nc">String</span><span class="o">.</span><span class="n">length</span><span class="p" data-group-id="1781508523-15">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">password</span><span class="p" data-group-id="1781508523-15">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k" data-group-id="1781508523-16">do</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1781508523-17">(</span><span class="n">form_data</span><span class="o">.</span><span class="n">password</span><span class="p" data-group-id="1781508523-17">)</span><span class="w">
  </span><span class="k" data-group-id="1781508523-16">else</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="1781508523-18">(</span><span class="p" data-group-id="1781508523-19">[</span><span class="s">&quot;Password must be at least 8 characters&quot;</span><span class="p" data-group-id="1781508523-19">]</span><span class="p" data-group-id="1781508523-18">)</span><span class="w">
  </span><span class="k" data-group-id="1781508523-16">end</span><span class="w">
</span><span class="k" data-group-id="1781508523-14">end</span><span class="w">

</span><span class="c1"># Validate the entire form - collects ALL validation errors</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">validate_registration_form</span><span class="p" data-group-id="1781508523-20">(</span><span class="n">form_data</span><span class="p" data-group-id="1781508523-20">)</span><span class="w"> </span><span class="k" data-group-id="1781508523-21">do</span><span class="w">
  </span><span class="n">validators</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1781508523-22">[</span><span class="w">
    </span><span class="n">validate_name_field</span><span class="p">,</span><span class="w">
    </span><span class="n">validate_email_field</span><span class="p">,</span><span class="w">
    </span><span class="n">validate_password_field</span><span class="w">
  </span><span class="p" data-group-id="1781508523-22">]</span><span class="w">
  
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="1781508523-23">(</span><span class="n">form_data</span><span class="p">,</span><span class="w"> </span><span class="n">validators</span><span class="p" data-group-id="1781508523-23">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="1781508523-24">(</span><span class="w">
    </span><span class="k" data-group-id="1781508523-25">fn</span><span class="w"> </span><span class="n">validated_form</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
      </span><span class="p" data-group-id="1781508523-26">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1781508523-27">%{</span><span class="w">
        </span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="n">validated_form</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="w">
        </span><span class="ss">email</span><span class="p">:</span><span class="w"> </span><span class="n">validated_form</span><span class="o">.</span><span class="n">email</span><span class="p">,</span><span class="w">
        </span><span class="ss">password</span><span class="p">:</span><span class="w"> </span><span class="n">validated_form</span><span class="o">.</span><span class="n">password</span><span class="w">
      </span><span class="p" data-group-id="1781508523-27">}</span><span class="p" data-group-id="1781508523-26">}</span><span class="w">
    </span><span class="k" data-group-id="1781508523-25">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="1781508523-28">fn</span><span class="w"> </span><span class="n">all_errors</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> 
      </span><span class="p" data-group-id="1781508523-29">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Registration failed: </span><span class="si" data-group-id="1781508523-30">#{</span><span class="nc">Enum</span><span class="o">.</span><span class="n">join</span><span class="p" data-group-id="1781508523-31">(</span><span class="nc">List</span><span class="o">.</span><span class="n">flatten</span><span class="p" data-group-id="1781508523-32">(</span><span class="n">all_errors</span><span class="p" data-group-id="1781508523-32">)</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="p" data-group-id="1781508523-31">)</span><span class="si" data-group-id="1781508523-30">}</span><span class="s">&quot;</span><span class="p" data-group-id="1781508523-29">}</span><span class="w">
    </span><span class="k" data-group-id="1781508523-28">end</span><span class="w">
  </span><span class="p" data-group-id="1781508523-24">)</span><span class="w">
</span><span class="k" data-group-id="1781508523-21">end</span><span class="w">

</span><span class="c1"># Example usage</span><span class="w">
</span><span class="n">form_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1781508523-33">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">email</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;invalid&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;123&quot;</span><span class="p" data-group-id="1781508523-33">}</span><span class="w">

</span><span class="n">validate_registration_form</span><span class="p" data-group-id="1781508523-34">(</span><span class="n">form_data</span><span class="p" data-group-id="1781508523-34">)</span><span class="w">
</span><span class="c1"># {:error, &quot;Registration failed: Name is required, Email must be valid, Password must be at least 8 characters&quot;}</span><span class="w">

</span><span class="n">valid_form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1781508523-35">%{</span><span class="ss">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">email</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;alice@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;securepass123&quot;</span><span class="p" data-group-id="1781508523-35">}</span><span class="w">
</span><span class="n">validate_registration_form</span><span class="p" data-group-id="1781508523-36">(</span><span class="n">valid_form</span><span class="p" data-group-id="1781508523-36">)</span><span class="w">
</span><span class="c1"># {:ok, %{name: &quot;Alice&quot;, email: &quot;alice@example.com&quot;, password: &quot;securepass123&quot;}}</span></code></pre><h3 id="configuration-loading" class="section-heading">
  <a href="#configuration-loading" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Configuration Loading</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">load_config</span><span class="p" data-group-id="8162793292-1">(</span><span class="n">config_path</span><span class="p" data-group-id="8162793292-1">)</span><span class="w"> </span><span class="k" data-group-id="8162793292-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8162793292-3">(</span><span class="n">config_path</span><span class="p" data-group-id="8162793292-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8162793292-4">(</span><span class="o">&amp;</span><span class="n">read_config_file</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8162793292-4">)</span><span class="w">         </span><span class="c1"># File -&gt; Either Error String</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8162793292-5">(</span><span class="o">&amp;</span><span class="n">parse_json</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8162793292-5">)</span><span class="w">               </span><span class="c1"># String -&gt; Either Error Map</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8162793292-6">(</span><span class="o">&amp;</span><span class="n">validate_schema</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8162793292-6">)</span><span class="w">          </span><span class="c1"># Map -&gt; Either Error ValidConfig</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8162793292-7">(</span><span class="o">&amp;</span><span class="n">apply_defaults</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8162793292-7">)</span><span class="w">           </span><span class="c1"># ValidConfig -&gt; Either Error FinalConfig</span><span class="w">
</span><span class="k" data-group-id="8162793292-2">end</span><span class="w">

</span><span class="kd">defp</span><span class="w"> </span><span class="nf">read_config_file</span><span class="p" data-group-id="8162793292-8">(</span><span class="n">path</span><span class="p" data-group-id="8162793292-8">)</span><span class="w"> </span><span class="k" data-group-id="8162793292-9">do</span><span class="w">
  </span><span class="nc">File</span><span class="o">.</span><span class="n">read</span><span class="p" data-group-id="8162793292-10">(</span><span class="n">path</span><span class="p" data-group-id="8162793292-10">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">from_result</span><span class="p" data-group-id="8162793292-11">(</span><span class="p" data-group-id="8162793292-11">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">map_left</span><span class="p" data-group-id="8162793292-12">(</span><span class="k" data-group-id="8162793292-13">fn</span><span class="w"> </span><span class="n">reason</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Failed to read </span><span class="si" data-group-id="8162793292-14">#{</span><span class="n">path</span><span class="si" data-group-id="8162793292-14">}</span><span class="s">: </span><span class="si" data-group-id="8162793292-15">#{</span><span class="n">reason</span><span class="si" data-group-id="8162793292-15">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="8162793292-13">end</span><span class="p" data-group-id="8162793292-12">)</span><span class="w">
</span><span class="k" data-group-id="8162793292-9">end</span><span class="w">

</span><span class="kd">defp</span><span class="w"> </span><span class="nf">parse_json</span><span class="p" data-group-id="8162793292-16">(</span><span class="n">content</span><span class="p" data-group-id="8162793292-16">)</span><span class="w"> </span><span class="k" data-group-id="8162793292-17">do</span><span class="w">
  </span><span class="nc">Jason</span><span class="o">.</span><span class="n">decode</span><span class="p" data-group-id="8162793292-18">(</span><span class="n">content</span><span class="p" data-group-id="8162793292-18">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">from_result</span><span class="p" data-group-id="8162793292-19">(</span><span class="p" data-group-id="8162793292-19">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">map_left</span><span class="p" data-group-id="8162793292-20">(</span><span class="k" data-group-id="8162793292-21">fn</span><span class="w"> </span><span class="p" data-group-id="8162793292-22">%</span><span class="nc" data-group-id="8162793292-22">Jason.DecodeError</span><span class="p" data-group-id="8162793292-22">{</span><span class="ss">data</span><span class="p">:</span><span class="w"> </span><span class="n">data</span><span class="p" data-group-id="8162793292-22">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Invalid JSON: </span><span class="si" data-group-id="8162793292-23">#{</span><span class="n">data</span><span class="si" data-group-id="8162793292-23">}</span><span class="s">&quot;</span><span class="w"> </span><span class="k" data-group-id="8162793292-21">end</span><span class="p" data-group-id="8162793292-20">)</span><span class="w">
</span><span class="k" data-group-id="8162793292-17">end</span></code></pre><h2 id="integration-with-other-modules" class="section-heading">
  <a href="#integration-with-other-modules" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Integration with Other Modules</span>
</h2>
<h3 id="with-funx-utils" class="section-heading">
  <a href="#with-funx-utils" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">With Funx.Utils</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Curry validation functions</span><span class="w">
</span><span class="n">validate_range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Utils</span><span class="o">.</span><span class="n">curry</span><span class="p" data-group-id="1646811537-1">(</span><span class="k" data-group-id="1646811537-2">fn</span><span class="w"> </span><span class="n">min</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="k">cond</span><span class="w"> </span><span class="k" data-group-id="1646811537-3">do</span><span class="w">
    </span><span class="n">value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">min</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="1646811537-4">(</span><span class="s">&quot;Value </span><span class="si" data-group-id="1646811537-5">#{</span><span class="n">value</span><span class="si" data-group-id="1646811537-5">}</span><span class="s"> below minimum </span><span class="si" data-group-id="1646811537-6">#{</span><span class="n">min</span><span class="si" data-group-id="1646811537-6">}</span><span class="s">&quot;</span><span class="p" data-group-id="1646811537-4">)</span><span class="w">
    </span><span class="n">value</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">max</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="1646811537-7">(</span><span class="s">&quot;Value </span><span class="si" data-group-id="1646811537-8">#{</span><span class="n">value</span><span class="si" data-group-id="1646811537-8">}</span><span class="s"> above maximum </span><span class="si" data-group-id="1646811537-9">#{</span><span class="n">max</span><span class="si" data-group-id="1646811537-9">}</span><span class="s">&quot;</span><span class="p" data-group-id="1646811537-7">)</span><span class="w">  
    </span><span class="no">true</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1646811537-10">(</span><span class="n">value</span><span class="p" data-group-id="1646811537-10">)</span><span class="w">
  </span><span class="k" data-group-id="1646811537-3">end</span><span class="w">
</span><span class="k" data-group-id="1646811537-2">end</span><span class="p" data-group-id="1646811537-1">)</span><span class="w">

</span><span class="n">validate_age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">validate_range</span><span class="o">.</span><span class="p" data-group-id="1646811537-11">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">150</span><span class="p" data-group-id="1646811537-11">)</span><span class="w">
</span><span class="n">validate_percentage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">validate_range</span><span class="o">.</span><span class="p" data-group-id="1646811537-12">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p" data-group-id="1646811537-12">)</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1646811537-13">(</span><span class="mi">25</span><span class="p" data-group-id="1646811537-13">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="1646811537-14">(</span><span class="n">validate_age</span><span class="p" data-group-id="1646811537-14">)</span><span class="w">        </span><span class="c1"># right(25)</span><span class="w">
</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1646811537-15">(</span><span class="o">-</span><span class="mi">5</span><span class="p" data-group-id="1646811537-15">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="1646811537-16">(</span><span class="n">validate_age</span><span class="p" data-group-id="1646811537-16">)</span><span class="w">        </span><span class="c1"># left(&quot;Value -5 below minimum 0&quot;)</span></code></pre><h3 id="conversion-from-maybe" class="section-heading">
  <a href="#conversion-from-maybe" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Conversion from Maybe</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert Maybe to Either with error context</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">maybe_to_either</span><span class="p" data-group-id="1046685740-1">(</span><span class="n">maybe_value</span><span class="p">,</span><span class="w"> </span><span class="n">error_message</span><span class="p" data-group-id="1046685740-1">)</span><span class="w"> </span><span class="k" data-group-id="1046685740-2">do</span><span class="w">
  </span><span class="nc">Maybe</span><span class="o">.</span><span class="n">fold_l</span><span class="p" data-group-id="1046685740-3">(</span><span class="n">maybe_value</span><span class="p">,</span><span class="w"> 
    </span><span class="k" data-group-id="1046685740-4">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1046685740-5">(</span><span class="n">value</span><span class="p" data-group-id="1046685740-5">)</span><span class="w"> </span><span class="k" data-group-id="1046685740-4">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="1046685740-6">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="1046685740-7">(</span><span class="n">error_message</span><span class="p" data-group-id="1046685740-7">)</span><span class="w"> </span><span class="k" data-group-id="1046685740-6">end</span><span class="w">
  </span><span class="p" data-group-id="1046685740-3">)</span><span class="w">
</span><span class="k" data-group-id="1046685740-2">end</span><span class="w">

</span><span class="c1"># Usage in pipeline</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">find_and_validate_user</span><span class="p" data-group-id="1046685740-8">(</span><span class="n">user_id</span><span class="p" data-group-id="1046685740-8">)</span><span class="w"> </span><span class="k" data-group-id="1046685740-9">do</span><span class="w">
  </span><span class="n">user_id</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">find_user</span><span class="p" data-group-id="1046685740-10">(</span><span class="p" data-group-id="1046685740-10">)</span><span class="w">                    </span><span class="c1"># Returns Maybe User</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">maybe_to_either</span><span class="p" data-group-id="1046685740-11">(</span><span class="s">&quot;User not found&quot;</span><span class="p" data-group-id="1046685740-11">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="1046685740-12">(</span><span class="o">&amp;</span><span class="n">validate_user_active</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="1046685740-12">)</span><span class="w">  </span><span class="c1"># Continue with Either validation</span><span class="w">
</span><span class="k" data-group-id="1046685740-9">end</span></code></pre><h3 id="with-predicate-logic" class="section-heading">
  <a href="#with-predicate-logic" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">With Predicate Logic</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Convert predicates to Either validators</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">predicate_to_either</span><span class="p" data-group-id="8854084487-1">(</span><span class="n">predicate</span><span class="p">,</span><span class="w"> </span><span class="n">error_message</span><span class="p" data-group-id="8854084487-1">)</span><span class="w"> </span><span class="k" data-group-id="8854084487-2">do</span><span class="w">
  </span><span class="k" data-group-id="8854084487-3">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="n">predicate</span><span class="o">.</span><span class="p" data-group-id="8854084487-4">(</span><span class="n">value</span><span class="p" data-group-id="8854084487-4">)</span><span class="w"> </span><span class="k" data-group-id="8854084487-5">do</span><span class="w">
      </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8854084487-6">(</span><span class="n">value</span><span class="p" data-group-id="8854084487-6">)</span><span class="w">
    </span><span class="k" data-group-id="8854084487-5">else</span><span class="w">
      </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8854084487-7">(</span><span class="n">error_message</span><span class="p" data-group-id="8854084487-7">)</span><span class="w">
    </span><span class="k" data-group-id="8854084487-5">end</span><span class="w">
  </span><span class="k" data-group-id="8854084487-3">end</span><span class="w">
</span><span class="k" data-group-id="8854084487-2">end</span><span class="w">

</span><span class="c1"># Use with validation</span><span class="w">
</span><span class="n">is_adult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="8854084487-8">fn</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">user</span><span class="o">.</span><span class="n">age</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="k" data-group-id="8854084487-8">end</span><span class="w">
</span><span class="n">validate_adult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">predicate_to_either</span><span class="p" data-group-id="8854084487-9">(</span><span class="n">is_adult</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Must be 18 or older&quot;</span><span class="p" data-group-id="8854084487-9">)</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8854084487-10">(</span><span class="p" data-group-id="8854084487-11">%{</span><span class="ss">age</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p" data-group-id="8854084487-11">}</span><span class="p" data-group-id="8854084487-10">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8854084487-12">(</span><span class="n">validate_adult</span><span class="p" data-group-id="8854084487-12">)</span><span class="w">             </span><span class="c1"># right(%{age: 25})</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8854084487-13">(</span><span class="p" data-group-id="8854084487-14">%{</span><span class="ss">age</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p" data-group-id="8854084487-14">}</span><span class="p" data-group-id="8854084487-13">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8854084487-15">(</span><span class="n">validate_adult</span><span class="p" data-group-id="8854084487-15">)</span><span class="w">             </span><span class="c1"># left(&quot;Must be 18 or older&quot;)</span></code></pre><h2 id="advanced-patterns" class="section-heading">
  <a href="#advanced-patterns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Advanced Patterns</span>
</h2>
<h3 id="error-recovery" class="section-heading">
  <a href="#error-recovery" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Error Recovery</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">process_with_fallback</span><span class="p" data-group-id="1596441375-1">(</span><span class="n">data</span><span class="p" data-group-id="1596441375-1">)</span><span class="w"> </span><span class="k" data-group-id="1596441375-2">do</span><span class="w">
  </span><span class="n">data</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">process_primary_method</span><span class="p" data-group-id="1596441375-3">(</span><span class="p" data-group-id="1596441375-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="1596441375-4">(</span><span class="w">
    </span><span class="k" data-group-id="1596441375-5">fn</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1596441375-6">(</span><span class="n">result</span><span class="p" data-group-id="1596441375-6">)</span><span class="w"> </span><span class="k" data-group-id="1596441375-5">end</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="1596441375-7">fn</span><span class="w"> </span><span class="c">_error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">process_fallback_method</span><span class="p" data-group-id="1596441375-8">(</span><span class="p" data-group-id="1596441375-8">)</span><span class="w"> </span><span class="k" data-group-id="1596441375-7">end</span><span class="w">
  </span><span class="p" data-group-id="1596441375-4">)</span><span class="w">
</span><span class="k" data-group-id="1596441375-2">end</span><span class="w">

</span><span class="c1"># Or using a helper function</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">either_or_else</span><span class="p" data-group-id="1596441375-9">(</span><span class="n">either_result</span><span class="p">,</span><span class="w"> </span><span class="n">fallback_fn</span><span class="p" data-group-id="1596441375-9">)</span><span class="w"> </span><span class="k" data-group-id="1596441375-10">do</span><span class="w">
  </span><span class="n">fold_l</span><span class="p" data-group-id="1596441375-11">(</span><span class="n">either_result</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k" data-group-id="1596441375-12">fn</span><span class="w"> </span><span class="c">_error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">fallback_fn</span><span class="o">.</span><span class="p" data-group-id="1596441375-13">(</span><span class="p" data-group-id="1596441375-13">)</span><span class="w"> </span><span class="k" data-group-id="1596441375-12">end</span><span class="p" data-group-id="1596441375-11">)</span><span class="w">
</span><span class="k" data-group-id="1596441375-10">end</span><span class="w">

</span><span class="n">data</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">process_primary_method</span><span class="p" data-group-id="1596441375-14">(</span><span class="p" data-group-id="1596441375-14">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">either_or_else</span><span class="p" data-group-id="1596441375-15">(</span><span class="k" data-group-id="1596441375-16">fn</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">process_fallback_method</span><span class="p" data-group-id="1596441375-17">(</span><span class="n">data</span><span class="p" data-group-id="1596441375-17">)</span><span class="w"> </span><span class="k" data-group-id="1596441375-16">end</span><span class="p" data-group-id="1596441375-15">)</span></code></pre><h3 id="error-mapping" class="section-heading">
  <a href="#error-mapping" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Error Mapping</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="kd">def</span><span class="w"> </span><span class="nf">map_error</span><span class="p" data-group-id="8006477321-1">(</span><span class="n">either_value</span><span class="p">,</span><span class="w"> </span><span class="n">error_mapper</span><span class="p" data-group-id="8006477321-1">)</span><span class="w"> </span><span class="k" data-group-id="8006477321-2">do</span><span class="w">
  </span><span class="n">fold_l</span><span class="p" data-group-id="8006477321-3">(</span><span class="n">either_value</span><span class="p">,</span><span class="w"> 
    </span><span class="o">&amp;</span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="k" data-group-id="8006477321-4">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8006477321-5">(</span><span class="n">error_mapper</span><span class="o">.</span><span class="p" data-group-id="8006477321-6">(</span><span class="n">error</span><span class="p" data-group-id="8006477321-6">)</span><span class="p" data-group-id="8006477321-5">)</span><span class="w"> </span><span class="k" data-group-id="8006477321-4">end</span><span class="w">
  </span><span class="p" data-group-id="8006477321-3">)</span><span class="w">
</span><span class="k" data-group-id="8006477321-2">end</span><span class="w">

</span><span class="c1"># Usage: Convert database errors to user-friendly messages</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">friendly_database_error</span><span class="p" data-group-id="8006477321-7">(</span><span class="n">db_error</span><span class="p" data-group-id="8006477321-7">)</span><span class="w"> </span><span class="k" data-group-id="8006477321-8">do</span><span class="w">
  </span><span class="k">case</span><span class="w"> </span><span class="n">db_error</span><span class="w"> </span><span class="k" data-group-id="8006477321-9">do</span><span class="w">
    </span><span class="p" data-group-id="8006477321-10">{</span><span class="ss">:constraint</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p" data-group-id="8006477321-10">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Data validation failed&quot;</span><span class="w">
    </span><span class="p" data-group-id="8006477321-11">{</span><span class="ss">:connection</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p" data-group-id="8006477321-11">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Database temporarily unavailable&quot;</span><span class="w">
    </span><span class="bp">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;An unexpected error occurred&quot;</span><span class="w">
  </span><span class="k" data-group-id="8006477321-9">end</span><span class="w">
</span><span class="k" data-group-id="8006477321-8">end</span><span class="w">

</span><span class="n">database_operation</span><span class="p" data-group-id="8006477321-12">(</span><span class="p" data-group-id="8006477321-12">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map_error</span><span class="p" data-group-id="8006477321-13">(</span><span class="o">&amp;</span><span class="n">friendly_database_error</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8006477321-13">)</span></code></pre><h2 id="testing-strategies" class="section-heading">
  <a href="#testing-strategies" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Testing Strategies</span>
</h2>
<h3 id="unit-testing-validation-logic" class="section-heading">
  <a href="#unit-testing-validation-logic" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Unit Testing Validation Logic</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="kd">defmodule</span><span class="w"> </span><span class="nc">ValidationTest</span><span class="w"> </span><span class="k" data-group-id="1639907460-1">do</span><span class="w">
  </span><span class="kn">use</span><span class="w"> </span><span class="nc">ExUnit.Case</span><span class="w">
  </span><span class="kn">import</span><span class="w"> </span><span class="nc">Funx.Monad</span><span class="w">

  </span><span class="n">test</span><span class="w"> </span><span class="s">&quot;email validation with detailed errors&quot;</span><span class="w"> </span><span class="k" data-group-id="1639907460-2">do</span><span class="w">
    </span><span class="c1"># Valid email</span><span class="w">
    </span><span class="n">assert</span><span class="w"> </span><span class="n">validate_email</span><span class="p" data-group-id="1639907460-3">(</span><span class="s">&quot;user@example.com&quot;</span><span class="p" data-group-id="1639907460-3">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1639907460-4">(</span><span class="s">&quot;user@example.com&quot;</span><span class="p" data-group-id="1639907460-4">)</span><span class="w">
    
    </span><span class="c1"># Invalid formats</span><span class="w">
    </span><span class="n">assert</span><span class="w"> </span><span class="n">validate_email</span><span class="p" data-group-id="1639907460-5">(</span><span class="s">&quot;&quot;</span><span class="p" data-group-id="1639907460-5">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="1639907460-6">(</span><span class="s">&quot;Email cannot be empty&quot;</span><span class="p" data-group-id="1639907460-6">)</span><span class="w">
    </span><span class="n">assert</span><span class="w"> </span><span class="n">validate_email</span><span class="p" data-group-id="1639907460-7">(</span><span class="s">&quot;invalid&quot;</span><span class="p" data-group-id="1639907460-7">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="1639907460-8">(</span><span class="s">&quot;Email must contain @&quot;</span><span class="p" data-group-id="1639907460-8">)</span><span class="w">
    </span><span class="n">assert</span><span class="w"> </span><span class="n">validate_email</span><span class="p" data-group-id="1639907460-9">(</span><span class="s">&quot;user@&quot;</span><span class="p" data-group-id="1639907460-9">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="1639907460-10">(</span><span class="s">&quot;Invalid domain&quot;</span><span class="p" data-group-id="1639907460-10">)</span><span class="w">
  </span><span class="k" data-group-id="1639907460-2">end</span><span class="w">

  </span><span class="n">test</span><span class="w"> </span><span class="s">&quot;chaining validations with bind&quot;</span><span class="w"> </span><span class="k" data-group-id="1639907460-11">do</span><span class="w">
    </span><span class="c1"># Successful chain</span><span class="w">
    </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1639907460-12">(</span><span class="s">&quot;123&quot;</span><span class="p" data-group-id="1639907460-12">)</span><span class="w">
    </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="1639907460-13">(</span><span class="o">&amp;</span><span class="n">parse_integer</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="1639907460-13">)</span><span class="w">
    </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="1639907460-14">(</span><span class="o">&amp;</span><span class="n">validate_positive</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="1639907460-14">)</span><span class="w">
    
    </span><span class="n">assert</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1639907460-15">(</span><span class="mi">123</span><span class="p" data-group-id="1639907460-15">)</span><span class="w">
    
    </span><span class="c1"># Chain breaks on first error</span><span class="w">
    </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1639907460-16">(</span><span class="s">&quot;invalid&quot;</span><span class="p" data-group-id="1639907460-16">)</span><span class="w">
    </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="1639907460-17">(</span><span class="o">&amp;</span><span class="n">parse_integer</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="1639907460-17">)</span><span class="w">        </span><span class="c1"># Fails here</span><span class="w">
    </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="1639907460-18">(</span><span class="o">&amp;</span><span class="n">validate_positive</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="1639907460-18">)</span><span class="w">    </span><span class="c1"># Never runs</span><span class="w">
    
    </span><span class="n">assert</span><span class="w"> </span><span class="p" data-group-id="1639907460-19">{</span><span class="ss">:left</span><span class="p">,</span><span class="w"> </span><span class="c">_error</span><span class="p" data-group-id="1639907460-19">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="w">
  </span><span class="k" data-group-id="1639907460-11">end</span><span class="w">

  </span><span class="n">test</span><span class="w"> </span><span class="s">&quot;collecting validation errors with traverse_a&quot;</span><span class="w"> </span><span class="k" data-group-id="1639907460-20">do</span><span class="w">
    </span><span class="n">invalid_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1639907460-21">[</span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;not-email&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;invalid-age&quot;</span><span class="p" data-group-id="1639907460-21">]</span><span class="w">
    </span><span class="n">validators</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1639907460-22">[</span><span class="o">&amp;</span><span class="n">validate_name</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_email</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_age</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="1639907460-22">]</span><span class="w">
    
    </span><span class="k">case</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="1639907460-23">(</span><span class="n">invalid_data</span><span class="p">,</span><span class="w"> </span><span class="n">validators</span><span class="p" data-group-id="1639907460-23">)</span><span class="w"> </span><span class="k" data-group-id="1639907460-24">do</span><span class="w">
      </span><span class="p" data-group-id="1639907460-25">{</span><span class="ss">:left</span><span class="p">,</span><span class="w"> </span><span class="n">errors</span><span class="p" data-group-id="1639907460-25">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
        </span><span class="n">assert</span><span class="w"> </span><span class="n">length</span><span class="p" data-group-id="1639907460-26">(</span><span class="n">errors</span><span class="p" data-group-id="1639907460-26">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="c1"># All three validations failed</span><span class="w">
        </span><span class="n">assert</span><span class="w"> </span><span class="s">&quot;Name cannot be empty&quot;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">errors</span><span class="w">
      </span><span class="p" data-group-id="1639907460-27">{</span><span class="ss">:right</span><span class="p">,</span><span class="w"> </span><span class="bp">_</span><span class="p" data-group-id="1639907460-27">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
        </span><span class="n">flunk</span><span class="p" data-group-id="1639907460-28">(</span><span class="s">&quot;Expected validation errors&quot;</span><span class="p" data-group-id="1639907460-28">)</span><span class="w">
    </span><span class="k" data-group-id="1639907460-24">end</span><span class="w">
  </span><span class="k" data-group-id="1639907460-20">end</span><span class="w">
</span><span class="k" data-group-id="1639907460-1">end</span></code></pre><h2 id="performance-considerations" class="section-heading">
  <a href="#performance-considerations" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Performance Considerations</span>
</h2>
<h3 id="short-circuiting" class="section-heading">
  <a href="#short-circuiting" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Short-Circuiting</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># bind chains short-circuit on first Left</span><span class="w">
</span><span class="c1"># This makes error-handling very efficient</span><span class="w">

</span><span class="n">expensive_validation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k" data-group-id="8131285832-1">fn</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
  </span><span class="c1"># This never runs if earlier validation failed</span><span class="w">
  </span><span class="nc">Process</span><span class="o">.</span><span class="n">sleep</span><span class="p" data-group-id="8131285832-2">(</span><span class="mi">1000</span><span class="p" data-group-id="8131285832-2">)</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="8131285832-3">(</span><span class="n">data</span><span class="p" data-group-id="8131285832-3">)</span><span class="w">
</span><span class="k" data-group-id="8131285832-1">end</span><span class="w">

</span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="8131285832-4">(</span><span class="s">&quot;early error&quot;</span><span class="p" data-group-id="8131285832-4">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8131285832-5">(</span><span class="o">&amp;</span><span class="n">some_validation</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8131285832-5">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8131285832-6">(</span><span class="n">expensive_validation</span><span class="p" data-group-id="8131285832-6">)</span><span class="w">      </span><span class="c1"># Never executes</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="8131285832-7">(</span><span class="o">&amp;</span><span class="n">another_validation</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="8131285832-7">)</span><span class="w">
</span><span class="c1"># Result: left(&quot;early error&quot;), computed instantly</span></code></pre><h3 id="memory-usage" class="section-heading">
  <a href="#memory-usage" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Memory Usage</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># Either uses minimal memory overhead</span><span class="w">
</span><span class="c1"># right(value) stores value plus small wrapper</span><span class="w">
</span><span class="c1"># left(error) stores error plus small wrapper</span><span class="w">

</span><span class="c1"># Efficient for error handling</span><span class="w">
</span><span class="n">validation_result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="6924927150-1">%{</span><span class="w">
  </span><span class="ss">user</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6924927150-2">(</span><span class="p" data-group-id="6924927150-3">%</span><span class="nc" data-group-id="6924927150-3">User</span><span class="p" data-group-id="6924927150-3">{</span><span class="ss">id</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="6924927150-3">}</span><span class="p" data-group-id="6924927150-2">)</span><span class="p">,</span><span class="w">    </span><span class="c1"># Small overhead</span><span class="w">
  </span><span class="ss">error</span><span class="p">:</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="6924927150-4">(</span><span class="s">&quot;Validation failed&quot;</span><span class="p" data-group-id="6924927150-4">)</span><span class="w">  </span><span class="c1"># Small overhead</span><span class="w">
</span><span class="p" data-group-id="6924927150-1">}</span></code></pre><h2 id="troubleshooting-common-issues" class="section-heading">
  <a href="#troubleshooting-common-issues" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Troubleshooting Common Issues</span>
</h2>
<h3 id="issue-nested-either-values" class="section-heading">
  <a href="#issue-nested-either-values" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Issue: Nested Either Values</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Problem: Manual nesting creates Either (Either a)</span><span class="w">
</span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="9974022769-1">(</span><span class="n">user_data</span><span class="p" data-group-id="9974022769-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map</span><span class="p" data-group-id="9974022769-2">(</span><span class="o">&amp;</span><span class="n">validate_user</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="9974022769-2">)</span><span class="w">  </span><span class="c1"># validate_user returns Either</span><span class="w">
</span><span class="c1"># Result: Either (Either User) - nested!</span><span class="w">

</span><span class="c1"># ✅ Solution: Use bind for functions that return Either</span><span class="w">
</span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="9974022769-3">(</span><span class="n">user_data</span><span class="p" data-group-id="9974022769-3">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="9974022769-4">(</span><span class="o">&amp;</span><span class="n">validate_user</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="9974022769-4">)</span><span class="w">  </span><span class="c1"># Automatically flattens to Either User</span></code></pre><h3 id="issue-mixing-validation-strategies" class="section-heading">
  <a href="#issue-mixing-validation-strategies" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Issue: Mixing Validation Strategies</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Problem: Inconsistent error handling approach</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">mixed_validation</span><span class="p" data-group-id="1960754760-1">(</span><span class="n">data</span><span class="p" data-group-id="1960754760-1">)</span><span class="w"> </span><span class="k" data-group-id="1960754760-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1960754760-3">(</span><span class="n">data</span><span class="p" data-group-id="1960754760-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="1960754760-4">(</span><span class="o">&amp;</span><span class="n">validate_required_field</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="1960754760-4">)</span><span class="w">    </span><span class="c1"># Stops on first error</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">validate</span><span class="p" data-group-id="1960754760-5">(</span><span class="p" data-group-id="1960754760-6">[</span><span class="o">&amp;</span><span class="n">validate_format</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="1960754760-6">]</span><span class="p" data-group-id="1960754760-5">)</span><span class="w">  </span><span class="c1"># But this tries to collect all</span><span class="w">
</span><span class="k" data-group-id="1960754760-2">end</span><span class="w">

</span><span class="c1"># ✅ Solution: Pick one strategy consistently</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">fail_fast_validation</span><span class="p" data-group-id="1960754760-7">(</span><span class="n">data</span><span class="p" data-group-id="1960754760-7">)</span><span class="w"> </span><span class="k" data-group-id="1960754760-8">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1960754760-9">(</span><span class="n">data</span><span class="p" data-group-id="1960754760-9">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="1960754760-10">(</span><span class="o">&amp;</span><span class="n">validate_required_field</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="1960754760-10">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="1960754760-11">(</span><span class="o">&amp;</span><span class="n">validate_format</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="1960754760-11">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">bind</span><span class="p" data-group-id="1960754760-12">(</span><span class="o">&amp;</span><span class="n">validate_business_rules</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="1960754760-12">)</span><span class="w">
</span><span class="k" data-group-id="1960754760-8">end</span><span class="w">

</span><span class="kd">def</span><span class="w"> </span><span class="nf">collect_all_errors_validation</span><span class="p" data-group-id="1960754760-13">(</span><span class="n">data</span><span class="p" data-group-id="1960754760-13">)</span><span class="w"> </span><span class="k" data-group-id="1960754760-14">do</span><span class="w">
  </span><span class="n">fields</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1960754760-15">[</span><span class="n">data</span><span class="o">.</span><span class="n">field1</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">field2</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">.</span><span class="n">field3</span><span class="p" data-group-id="1960754760-15">]</span><span class="w">
  </span><span class="n">validators</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1960754760-16">[</span><span class="o">&amp;</span><span class="n">validate_field1</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_field2</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">validate_field3</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="1960754760-16">]</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">traverse_a</span><span class="p" data-group-id="1960754760-17">(</span><span class="n">fields</span><span class="p">,</span><span class="w"> </span><span class="n">validators</span><span class="p" data-group-id="1960754760-17">)</span><span class="w">
</span><span class="k" data-group-id="1960754760-14">end</span></code></pre><h3 id="issue-pattern-matching-confusion" class="section-heading">
  <a href="#issue-pattern-matching-confusion" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Issue: Pattern Matching Confusion</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Problem: Imperative pattern matching instead of functional folding</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">either_value</span><span class="w"> </span><span class="k" data-group-id="0100449366-1">do</span><span class="w">
  </span><span class="p" data-group-id="0100449366-2">%</span><span class="nc" data-group-id="0100449366-2">Right</span><span class="p" data-group-id="0100449366-2">{</span><span class="ss">right</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="0100449366-2">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">process_success</span><span class="p" data-group-id="0100449366-3">(</span><span class="n">value</span><span class="p" data-group-id="0100449366-3">)</span><span class="w">
  </span><span class="p" data-group-id="0100449366-4">%</span><span class="nc" data-group-id="0100449366-4">Left</span><span class="p" data-group-id="0100449366-4">{</span><span class="ss">left</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="0100449366-4">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">handle_error</span><span class="p" data-group-id="0100449366-5">(</span><span class="n">error</span><span class="p" data-group-id="0100449366-5">)</span><span class="w">
</span><span class="k" data-group-id="0100449366-1">end</span><span class="w">

</span><span class="c1"># ✅ Solution: Use functional folding instead  </span><span class="w">
</span><span class="n">either_value</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="n">fold_l</span><span class="p" data-group-id="0100449366-6">(</span><span class="w">
  </span><span class="k" data-group-id="0100449366-7">fn</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">process_success</span><span class="p" data-group-id="0100449366-8">(</span><span class="n">value</span><span class="p" data-group-id="0100449366-8">)</span><span class="w"> </span><span class="k" data-group-id="0100449366-7">end</span><span class="p">,</span><span class="w">
  </span><span class="k" data-group-id="0100449366-9">fn</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">handle_error</span><span class="p" data-group-id="0100449366-10">(</span><span class="n">error</span><span class="p" data-group-id="0100449366-10">)</span><span class="w"> </span><span class="k" data-group-id="0100449366-9">end</span><span class="w">
</span><span class="p" data-group-id="0100449366-6">)</span></code></pre><h3 id="issue-over-using-pattern-matching" class="section-heading">
  <a href="#issue-over-using-pattern-matching" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Issue: Over-using Pattern Matching</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Problem: Manual unwrapping defeats the purpose</span><span class="w">
</span><span class="k">case</span><span class="w"> </span><span class="n">either_value</span><span class="w"> </span><span class="k" data-group-id="6722026214-1">do</span><span class="w">
  </span><span class="p" data-group-id="6722026214-2">%</span><span class="nc" data-group-id="6722026214-2">Right</span><span class="p" data-group-id="6722026214-2">{</span><span class="ss">right</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="p" data-group-id="6722026214-2">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">
    </span><span class="n">new_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">transform</span><span class="p" data-group-id="6722026214-3">(</span><span class="n">value</span><span class="p" data-group-id="6722026214-3">)</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="6722026214-4">(</span><span class="n">new_value</span><span class="p" data-group-id="6722026214-4">)</span><span class="w">
  </span><span class="p" data-group-id="6722026214-5">%</span><span class="nc" data-group-id="6722026214-5">Left</span><span class="p" data-group-id="6722026214-5">{</span><span class="ss">left</span><span class="p">:</span><span class="w"> </span><span class="n">error</span><span class="p" data-group-id="6722026214-5">}</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="6722026214-6">(</span><span class="n">error</span><span class="p" data-group-id="6722026214-6">)</span><span class="w">
</span><span class="k" data-group-id="6722026214-1">end</span><span class="w">

</span><span class="c1"># ✅ Solution: Use map to stay in Either context</span><span class="w">
</span><span class="n">either_value</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map</span><span class="p" data-group-id="6722026214-7">(</span><span class="o">&amp;</span><span class="n">transform</span><span class="o">/</span><span class="mi">1</span><span class="p" data-group-id="6722026214-7">)</span></code></pre><h2 id="when-not-to-use-either" class="section-heading">
  <a href="#when-not-to-use-either" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">When Not to Use Either</span>
</h2>
<h3 id="use-maybe-instead-when" class="section-heading">
  <a href="#use-maybe-instead-when" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Use Maybe Instead When</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Either with generic errors loses its advantage</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">find_user</span><span class="p" data-group-id="5660790396-1">(</span><span class="n">id</span><span class="p" data-group-id="5660790396-1">)</span><span class="w"> </span><span class="k" data-group-id="5660790396-2">do</span><span class="w">
  </span><span class="k">case</span><span class="w"> </span><span class="n">get_user</span><span class="p" data-group-id="5660790396-3">(</span><span class="n">id</span><span class="p" data-group-id="5660790396-3">)</span><span class="w"> </span><span class="k" data-group-id="5660790396-4">do</span><span class="w">
    </span><span class="no">nil</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="5660790396-5">(</span><span class="s">&quot;not found&quot;</span><span class="p" data-group-id="5660790396-5">)</span><span class="w">  </span><span class="c1"># Generic error</span><span class="w">
    </span><span class="n">user</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="5660790396-6">(</span><span class="n">user</span><span class="p" data-group-id="5660790396-6">)</span><span class="w">
  </span><span class="k" data-group-id="5660790396-4">end</span><span class="w">
</span><span class="k" data-group-id="5660790396-2">end</span><span class="w">

</span><span class="c1"># ✅ Maybe is simpler for basic presence/absence</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">find_user</span><span class="p" data-group-id="5660790396-7">(</span><span class="n">id</span><span class="p" data-group-id="5660790396-7">)</span><span class="w"> </span><span class="k" data-group-id="5660790396-8">do</span><span class="w">
  </span><span class="k">case</span><span class="w"> </span><span class="n">get_user</span><span class="p" data-group-id="5660790396-9">(</span><span class="n">id</span><span class="p" data-group-id="5660790396-9">)</span><span class="w"> </span><span class="k" data-group-id="5660790396-10">do</span><span class="w">
    </span><span class="no">nil</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Maybe</span><span class="o">.</span><span class="n">nothing</span><span class="p" data-group-id="5660790396-11">(</span><span class="p" data-group-id="5660790396-11">)</span><span class="w">
    </span><span class="n">user</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nc">Maybe</span><span class="o">.</span><span class="n">just</span><span class="p" data-group-id="5660790396-12">(</span><span class="n">user</span><span class="p" data-group-id="5660790396-12">)</span><span class="w">
  </span><span class="k" data-group-id="5660790396-10">end</span><span class="w">
</span><span class="k" data-group-id="5660790396-8">end</span></code></pre><h3 id="use-plain-values-when" class="section-heading">
  <a href="#use-plain-values-when" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Use Plain Values When</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Either overhead for operations that can&#39;t fail</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">calculate_tax</span><span class="p" data-group-id="3649252132-1">(</span><span class="n">amount</span><span class="p" data-group-id="3649252132-1">)</span><span class="w"> </span><span class="k" data-group-id="3649252132-2">do</span><span class="w">
  </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="3649252132-3">(</span><span class="n">amount</span><span class="p" data-group-id="3649252132-3">)</span><span class="w">
  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">map</span><span class="p" data-group-id="3649252132-4">(</span><span class="k" data-group-id="3649252132-5">fn</span><span class="w"> </span><span class="n">amt</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">amt</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.1</span><span class="w"> </span><span class="k" data-group-id="3649252132-5">end</span><span class="p" data-group-id="3649252132-4">)</span><span class="w">
</span><span class="k" data-group-id="3649252132-2">end</span><span class="w">

</span><span class="c1"># ✅ Plain calculation for guaranteed operations</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">calculate_tax</span><span class="p" data-group-id="3649252132-6">(</span><span class="n">amount</span><span class="p" data-group-id="3649252132-6">)</span><span class="w"> </span><span class="k" data-group-id="3649252132-7">do</span><span class="w">
  </span><span class="n">amount</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">0.1</span><span class="w">
</span><span class="k" data-group-id="3649252132-7">end</span></code></pre><h3 id="use-exceptions-when" class="section-heading">
  <a href="#use-exceptions-when" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Use Exceptions When</span>
</h3>
<pre><code class="makeup elixir" translate="no"><span class="c1"># ❌ Either for truly exceptional conditions</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">divide</span><span class="p" data-group-id="1809839652-1">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p" data-group-id="1809839652-1">)</span><span class="w"> </span><span class="k" data-group-id="1809839652-2">do</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="1809839652-3">do</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">left</span><span class="p" data-group-id="1809839652-4">(</span><span class="s">&quot;Division by zero&quot;</span><span class="p" data-group-id="1809839652-4">)</span><span class="w">
  </span><span class="k" data-group-id="1809839652-3">else</span><span class="w">
    </span><span class="nc">Either</span><span class="o">.</span><span class="n">right</span><span class="p" data-group-id="1809839652-5">(</span><span class="n">a</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">b</span><span class="p" data-group-id="1809839652-5">)</span><span class="w">
  </span><span class="k" data-group-id="1809839652-3">end</span><span class="w">
</span><span class="k" data-group-id="1809839652-2">end</span><span class="w">

</span><span class="c1"># ✅ Exception for programmer errors</span><span class="w">
</span><span class="kd">def</span><span class="w"> </span><span class="nf">divide</span><span class="p" data-group-id="1809839652-6">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p" data-group-id="1809839652-6">)</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k" data-group-id="1809839652-7">do</span><span class="w">
  </span><span class="n">a</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">b</span><span class="w">
</span><span class="k" data-group-id="1809839652-7">end</span><span class="w">
</span><span class="c1"># Let it crash on division by zero - it&#39;s a programming error</span></code></pre><h2 id="summary" class="section-heading">
  <a href="#summary" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Summary</span>
</h2>
<p>Either provides error-safe computation with detailed failure context:</p><p><strong>Core Operations:</strong></p><ul><li><code class="inline">right/1</code>: Wrap success values</li><li><code class="inline">left/1</code>: Wrap error values with context</li><li><code class="inline">map/2</code>: Transform success values, preserve errors</li><li><code class="inline">bind/2</code>: Chain Either-returning operations with fail-fast behavior</li><li><code class="inline">ap/2</code>: Apply functions across multiple Either values</li><li><code class="inline">traverse_a/2</code>: Validate with error accumulation</li><li><code class="inline">sequence/1</code>: Convert <code class="inline">[Either e a]</code> to <code class="inline">Either e [a]</code> with fail-fast</li></ul><p><strong>Key Patterns:</strong></p><ul><li>Chain error-prone operations with <code class="inline">bind/2</code> for fail-fast</li><li>Validate multiple fields with <code class="inline">traverse_a/2</code> for error collection</li><li>Transform success values with <code class="inline">map/2</code></li><li>Pattern match for specific error handling and recovery</li><li><p>Convert from {:ok, value} | {:error, reason} tuples</p></li></ul><p><strong>Mathematical Properties:</strong></p><ul><li><strong>Functor</strong>: <code class="inline">map</code> preserves structure (Right-biased)</li><li><strong>Applicative</strong>: <code class="inline">ap</code> applies functions in context (fails if any Left)</li><li><strong>Monad</strong>: <code class="inline">bind</code> enables dependent sequencing with error propagation</li></ul><p>Remember: Either represents &quot;success or detailed failure&quot; - use it when error context matters for debugging, user feedback, or recovery strategies.</p>
</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="monad-usage-rules.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Funx.Monad Usage Rules
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="monad-effect-usage-rules.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Funx.Monad.Effect Usage Rules
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/funx/0.1.6" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/funx/0.1.6">Hex Preview</a>

              (<a href="https://preview.hex.pm/preview/funx/0.1.6/show/lib/monad/either/usage-rules.md">current file</a>)

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="funx.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.34.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
